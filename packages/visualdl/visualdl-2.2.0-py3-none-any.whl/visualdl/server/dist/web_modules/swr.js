import{r as p}from"./common/index-543e083c.js";import"./common/_commonjsHelpers-4f955397.js";var ve=Object.prototype.hasOwnProperty;function ne(i,r){var e,f;if(i===r)return!0;if(i&&r&&(e=i.constructor)===r.constructor){if(e===Date)return i.getTime()===r.getTime();if(e===RegExp)return i.toString()===r.toString();if(e===Array){if((f=i.length)===r.length)for(;f--&&ne(i[f],r[f]););return f===-1}if(!e||typeof i=="object"){f=0;for(e in i)if(ve.call(i,e)&&++f&&!ve.call(r,e)||!(e in r)||!ne(i[e],r[e]))return!1;return Object.keys(r).length===f}}return i!==i&&r!==r}var te=new WeakMap,he=0;function Oe(i){if(!i.length)return"";for(var r="arg",e=0;e<i.length;++e){if(i[e]===null){r+="@null";continue}var f=void 0;typeof i[e]!="object"&&typeof i[e]!="function"?typeof i[e]=="string"?f='"'+i[e]+'"':f=String(i[e]):te.has(i[e])?f=te.get(i[e]):(f=he,te.set(i[e],he++)),r+="@"+f}return r}var Re=function(){function i(r){r===void 0&&(r={}),this.cache=new Map(Object.entries(r)),this.subs=[]}return i.prototype.get=function(r){var e=this.serializeKey(r)[0];return this.cache.get(e)},i.prototype.set=function(r,e){var f=this.serializeKey(r)[0];this.cache.set(f,e),this.notify()},i.prototype.keys=function(){return Array.from(this.cache.keys())},i.prototype.has=function(r){var e=this.serializeKey(r)[0];return this.cache.has(e)},i.prototype.clear=function(){this.cache.clear(),this.notify()},i.prototype.delete=function(r){var e=this.serializeKey(r)[0];this.cache.delete(e),this.notify()},i.prototype.serializeKey=function(r){var e=null;if(typeof r=="function")try{r=r()}catch(t){r=""}Array.isArray(r)?(e=r,r=Oe(r)):r=String(r||"");var f=r?"err@"+r:"",n=r?"validating@"+r:"";return[r,e,f,n]},i.prototype.subscribe=function(r){var e=this;if(typeof r!="function")throw new Error("Expected the listener to be a function.");var f=!0;return this.subs.push(r),function(){if(!!f){f=!1;var n=e.subs.indexOf(r);n>-1&&(e.subs[n]=e.subs[e.subs.length-1],e.subs.length--)}}},i.prototype.notify=function(){for(var r=0,e=this.subs;r<e.length;r++){var f=e[r];f()}},i}(),ie=!0,Ee=function(){return ie},Se=function(){return typeof document!="undefined"&&document.visibilityState!==void 0?document.visibilityState!=="hidden":!0},Ce=function(i){return fetch(i).then(function(r){return r.json()})},Te=function(i){typeof window!="undefined"&&window.addEventListener!==void 0&&typeof document!="undefined"&&document.addEventListener!==void 0&&(document.addEventListener("visibilitychange",function(){return i()},!1),window.addEventListener("focus",function(){return i()},!1))},xe=function(i){typeof window!="undefined"&&window.addEventListener!==void 0&&(window.addEventListener("online",function(){ie=!0,i()},!1),window.addEventListener("offline",function(){return ie=!1},!1))},Ve={isOnline:Ee,isDocumentVisible:Se,fetcher:Ce,registerOnFocus:Te,registerOnReconnect:xe},ue=function(){return ue=Object.assign||function(i){for(var r,e=1,f=arguments.length;e<f;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},ue.apply(this,arguments)},v=new Re;function De(i,r,e,f,n){if(!!e.isDocumentVisible()&&!(typeof e.errorRetryCount=="number"&&n.retryCount>e.errorRetryCount)){var t=Math.min(n.retryCount,8),c=~~((Math.random()+.5)*(1<<t))*e.errorRetryInterval;setTimeout(f,c,n)}}var ye=typeof window!="undefined"&&navigator.connection&&["slow-2g","2g"].indexOf(navigator.connection.effectiveType)!==-1,I=ue({onLoadingSlow:function(){},onSuccess:function(){},onError:function(){},onErrorRetry:De,errorRetryInterval:(ye?10:5)*1e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:(ye?5:3)*1e3,refreshInterval:0,revalidateOnFocus:!0,revalidateOnReconnect:!0,refreshWhenHidden:!1,refreshWhenOffline:!1,shouldRetryOnError:!0,suspense:!1,compare:ne,isPaused:function(){return!1}},Ve),B=typeof window=="undefined"||!!(typeof Deno!="undefined"&&Deno&&Deno.version&&Deno.version.deno),Ie=B?null:window.requestAnimationFrame?function(i){return window.requestAnimationFrame(i)}:function(i){return setTimeout(i,1)},fe=B?p.useEffect:p.useLayoutEffect,J=p.createContext({});J.displayName="SWRConfigContext";var ae=function(i,r,e,f){function n(t){return t instanceof e?t:new e(function(c){c(t)})}return new(e||(e=Promise))(function(t,c){function a(o){try{u(f.next(o))}catch(l){c(l)}}function h(o){try{u(f.throw(o))}catch(l){c(l)}}function u(o){o.done?t(o.value):n(o.value).then(a,h)}u((f=f.apply(i,r||[])).next())})},oe=function(i,r){var e={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,n,t,c;return c={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function a(u){return function(o){return h([u,o])}}function h(u){if(f)throw new TypeError("Generator is already executing.");for(;e;)try{if(f=1,n&&(t=u[0]&2?n.return:u[0]?n.throw||((t=n.return)&&t.call(n),0):n.next)&&!(t=t.call(n,u[1])).done)return t;switch(n=0,t&&(u=[u[0]&2,t.value]),u[0]){case 0:case 1:t=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,n=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(t=e.trys,!(t=t.length>0&&t[t.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!t||u[1]>t[0]&&u[1]<t[3])){e.label=u[1];break}if(u[0]===6&&e.label<t[1]){e.label=t[1],t=u;break}if(t&&e.label<t[2]){e.label=t[2],e.ops.push(u);break}t[2]&&e.ops.pop(),e.trys.pop();continue}u=r.call(i,e)}catch(o){u=[6,o],n=0}finally{f=t=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},b={},P={},ge={},pe={},Q={},N={},X={},se=function(){var i=0;return function(){return++i}}();if(!B){var me=function(i){if(!(!I.isDocumentVisible()||!I.isOnline()))for(var r in i)i[r][0]&&i[r][0]()};typeof I.registerOnFocus=="function"&&I.registerOnFocus(function(){return me(ge)}),typeof I.registerOnReconnect=="function"&&I.registerOnReconnect(function(){return me(pe)})}var Ae=function(i,r){r===void 0&&(r=!0);var e=v.serializeKey(i),f=e[0],n=e[2],t=e[3];if(!f)return Promise.resolve();var c=Q[f];if(f&&c){for(var a=v.get(f),h=v.get(n),u=v.get(t),o=[],l=0;l<c.length;++l)o.push(c[l](r,a,h,u,l>0));return Promise.all(o).then(function(){return v.get(f)})}return Promise.resolve(v.get(f))},ce=function(i,r,e,f){var n=Q[i];if(i&&n)for(var t=0;t<n.length;++t)n[t](!1,r,e,f)},je=function(i,r,e){return e===void 0&&(e=!0),ae(void 0,void 0,void 0,function(){var f,n,t,c,a,h,u,o,l,L,A,F,E;return oe(this,function(w){switch(w.label){case 0:if(f=v.serializeKey(i),n=f[0],t=f[2],!n)return[2];if(typeof r=="undefined")return[2,Ae(i,e)];if(N[n]=se()-1,X[n]=0,c=N[n],a=P[n],o=!1,r&&typeof r=="function")try{r=r(v.get(n))}catch(Y){r=void 0,u=Y}if(!(r&&typeof r.then=="function"))return[3,5];o=!0,w.label=1;case 1:return w.trys.push([1,3,,4]),[4,r];case 2:return h=w.sent(),[3,4];case 3:return l=w.sent(),u=l,[3,4];case 4:return[3,6];case 5:h=r,w.label=6;case 6:if(L=function(){if(c!==N[n]||a!==P[n]){if(u)throw u;return!0}},L())return[2,h];if(typeof h!="undefined"&&v.set(n,h),v.set(t,u),X[n]=se()-1,!o&&L())return[2,h];if(A=Q[n],A){for(F=[],E=0;E<A.length;++E)F.push(A[E](!!e,h,u,void 0,E>0));return[2,Promise.all(F).then(function(){if(u)throw u;return v.get(n)})]}if(u)throw u;return[2,h]}})})};function Me(){for(var i=this,r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var f=r[0],n=Object.assign({},I,p.useContext(J),r.length>2?r[2]:r.length===2&&typeof r[1]=="object"?r[1]:{}),t=r.length>2||r.length===2&&typeof r[1]=="function"||r[1]===null?r[1]:n.fetcher,c=v.serializeKey(f),a=c[0],h=c[1],u=c[2],o=c[3],l=p.useRef(n);fe(function(){l.current=n});var L=function(){return n.revalidateOnMount||!n.initialData&&n.revalidateOnMount===void 0},A=function(){var s=v.get(a);return typeof s=="undefined"?n.initialData:s},F=function(){return!!v.get(o)||a&&L()},E=A(),w=v.get(u),Y=F(),U=p.useRef({data:!1,error:!1,isValidating:!1}),m=p.useRef({data:E,error:w,isValidating:Y});p.useDebugValue(m.current.data);var be=p.useState({})[1],T=p.useCallback(function(s){var y=!1;for(var d in s)m.current[d]!==s[d]&&(m.current[d]=s[d],U.current[d]&&(y=!0));if(y){if(_.current||!z.current)return;be({})}},[]),_=p.useRef(!1),K=p.useRef(a),z=p.useRef(!1),H=p.useCallback(function(s){for(var y,d=[],g=1;g<arguments.length;g++)d[g-1]=arguments[g];_.current||!z.current||a===K.current&&(y=l.current)[s].apply(y,d)},[a]),le=p.useCallback(function(s,y){return je(K.current,s,y)},[]),Z=function(s,y){return s[a]?s[a].push(y):s[a]=[y],function(){var d=s[a],g=d.indexOf(y);g>=0&&(d[g]=d[d.length-1],d.pop())}},S=p.useCallback(function(s){return s===void 0&&(s={}),ae(i,void 0,void 0,function(){var y,d,g,k,W,j,O,D,M,C;return oe(this,function(R){switch(R.label){case 0:if(!a||!t)return[2,!1];if(_.current)return[2,!1];if(l.current.isPaused())return[2,!1];y=s.retryCount,d=y===void 0?0:y,g=s.dedupe,k=g===void 0?!1:g,W=!0,j=typeof b[a]!="undefined"&&k,R.label=1;case 1:return R.trys.push([1,6,,7]),T({isValidating:!0}),v.set(o,!0),j||ce(a,m.current.data,m.current.error,!0),O=void 0,D=void 0,j?(D=P[a],[4,b[a]]):[3,3];case 2:return O=R.sent(),[3,5];case 3:return n.loadingTimeout&&!v.get(a)&&setTimeout(function(){W&&H("onLoadingSlow",a,n)},n.loadingTimeout),h!==null?b[a]=t.apply(void 0,h):b[a]=t(a),P[a]=D=se(),[4,b[a]];case 4:O=R.sent(),setTimeout(function(){delete b[a],delete P[a]},n.dedupingInterval),H("onSuccess",O,a,n),R.label=5;case 5:return P[a]>D?[2,!1]:N[a]&&(D<=N[a]||D<=X[a]||X[a]===0)?(T({isValidating:!1}),[2,!1]):(v.set(u,void 0),v.set(o,!1),M={isValidating:!1},typeof m.current.error!="undefined"&&(M.error=void 0),n.compare(m.current.data,O)||(M.data=O),n.compare(v.get(a),O)||v.set(a,O),T(M),j||ce(a,O,M.error,!1),[3,7]);case 6:return C=R.sent(),delete b[a],delete P[a],l.current.isPaused()?(T({isValidating:!1}),[2,!1]):(v.set(u,C),m.current.error!==C&&(T({isValidating:!1,error:C}),j||ce(a,void 0,C,!1)),H("onError",C,a,n),n.shouldRetryOnError&&H("onErrorRetry",C,a,n,S,{retryCount:d+1,dedupe:!0}),[3,7]);case 7:return W=!1,[2,!0]}})})},[a]);fe(function(){if(!!a){_.current=!1;var s=z.current;z.current=!0;var y=m.current.data,d=A();K.current=a,n.compare(y,d)||T({data:d});var g=function(){return S({dedupe:!0})};(s||L())&&(typeof d!="undefined"&&!B?Ie(g):g());var k=!1,W=function(){k||!l.current.revalidateOnFocus||(k=!0,g(),setTimeout(function(){return k=!1},l.current.focusThrottleInterval))},j=function(){l.current.revalidateOnReconnect&&g()},O=function(R,$,de,ee,re){R===void 0&&(R=!0),re===void 0&&(re=!0);var q={},G=!1;return typeof $!="undefined"&&!n.compare(m.current.data,$)&&(q.data=$,G=!0),m.current.error!==de&&(q.error=de,G=!0),typeof ee!="undefined"&&m.current.isValidating!==ee&&(q.isValidating=ee,G=!0),G&&T(q),R?re?g():S():!1},D=Z(ge,W),M=Z(pe,j),C=Z(Q,O);return function(){T=function(){return null},_.current=!0,D(),M(),C()}}},[a,S]),fe(function(){var s=null,y=function(){return ae(i,void 0,void 0,function(){return oe(this,function(d){switch(d.label){case 0:return!m.current.error&&(l.current.refreshWhenHidden||l.current.isDocumentVisible())&&(l.current.refreshWhenOffline||l.current.isOnline())?[4,S({dedupe:!0})]:[3,2];case 1:d.sent(),d.label=2;case 2:return l.current.refreshInterval&&s&&(s=setTimeout(y,l.current.refreshInterval)),[2]}})})};return l.current.refreshInterval&&(s=setTimeout(y,l.current.refreshInterval)),function(){s&&(clearTimeout(s),s=null)}},[n.refreshInterval,n.refreshWhenHidden,n.refreshWhenOffline,S]);var x,V;if(n.suspense){if(x=v.get(a),V=v.get(u),typeof x=="undefined"&&(x=E),typeof V=="undefined"&&(V=w),typeof x=="undefined"&&typeof V=="undefined"){if(b[a]||S(),b[a]&&typeof b[a].then=="function")throw b[a];x=b[a]}if(typeof x=="undefined"&&V)throw V}var we=p.useMemo(function(){var s={revalidate:S,mutate:le};return Object.defineProperties(s,{error:{get:function(){return U.current.error=!0,n.suspense?V:K.current===a?m.current.error:w},enumerable:!0},data:{get:function(){return U.current.data=!0,n.suspense?x:K.current===a?m.current.data:E},enumerable:!0},isValidating:{get:function(){return U.current.isValidating=!0,a?m.current.isValidating:!1},enumerable:!0}}),s},[S,E,w,le,a,n.suspense,V,x]);return we}Object.defineProperty(J.Provider,"default",{value:I});var Pe=J.Provider;export default Me;export{Pe as SWRConfig,v as cache};
