(()=>{var W,Q={63332:(x,k,g)=>{var a=g(32845),u=u||{};u.Archive=class{constructor(t){if(this._entries=[],t.length<18||t[0]!=31||t[1]!=139)throw new u.Error("Invalid gzip archive.");const n=new u.Reader(t,0,t.length);this._entries.push(new u.Entry(n))}get entries(){return this._entries}},u.Entry=class{constructor(t){if(!t.match([31,139]))throw new u.Error("Invalid gzip signature.");const n=t.byte();if(n!=8)throw new u.Error("Invalid compression method '"+n.toString()+"'.");const e=t.byte();if(t.uint32(),t.byte(),t.byte(),(4&e)!=0){const i=t.uint16();t.skip(i)}(8&e)!=0&&(this._name=t.string()),(16&e)!=0&&t.string(),(1&e)!=0&&t.uint16();const s=t.bytes();if(typeof process=="object"&&typeof process.versions=="object"&&process.versions.node!==void 0?this._data=g(83260).inflateRawSync(s):this._data=a!==void 0?a.inflateRaw(s):new g(71681).Inflater().inflateRaw(s),t.position=-8,t.uint32(),t.uint32()!=this._data.length)throw new u.Error("Invalid size.")}get name(){return this._name}get data(){return this._data}},u.Reader=class{constructor(t,n,e){this._buffer=t,this._position=n,this._end=e}match(t){if(this._position+t.length<=this._end){for(let n=0;n<t.length;n++)if(this._buffer[this._position+n]!=t[n])return!1}return this._position+=t.length,!0}get position(){return this._position}set position(t){this._position=t>=0?t:this._end+t}skip(t){if(this._position+t>this._end)throw new u.Error("Data not available.");this._position+=t}bytes(t){if(this._position+t>this._end)throw new u.Error("Data not available.");t=t===void 0?this._end:t;const n=this._buffer.subarray(this._position,this._position+t);return this._position+=t,n}byte(){if(this._position+1>this._end)throw new u.Error("Data not available.");const t=this._buffer[this._position];return this._position++,t}uint16(){if(this._position+2>this._end)throw new u.Error("Data not available.");const t=this._buffer[this._position]|this._buffer[this._position+1]<<8;return this._position+=2,t}uint32(){return this.uint16()|this.uint16()<<16}string(){let t="";const n=this._buffer.indexOf(0,this._position);if(n<0)throw new u.Error("End of string not found.");for(;this._position<n;)t+=String.fromCharCode(this._buffer[this._position++]);return this._position++,t}},u.Error=class extends Error{constructor(t){super(t),this.name="Gzip Error"}},typeof x.exports=="object"&&(x.exports.Archive=u.Archive)},81600:(x,k,g)=>{var a=a||{},u=u||{Long:g(27808)};a.get=t=>(a._map=a._map||new Map,a._map.has(t)||a._map.set(t,{}),a._map.get(t)),a.Reader=class{constructor(t){this._buffer=t,this._length=t.length,this._position=0,this._dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),this._decoder=new TextDecoder("utf-8")}static create(t){return new a.Reader(t)}next(t){return t===void 0?this._length:this._position+t}end(t){return this._position<t}get pos(){return this._position}string(){return this._decoder.decode(this.bytes())}bool(){return this.uint32()!==0}bytes(){const t=this.uint32(),n=this._position,e=this._position+t;if(e>this._length)throw this._indexOutOfRangeError(t);return this._position+=t,this._buffer.slice(n,e)}uint32(){let t=4294967295;if(t=(127&this._buffer[this._position])>>>0,this._buffer[this._position++]<128||(t=(t|(127&this._buffer[this._position])<<7)>>>0,this._buffer[this._position++]<128)||(t=(t|(127&this._buffer[this._position])<<14)>>>0,this._buffer[this._position++]<128)||(t=(t|(127&this._buffer[this._position])<<21)>>>0,this._buffer[this._position++]<128)||(t=(t|(15&this._buffer[this._position])<<28)>>>0,this._buffer[this._position++]<128))return t;if((this._position+=5)>this._length)throw this._position=this._length,this._indexOutOfRangeError(10);return t}int32(){return 0|this.uint32()}sint32(){const t=this.uint32();return t>>>1^-(1&t)|0}int64(){return this._readLongVarint().toLong(!1)}uint64(){return this._readLongVarint().toLong(!0)}sint64(){return this._readLongVarint().zzDecode().toLong(!1)}fixed64(){return this._readFixed64().toLong(!0)}sfixed64(){return this._readFixed64().toLong(!1)}fixed32(){if(this._position+4>this._length)throw this._indexOutOfRangeError(4);return this._position+=4,this._readFixed32()}sfixed32(){return 0|this.fixed32()}float(){if(this._position+4>this._length)throw this._indexOutOfRangeError(4);const t=this._position;return this._position+=4,this._dataView.getFloat32(t,!0)}double(){if(this._position+8>this._length)throw this._indexOutOfRangeError(4);const t=this._position;return this._position+=8,this._dataView.getFloat64(t,!0)}array(t,n,e){if((7&e)==2){const s=this.uint32()+this._position;for(;this._position<s;)t.push(n())}else t.push(n());return t}floats(t,n){if((7&n)==2){if(t&&t.length>0)throw new a.Error("Invalid packed float array.");const e=this.uint32(),s=this._position+e,i=e>>>2;t=e>1048576?new Float32Array(i):new Array(i);let r=this._position;for(let l=0;l<i;l++)t[l]=this._dataView.getFloat32(r,!0),r+=4;this._position=s}else t!==void 0&&t.length<1e6?t.push(this.float()):(t=void 0,this.float());return t}doubles(t,n){if((7&n)==2){if(t&&t.length>0)throw new a.Error("Invalid packed float array.");const e=this.uint32(),s=this._position+e,i=e>>>3;t=e>1048576?new Float64Array(i):new Array(i);let r=this._position;for(let l=0;l<i;l++)t[l]=this._dataView.getFloat64(r,!0),r+=8;this._position=s}else t!==void 0&&t.length<1e6?t.push(this.double()):(t=void 0,this.double());return t}skip(t){if(typeof t=="number"){if(this._position+t>this._length)throw this._indexOutOfRangeError(t);this._position+=t}else do if(this._position>=this._length)throw this._indexOutOfRangeError();while(128&this._buffer[this._position++]);return this}skipType(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(t=7&this.uint32())!=4;)this.skipType(t);break;case 5:this.skip(4);break;default:throw new a.Error("invalid wire type "+t+" at offset "+this._position)}}pair(t,n,e){this.skip(),this._position++;const s=typeof n=="object"?a.LongBits.hash(n()):n();this._position++;const i=e();t[s]=i}_readFixed32(){return(this._buffer[this._position-4]|this._buffer[this._position-3]<<8|this._buffer[this._position-2]<<16|this._buffer[this._position-1]<<24)>>>0}_readFixed64(){if(this._position+8>this._length)throw this._indexOutOfRangeError(8);this._position+=4;const t=this._readFixed32();this._position+=4;const n=this._readFixed32();return new a.LongBits(t,n)}_readLongVarint(){const t=new a.LongBits(0,0);let n=0;if(!(this._length-this._position>4)){for(;n<3;++n){if(this._position>=this._length)throw this._indexOutOfRangeError();if(t.lo=(t.lo|(127&this._buffer[this._position])<<7*n)>>>0,this._buffer[this._position++]<128)return t}return t.lo=(t.lo|(127&this._buffer[this._position++])<<7*n)>>>0,t}for(;n<4;++n)if(t.lo=(t.lo|(127&this._buffer[this._position])<<7*n)>>>0,this._buffer[this._position++]<128)return t;if(t.lo=(t.lo|(127&this._buffer[this._position])<<28)>>>0,t.hi=(t.hi|(127&this._buffer[this._position])>>4)>>>0,this._buffer[this._position++]<128)return t;if(n=0,this._length-this._position>4){for(;n<5;++n)if(t.hi=(t.hi|(127&this._buffer[this._position])<<7*n+3)>>>0,this._buffer[this._position++]<128)return t}else for(;n<5;++n){if(this._position>=this._length)throw this._indexOutOfRangeError();if(t.hi=(t.hi|(127&this._buffer[this._position])<<7*n+3)>>>0,this._buffer[this._position++]<128)return t}throw new a.Error("Invalid varint encoding.")}_indexOutOfRangeError(t){return RangeError("index out of range: "+this._position+" + "+(t||1)+" > "+this._length)}},a.TextReader=class{constructor(t){this._text=t,this._position=0,this._lineEnd=-1,this._lineStart=0,this._line=-1,this._depth=0,this._arrayDepth=0,this._token=""}static create(t){return new a.TextReader(t)}start(){this._depth>0&&this.expect("{"),this._depth++}end(){const t=this.peek();return this._depth>0&&t==="}"?(this.expect("}"),this.match(";"),this._depth--,!0):t===""}tag(){const t=this.read(),n=this.peek();return n!=="["&&n!=="{"&&this.expect(":"),t}assert(t){const n=this.tag();if(n!==t)throw new a.Error("Unexpected '"+n+"' instead of '"+t+"'"+this.location())}integer(){const t=this.read(),n=Number.parseInt(t,10);if(Number.isNaN(t-n))throw new a.Error("Couldn't parse integer '"+t+"'"+this.location());return this.semicolon(),n}float(){let t=this.read();if(t.startsWith("nan"))return NaN;if(t.startsWith("inf"))return 1/0;if(t.startsWith("-inf"))return-1/0;t.endsWith("f")&&(t=t.substring(0,t.length-1));const n=Number.parseFloat(t);if(Number.isNaN(t-n))throw new a.Error("Couldn't parse float '"+t+"'"+this.location());return this.semicolon(),n}string(){const t=this.read();if(t.length<2)throw new a.Error("String is too short"+this.location());const n=t[0];if(n!=="'"&&n!=='"')throw new a.Error("String is not in quotes"+this.location());if(n!==t[t.length-1])throw new a.Error("String quotes do not match"+this.location());const e=t.substring(1,t.length-1);return this.semicolon(),e}boolean(){const t=this.read();switch(t){case"true":case"True":case"1":return this.semicolon(),!0;case"false":case"False":case"0":return this.semicolon(),!1}throw new a.Error("Couldn't parse boolean '"+t+"'"+this.location())}bytes(){const t=this.string();let n=0,e=0;const s=t.length,i=new Uint8Array(s);for(;n<s;){let r=t.charCodeAt(n++);if(r!==92)i[e++]=r;else{if(n>=s)throw new a.Error("Unexpected end of bytes string"+this.location());switch(r=t.charCodeAt(n++),r){case 39:i[e++]=39;break;case 92:i[e++]=92;break;case 34:i[e++]=34;break;case 114:i[e++]=13;break;case 110:i[e++]=10;break;case 116:i[e++]=9;break;case 98:i[e++]=8;break;case 88:case 120:for(let l=0;l<2;l++){if(n>=s)throw new a.Error("Unexpected end of bytes string"+this.location());let h=t.charCodeAt(n++);if(h=h>=65&&h<=70?h-55:h>=97&&h<=102?h-87:h>=48&&h<=57?h-48:-1,h===-1)throw new a.Error("Unexpected hex digit '"+h+"' in bytes string"+this.location());i[e]=i[e]<<4|h}e++;break;default:if(r<48||r>57)throw new a.Error("Unexpected character '"+r+"' in bytes string"+this.location());n--;for(let l=0;l<3;l++){if(n>=s)throw new a.Error("Unexpected end of bytes string"+this.location());const h=t.charCodeAt(n++);if(h<48||h>57)throw new a.Error("Unexpected octal digit '"+h+"' in bytes string"+this.location());i[e]=i[e]<<3|h-48}e++}}}return i.slice(0,e)}enum(t){const n=this.read();if(!Object.prototype.hasOwnProperty.call(t,n)){const e=Number.parseInt(n,10);if(!Number.isNaN(n-e))return this.semicolon(),e;throw new a.Error("Couldn't parse enum '"+n+"'"+this.location())}return this.semicolon(),t[n]}any(t){if(this.match("[")){this.read();const n=this._position,e=this._text.indexOf("]",n);if(e===-1||e>=this.next)throw new a.Error("End of Any type_url not found"+this.location());return t.type_url=this._text.substring(n,e),this._position=e+1,t.value=this.skip().substring(1),this.expect("}"),this.match(";"),!0}return!1}pair(t,n,e){let s,i;for(this.start();!this.end();)switch(this.tag()){case"key":s=n();break;case"value":i=e()}t[s]=i}array(t,n){if(this.first())for(;!this.last();)t.push(n()),this.next();else t.push(n())}first(){return!!this.match("[")&&(this._arrayDepth++,!0)}last(){return!!this.match("]")&&(this._arrayDepth--,!0)}next(){const t=this.peek();t!==","?t!=="]"&&this.handle(t):this.read()}skip(){let t=this.peek();if(t==="{"){const e=this._position,s=this._depth;for(this.start();!this.end()||s<this._depth;)t=this.peek(),t==="{"?this.start():t!=="}"&&(this.read(),this.match(";"));return this._text.substring(e,this._position)}if(t==="["){const e=this._position;for(this.read();!this.last();)t=this.read(),t===""&&this.handle(t);return this._text.substring(e,this._position)}const n=this._position;return this.read(),this.semicolon(),this._text.substring(n,this._position)}handle(t){throw new a.Error("Unexpected token '"+t+"'"+this.location())}field(t){throw new a.Error("Unknown field '"+t+"'"+this.location())}whitespace(){for(;;){for(;this._position>=this._lineEnd;){if(this._lineStart=this._lineEnd+1,this._position=this._lineStart,this._position>=this._text.length)return!1;this._lineEnd=this._text.indexOf(`
`,this._position),this._lineEnd===-1&&(this._lineEnd=this._text.length),this._line++}switch(this._text[this._position]){case" ":case"\r":case"	":this._position++;break;case"#":this._position=this._lineEnd;break;default:return!0}}}tokenize(){if(!this.whitespace())return this._token="",this._token;let t=this._text[this._position];if(t==="["&&this._position+2<this._lineEnd){let e=this._position+1,s=this._text[e];if(s>="a"&&s<="z"||s>="A"&&s<="Z"){for(e++;e<this._lineEnd;)if(s=this._text[e],e++,!(s>="a"&&s<="z"||s>="A"&&s<="Z"||s>="0"&&s<="9"||s==="."||s==="/")&&s==="]")return this._token=this._text.substring(this._position,e),this._token}}if(t==="{"||t==="}"||t===":"||t==="["||t===","||t==="]"||t===";")return this._token=t,this._token;let n=this._position+1;if(t>="a"&&t<="z"||t>="A"&&t<="Z"||t==="_"||t==="$"){for(;n<this._lineEnd&&(t=this._text[n],t>="a"&&t<="z"||t>="A"&&t<="Z"||t>="0"&&t<="9"||t==="_"||t==="+"||t==="-");)n++;return this._token=this._text.substring(this._position,n),this._token}if(t>="0"&&t<="9"||t==="-"||t==="+"||t==="."){for(;n<this._lineEnd&&(t=this._text[n],t>="a"&&t<="z"||t>="A"&&t<="Z"||t>="0"&&t<="9"||t==="_"||t==="+"||t==="-"||t===".");)n++;return this._token=this._text.substring(this._position,n),this._token}if(t==='"'||t==="'"){const e=t;for(;n<this._lineEnd;)if(t=this._text[n],t==="\\"&&n<this._lineEnd)n+=2;else if(n++,t===e)break;return this._token=this._text.substring(this._position,n),this._token}throw new a.Error("Unexpected token '"+t+"'"+this.location())}peek(){return this._cache||(this._token=this.tokenize(),this._cache=!0),this._token}read(){return this._cache||(this._token=this.tokenize()),this._position+=this._token.length,this._cache=!1,this._token}expect(t){const n=this.read();if(n!==t)throw new a.Error("Unexpected '"+n+"' instead of '"+t+"'"+this.location())}match(t){return this.peek()===t&&(this.read(),!0)}semicolon(){this._arrayDepth===0&&this.match(";")}location(){return" at "+(this._line+1).toString()+":"+(this._position-this._lineStart+1).toString()}},a.Long=u.Long,a.LongBits=class{constructor(t,n){this.lo=t>>>0,this.hi=n>>>0}toLong(t){return a.Long?new a.Long(0|this.lo,0|this.hi,t):{low:0|this.lo,high:0|this.hi,unsigned:t}}toNumber(t){if(!t&&this.hi>>>31){const n=1+~this.lo>>>0;let e=~this.hi>>>0;return n||(e=e+1>>>0),-(n+4294967296*e)}return this.lo+4294967296*this.hi}toHash(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)}zzDecode(){const t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this}from(t){if(typeof t=="number")return a.LongBits.fromNumber(t);if(typeof t=="string"||t instanceof String){if(!a.Long)return a.LongBits.fromNumber(parseInt(t,10));t=a.Long.fromString(t)}return t.low||t.high?new a.LongBits(t.low>>>0,t.high>>>0):a.LongBits.zero}hash(t){return t?a.LongBits.from(t).toHash():"\0\0\0\0\0\0\0\0"}},a.LongBits.zero=new a.LongBits(0,0),a.LongBits.zero.toNumber=function(){return 0},a.LongBits.zero.zzDecode=function(){return this},a.Error=class extends Error{constructor(t){super(t),this.name="Protocol Buffer Error",this.message=t}},typeof x.exports=="object"&&(x.exports.Reader=a.Reader,x.exports.TextReader=a.TextReader,x.exports.Error=a.Error,x.exports.Long=a.Long,x.exports.get=a.get)},499:x=>{var k=k||{};k.Archive=class{constructor(g){this._entries=[];const a=new k.Reader(g,0,g.length);for(;a.peek()&&(this._entries.push(new k.Entry(a)),!a.match(512,0)););}get entries(){return this._entries}},k.Entry=class{constructor(g){const a=g.bytes(512);g.skip(-512);let u=0;for(let e=0;e<a.length;e++)u+=e>=148&&e<156?32:a[e];this._name=g.string(100),g.string(8),g.string(8),g.string(8);const t=parseInt(g.string(12).trim(),8);g.string(12);const n=parseInt(g.string(8).trim(),8);if(isNaN(n)||u!=n)throw new k.Error("Invalid tar archive.");g.string(1),g.string(100),g.bytes(255),this._data=g.bytes(t),g.bytes(t%512!=0?512-t%512:0)}get name(){return this._name}get data(){return this._data}},k.Reader=class{constructor(g){this._buffer=g,this._position=0,this._end=g.length}skip(g){if(this._position+=g,this._position>this._buffer.length)throw new k.Error("Expected "+(this._position-this._buffer.length)+" more bytes. The file might be corrupted. Unexpected end of file.")}peek(){return this._position<this._end}match(g,a){return!!(this._position+g<=this._end&&this._buffer.subarray(this._position,this._position+g).every(u=>u==a))&&(this._position+=g,!0)}bytes(g){const a=this._position;return this.skip(g),this._buffer.subarray(a,this._position)}string(g){const a=this.bytes(g);let u=0,t="";for(let n=0;n<g;n++){const e=a[u++];if(e==0)break;t+=String.fromCharCode(e)}return t}},k.Error=class extends Error{constructor(g){super(g),this.name="tar Error"}},typeof x.exports=="object"&&(x.exports.Archive=k.Archive)},19684:(x,k,g)=>{var a=a||{},u=u||g(46506);a.Renderer=class{constructor(e,s){this._document=e,this._svgElement=s}render(e){const s=this.createElement("g");s.setAttribute("id","clusters"),s.setAttribute("class","clusters"),this._svgElement.appendChild(s);const i=this.createElement("g");i.setAttribute("id","edge-paths"),i.setAttribute("class","edge-paths"),this._svgElement.appendChild(i);const r=this.createElement("g");r.setAttribute("id","edge-labels"),r.setAttribute("class","edge-labels"),this._svgElement.appendChild(r);const l=this.createElement("g");l.setAttribute("id","nodes"),l.setAttribute("class","nodes"),this._svgElement.appendChild(l);for(const b of e.nodes())if(e.children(b).length==0){const o=e.node(b),p=this.createElement("g");o.id&&p.setAttribute("id",o.id),p.setAttribute("class",Object.prototype.hasOwnProperty.call(o,"class")?"node "+o.class:"node"),p.style.opacity=0;const c=this.createElement("g");c.appendChild(o.label),p.appendChild(c),l.appendChild(p);const _=o.label.getBBox(),w=-_.width/2,m=-_.height/2;c.setAttribute("transform","translate("+w+","+m+")"),o.width=_.width,o.height=_.height,o.element=p}for(const b of e.edges()){const o=e.edge(b);if(o.label){const p=this.createElement("tspan");p.setAttribute("xml:space","preserve"),p.setAttribute("dy","1em"),p.setAttribute("x","1"),p.appendChild(this._document.createTextNode(o.label));const c=this.createElement("text");c.appendChild(p);const _=this.createElement("g");_.appendChild(c);const w=this.createElement("g");w.style.opacity=0,w.setAttribute("class","edge-label"),w.appendChild(_),r.appendChild(w);const m=_.getBBox(),y=-m.width/2,v=-m.height/2;_.setAttribute("transform","translate("+y+","+v+")"),o.width=m.width,o.height=m.height,o.labelElement=w}}u.layout(e);for(const b of e.nodes())if(e.children(b).length==0){const o=e.node(b);o.element.setAttribute("transform","translate("+o.x+","+o.y+")"),o.element.style.opacity=1,delete o.element}for(const b of e.edges()){const o=e.edge(b);o.labelElement&&(o.labelElement.setAttribute("transform","translate("+o.x+","+o.y+")"),o.labelElement.style.opacity=1,delete o.labelElement)}const h=this.createElement("defs");i.appendChild(h);const d=this.createElement("marker");d.setAttribute("id","arrowhead-vee"),d.setAttribute("viewBox","0 0 10 10"),d.setAttribute("refX",9),d.setAttribute("refY",5),d.setAttribute("markerUnits","strokeWidth"),d.setAttribute("markerWidth",8),d.setAttribute("markerHeight",6),d.setAttribute("orient","auto"),h.appendChild(d);const f=this.createElement("path");f.setAttribute("d","M 0 0 L 10 5 L 0 10 L 4 5 z"),f.style.setProperty("stroke-width",1),f.style.setProperty("stroke-dasharray","1,0"),d.appendChild(f);for(const b of e.edges()){const o=e.edge(b),p=a.Renderer._computeCurvePath(o,e.node(b.v),e.node(b.w)),c=this.createElement("path");c.setAttribute("class",Object.prototype.hasOwnProperty.call(o,"class")?"edge-path "+o.class:"edge-path"),c.setAttribute("d",p),c.setAttribute("marker-end","url(#arrowhead-vee)"),o.id&&c.setAttribute("id",o.id),i.appendChild(c)}for(const b of e.nodes())if(e.children(b).length>0){const o=e.node(b),p=this.createElement("g");p.setAttribute("class","cluster"),p.setAttribute("transform","translate("+o.x+","+o.y+")");const c=this.createElement("rect");c.setAttribute("x",-o.width/2),c.setAttribute("y",-o.height/2),c.setAttribute("width",o.width),c.setAttribute("height",o.height),o.rx&&c.setAttribute("rx",o.rx),o.ry&&c.setAttribute("ry",o.ry),p.appendChild(c),s.appendChild(p)}}createElement(e){return this._document.createElementNS("http://www.w3.org/2000/svg",e)}static _computeCurvePath(e,s,i){const r=e.points.slice(1,e.points.length-1);r.unshift(a.Renderer.intersectRect(s,r[0])),r.push(a.Renderer.intersectRect(i,r[r.length-1]));const l=new t,h=new n(l);for(let d=0;d<r.length;d++){const f=r[d];d==0&&h.lineStart(),h.point(f.x,f.y),d==r.length-1&&h.lineEnd()}return l.data}static intersectRect(e,s){const i=e.x,r=e.y,l=s.x-i,h=s.y-r;let d,f,b=e.width/2,o=e.height/2;return Math.abs(h)*b>Math.abs(l)*o?(h<0&&(o=-o),d=h===0?0:o*l/h,f=o):(l<0&&(b=-b),d=b,f=l===0?0:b*h/l),{x:i+d,y:r+f}}},a.NodeElement=class{constructor(e){this._document=e,this._blocks=[]}block(e){switch(this._block=null,e){case"header":this._block=new a.NodeElement.Header(this._document);break;case"list":this._block=new a.NodeElement.List(this._document)}return this._blocks.push(this._block),this._block}format(e){const s=this.createElement("g");e.appendChild(s);let i=0,r=0;const l=[];for(const d of this._blocks)l.push(r),d.layout(s),i<d.width&&(i=d.width),r+=d.height;for(let d=0;d<this._blocks.length;d++){const f=l.shift();this._blocks[d].update(s,f,i,d==0,d==this._blocks.length-1)}const h=this.createElement("path");return h.setAttribute("class",["node","border"].join(" ")),h.setAttribute("d",a.NodeElement.roundedRect(0,0,i,r,!0,!0,!0,!0)),s.appendChild(h),e.innerHTML="",s}static roundedRect(e,s,i,r,l,h,d,f){return"M"+(e+(l=l?5:0))+","+s+"h"+(i-l-(h=h?5:0))+"a"+h+","+h+" 0 0 1 "+h+","+h+"v"+(r-h-(d=d?5:0))+"a"+d+","+d+" 0 0 1 "+-d+","+d+"h"+(d+(f=f?5:0)-i)+"a"+f+","+f+" 0 0 1 "+-f+","+-f+"v"+(-r+f+l)+"a"+l+","+l+" 0 0 1 "+l+","+-l+"z"}createElement(e){return this._document.createElementNS("http://www.w3.org/2000/svg",e)}},a.NodeElement.Header=class{constructor(e){this._document=e,this._items=[]}add(e,s,i,r,l){this._items.push({id:e,classList:s,content:i,tooltip:r,handler:l})}layout(e){this._width=0,this._height=0,this._elements=[];let s=0;for(const i of this._items){const r=4,l=7,h=this.createElement("g");let d=["node-item"];e.appendChild(h);const f=this.createElement("path"),b=this.createElement("text");if(h.appendChild(f),h.appendChild(b),i.classList&&(d=d.concat(i.classList)),h.setAttribute("class",d.join(" ")),i.id&&h.setAttribute("id",i.id),i.handler&&h.addEventListener("click",i.handler),i.tooltip){const _=this.createElement("title");_.textContent=i.tooltip,h.appendChild(_)}i.content&&(b.textContent=i.content);const o=b.getBBox(),p=o.width+l+l,c=o.height+r+r;this._elements.push({group:h,text:b,path:f,x:s,y:0,width:p,height:c,tx:l,ty:r-o.y}),s+=p,this._height<c&&(this._height=c),s>this._width&&(this._width=s)}}get width(){return this._width}get height(){return this._height}update(e,s,i,r,l){const h=i-this._width;let d,f,b;for(d=0;d<this._elements.length;d++)f=this._elements[d],d==0?f.width=f.width+h:(f.x=f.x+h,f.tx=f.tx+h),f.y=f.y+s;for(d=0;d<this._elements.length;d++){f=this._elements[d],f.group.setAttribute("transform","translate("+f.x+","+f.y+")");const o=d==0&&r,p=d==this._elements.length-1&&r,c=d==this._elements.length-1&&l,_=d==0&&l;f.path.setAttribute("d",a.NodeElement.roundedRect(0,0,f.width,f.height,o,p,c,_)),f.text.setAttribute("x",6),f.text.setAttribute("y",f.ty)}for(d=0;d<this._elements.length;d++)f=this._elements[d],d!=0&&(b=this.createElement("line"),b.setAttribute("class","node"),b.setAttribute("x1",f.x),b.setAttribute("x2",f.x),b.setAttribute("y1",s),b.setAttribute("y2",s+this._height),e.appendChild(b));r||(b=this.createElement("line"),b.setAttribute("class","node"),b.setAttribute("x1",0),b.setAttribute("x2",i),b.setAttribute("y1",s),b.setAttribute("y2",s),e.appendChild(b))}createElement(e){return this._document.createElementNS("http://www.w3.org/2000/svg",e)}},a.NodeElement.List=class{constructor(e){this._document=e,this._items=[]}add(e,s,i,r,l){this._items.push({id:e,name:s,value:i,tooltip:r,separator:l})}get handler(){return this._handler}set handler(e){this._handler=e}layout(e){this._width=0,this._height=0,this._element=this.createElement("g"),this._element.setAttribute("class","node-attribute"),e.appendChild(this._element),this._handler&&this._element.addEventListener("click",this._handler),this._backgroundElement=this.createElement("path"),this._element.appendChild(this._backgroundElement),this._element.setAttribute("transform","translate(0,0)"),this._height+=3;for(const s of this._items){const i=1,r=6,l=this.createElement("text");if(s.id&&l.setAttribute("id",s.id),l.setAttribute("xml:space","preserve"),this._element.appendChild(l),s.tooltip){const o=this.createElement("title");o.textContent=s.tooltip,l.appendChild(o)}const h=this.createElement("tspan");h.textContent=s.name,s.separator.trim()!="="&&(h.style.fontWeight="bold"),l.appendChild(h);const d=this.createElement("tspan");d.textContent=s.separator+s.value,l.appendChild(d);const f=l.getBBox(),b=r+f.width+r;this._width<b&&(this._width=b),l.setAttribute("x",0+r),l.setAttribute("y",this._height+i-f.y),this._height+=i+f.height+i}this._height+=3,this._width<100&&(this._width=100)}get width(){return this._width}get height(){return this._height}update(e,s,i,r,l){this._element.setAttribute("transform","translate(0,"+s+")");const h=r,d=r,f=l,b=l;if(this._backgroundElement.setAttribute("d",a.NodeElement.roundedRect(0,0,i,this._height,h,d,f,b)),!r){const o=this.createElement("line");o.setAttribute("class","node"),o.setAttribute("x1",0),o.setAttribute("x2",i),o.setAttribute("y1",0),o.setAttribute("y2",0),this._element.appendChild(o)}}createElement(e){return this._document.createElementNS("http://www.w3.org/2000/svg",e)}};class t{constructor(){this._x0=null,this._y0=null,this._x1=null,this._y1=null,this._data=""}moveTo(s,i){this._data+="M"+(this._x0=this._x1=+s)+","+(this._y0=this._y1=+i)}lineTo(s,i){this._data+="L"+(this._x1=+s)+","+(this._y1=+i)}bezierCurveTo(s,i,r,l,h,d){this._data+="C"+ +s+","+ +i+","+ +r+","+ +l+","+(this._x1=+h)+","+(this._y1=+d)}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._data+="Z")}get data(){return this._data}}class n{constructor(s){this._context=s}lineStart(){this._x0=NaN,this._x1=NaN,this._y0=NaN,this._y1=NaN,this._point=0}lineEnd(){switch(this._point){case 3:this.curve(this._x1,this._y1),this._context.lineTo(this._x1,this._y1);break;case 2:this._context.lineTo(this._x1,this._y1)}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(s,i){switch(s=+s,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(s,i):this._context.moveTo(s,i);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6),this.curve(s,i);break;default:this.curve(s,i)}this._x0=this._x1,this._x1=s,this._y0=this._y1,this._y1=i}curve(s,i){this._context.bezierCurveTo((2*this._x0+this._x1)/3,(2*this._y0+this._y1)/3,(this._x0+2*this._x1)/3,(this._y0+2*this._y1)/3,(this._x0+4*this._x1+s)/6,(this._y0+4*this._y1+i)/6)}}typeof x.exports=="object"&&(x.exports.Renderer=a.Renderer,x.exports.NodeElement=a.NodeElement)},71681:(x,k,g)=>{var a=g(32845),u=u||{};u.Archive=class{constructor(t){if(this._entries=[],t.length<4||t[0]!=80||t[1]!=75)throw new u.Error("Invalid Zip archive.");let n=null;for(let e=t.length-4;e>=0;e--)if(t[e]===80&&t[e+1]===75&&t[e+2]===5&&t[e+3]===6){n=new u.Reader(t,e+4,t.length);break}if(!n)throw new u.Error("End of central directory not found.");for(n.skip(12),n.position=n.uint32();n.match([80,75,1,2]);)this._entries.push(new u.Entry(n))}get entries(){return this._entries}},u.Entry=class{constructor(t){if(t.uint16(),t.skip(2),this._flags=t.uint16(),(1&this._flags)==1)throw new u.Error("Encrypted entries not supported.");this._compressionMethod=t.uint16(),t.uint32(),t.uint32(),this._compressedSize=t.uint32(),this._size=t.uint32();let n=t.uint16(),e=t.uint16();const s=t.uint16();t.uint16(),t.uint16(),t.uint32();const i=t.uint32();t.skip(n),t.skip(e),t.bytes(s);const r=t.position;if(t.position=i,!t.match([80,75,3,4]))throw new u.Error("Invalid local file header signature.");t.skip(22),n=t.uint16(),e=t.uint16();const l=t.bytes(n);this._name="";for(const h of l)this._name+=String.fromCharCode(h);t.skip(e),this._compressedData=t.bytes(this._compressedSize),t.position=r}get name(){return this._name}get data(){if(!this._data){switch(this._compressionMethod){case 0:if(this._size!=this._compressedSize)throw new u.Error("Invalid compression size.");this._data=new Uint8Array(this._compressedData.length),this._data.set(this._compressedData);break;case 8:if(this._data=new u.Inflater().inflateRaw(this._compressedData),this._size!=this._data.length)throw new u.Error("Invalid uncompressed size.");break;default:throw new u.Error("Invalid compression method.")}delete this._size,delete this._compressedData}return this._data}},u.HuffmanTree=class{constructor(){this.table=new Uint16Array(16),this.symbol=new Uint16Array(288),u.HuffmanTree._offsets=u.HuffmanTree._offsets||new Uint16Array(16)}build(t,n,e){for(let i=0;i<16;++i)this.table[i]=0;for(let i=0;i<e;++i)this.table[t[n+i]]++;this.table[0]=0;let s=0;for(let i=0;i<16;i++)u.HuffmanTree._offsets[i]=s,s+=this.table[i];for(let i=0;i<e;i++)t[n+i]&&(this.symbol[u.HuffmanTree._offsets[t[n+i]]++]=i)}static initialize(){if(!u.HuffmanTree.staticLiteralLengthTree){u.HuffmanTree.staticLiteralLengthTree=new u.HuffmanTree,u.HuffmanTree.staticLiteralLengthTree.table=new Uint8Array([0,0,0,0,0,0,0,24,152,112,0,0,0,0,0,0]);for(let t=0;t<24;++t)u.HuffmanTree.staticLiteralLengthTree.symbol[t]=256+t;for(let t=0;t<144;++t)u.HuffmanTree.staticLiteralLengthTree.symbol[24+t]=t;for(let t=0;t<8;++t)u.HuffmanTree.staticLiteralLengthTree.symbol[168+t]=280+t;for(let t=0;t<112;++t)u.HuffmanTree.staticLiteralLengthTree.symbol[176+t]=144+t;u.HuffmanTree.staticDistanceTree=new u.HuffmanTree,u.HuffmanTree.staticDistanceTree.table=new Uint8Array([0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0]),u.HuffmanTree.staticDistanceTree.symbol=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31])}}},u.Inflater=class{inflate(t){if(typeof process=="object"&&typeof process.versions=="object"&&process.versions.node!==void 0)return g(83260).inflateSync(t);if(a!==void 0)return a.inflate(t);throw new u.Error("zlib inflate not supported.")}inflateRaw(t){if(typeof process=="object"&&typeof process.versions=="object"&&process.versions.node!==void 0)return g(83260).inflateRawSync(t);if(a!==void 0)return a.inflateRaw(t);u.Inflater.initilize(),u.HuffmanTree.initialize();const n=new u.BitReader(t),e=new u.Ouptut,s=new u.HuffmanTree,i=new u.HuffmanTree;let r;do switch(r=n.bits(3),r>>>1){case 0:this._inflateUncompressedBlock(n,e);break;case 1:this._inflateBlockData(n,e,u.HuffmanTree.staticLiteralLengthTree,u.HuffmanTree.staticDistanceTree);break;case 2:this._decodeTrees(n,s,i),this._inflateBlockData(n,e,s,i);break;default:throw new u.Error("Unknown block type.")}while((1&r)==0);return e.merge()}_inflateUncompressedBlock(t,n){for(;t.data>8;)t.position--,t.data-=8;t.data=0;const e=t.uint16();if(e!==(65535&~t.uint16()))throw new u.Error("Invalid uncompressed block length.");const s=t.bytes(e);n.push(s),e>32768?(n.buffer.set(s.subarray(s.length-32768,s.length),0),n.position=32768):(n.reset(),n.buffer.set(s,n.position),n.position+=s.length)}_decodeTrees(t,n,e){const s=t.bits(5)+257,i=t.bits(5)+1,r=t.bits(4)+4;for(let h=0;h<19;h++)u.Inflater._lengths[h]=0;for(let h=0;h<r;h++)u.Inflater._lengths[u.Inflater._codeOrder[h]]=t.bits(3);let l;u.Inflater._codeTree.build(u.Inflater._lengths,0,19);for(let h=0;h<s+i;){const d=t.symbol(u.Inflater._codeTree);switch(d){case 16:{const f=u.Inflater._lengths[h-1];for(l=t.bits(2)+3;l;l--)u.Inflater._lengths[h++]=f;break}case 17:for(l=t.bits(3)+3;l;l--)u.Inflater._lengths[h++]=0;break;case 18:for(l=t.bits(7)+11;l;l--)u.Inflater._lengths[h++]=0;break;default:u.Inflater._lengths[h++]=d}}n.build(u.Inflater._lengths,0,s),e.build(u.Inflater._lengths,s,i)}_inflateBlockData(t,n,e,s){const i=n.buffer;let r=n.position,l=r;for(;;){r>62464&&(n.position=r,n.push(new Uint8Array(i.subarray(l,r))),r=n.reset(),l=r);let h=t.symbol(e);if(h===256)return n.position=r,n.push(new Uint8Array(i.subarray(l,n.position))),void n.reset();if(h<256)i[r++]=h;else{h-=257;const d=t.bitsBase(u.Inflater._lengthBits[h],u.Inflater._lengthBase[h]),f=t.symbol(s);let b=r-t.bitsBase(u.Inflater._distanceBits[f],u.Inflater._distanceBase[f]);for(let o=0;o<d;o++)i[r++]=i[b++]}}}static initilize(){u.HuffmanTree.staticLiteralLengthTree||(u.Inflater._codeOrder=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],u.Inflater._codeTree=new u.HuffmanTree,u.Inflater._lengths=new Uint8Array(320),u.Inflater._lengthBits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,6],u.Inflater._lengthBase=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,323],u.Inflater._distanceBits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],u.Inflater._distanceBase=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577])}},u.Ouptut=class{constructor(){this._blocks=[],this.buffer=new Uint8Array(65536),this.position=0}reset(){return this.position>32768&&(this.buffer.set(this.buffer.subarray(this.position-32768,this.position),0),this.position=32768),this.position}push(t){this._blocks.push(t)}merge(){let t=0;for(const s of this._blocks)t+=s.length;const n=new Uint8Array(t);let e=0;for(const s of this._blocks)n.set(s,e),e+=s.length;return n}},u.BitReader=class{constructor(t){this.buffer=t,this.position=0,this.data=0,this.value=0}bits(t){for(;this.data<24;)this.value|=this.buffer[this.position++]<<this.data,this.data+=8;const n=this.value&65535>>>16-t;return this.value>>>=t,this.data-=t,n}bitsBase(t,n){if(t==0)return n;for(;this.data<24;)this.value|=this.buffer[this.position++]<<this.data,this.data+=8;const e=this.value&65535>>>16-t;return this.value>>>=t,this.data-=t,e+n}bytes(t){const n=this.buffer.subarray(this.position,this.position+t);return this.position+=t,n}uint16(){const t=this.buffer[this.position]|this.buffer[this.position+1]<<8;return this.position+=2,t}symbol(t){for(;this.data<24;)this.value|=this.buffer[this.position++]<<this.data,this.data+=8;let n=0,e=0,s=0,i=this.value;const r=t.table;do e=(e<<1)+(1&i),i>>>=1,s++,n+=r[s],e-=r[s];while(e>=0);return this.value=i,this.data-=s,t.symbol[n+e]}},u.Reader=class{constructor(t,n,e){this._buffer=t,this._position=n,this._end=e}match(t){if(this._position+t.length<=this._end){for(let n=0;n<t.length;n++)if(this._buffer[this._position+n]!=t[n])return!1}return this._position+=t.length,!0}get position(){return this._position}set position(t){this._position=t>=0?t:this._end+t}peek(){return this._position<this._end}skip(t){if(this._position+t>this._end)throw new u.Error("Data not available.");this._position+=t}bytes(t){if(this._position+t>this._end)throw new u.Error("Data not available.");t=t===void 0?this._end:t;const n=this._buffer.subarray(this._position,this._position+t);return this._position+=t,n}uint16(){if(this._position+2>this._end)throw new u.Error("Data not available.");const t=this._buffer[this._position]|this._buffer[this._position+1]<<8;return this._position+=2,t}uint32(){return this.uint16()|this.uint16()<<16}},u.Error=class extends Error{constructor(t){super(t),this.name="Zip Error"}},typeof x.exports=="object"&&(x.exports.Archive=u.Archive,x.exports.Inflater=u.Inflater)},68138:(x,k,g)=>{const a=g(68513),u=class{constructor(){window.eval=()=>{throw new Error("window.eval() not supported.")},this._document=window.document,this._meta={};for(const n of Array.from(this._document.getElementsByTagName("meta")))n.content&&(this._meta[n.name]=this._meta[n.name]||[],this._meta[n.name].push(n.content));this._type=this._meta.type?this._meta.type[0]:"Browser",this._version=this._meta.version?this._meta.version[0]:null,this._ready=!1}get document(){return this._document}get version(){return this._version}get type(){return this._type}initialize(n){return this._view=n,Promise.resolve()}start(){window.addEventListener("message",n=>{const e=n.data;if(e){const s=e.type,i=e.data;switch(s){case"change-files":return this._changeFiles(i);case"zoom-in":return this._view.zoomIn();case"zoom-out":return this._view.zoomOut();case"zoom-reset":return this._view.resetZoom();case"toggle-attributes":return this._view.toggleAttributes(i);case"toggle-initializers":return this._view.toggleInitializers(i);case"toggle-names":return this._view.toggleNames(i);case"toggle-direction":return this._view.toggleDirection(i);case"toggle-theme":return this._view.toggleTheme(i);case"export":return this._view.export(`${document.title}.${i}`);case"change-graph":return this._view.changeGraph(i);case"search":return this._view.find(i);case"select":return this._view.select(i);case"show-model-properties":return this._view.showModelProperties();case"show-node-documentation":return this._view.showNodeDocumentation(i);case"ready":return this._ready?this.status("ready"):void 0}}},!1),this._ready=!0,this.status("ready")}message(n,e){window.parent&&window.parent.postMessage({type:n,data:e},"*")}status(n){this.message("status",n)}error(n,e){this.message("error",(n==="Error"?"":n+" ")+e)}confirm(n,e){const s=confirm(n+" "+e);return s||this.message("cancel"),s}require(n){const e=this._url(n+".js");return window.__modules__=window.__modules__||{},window.__modules__[e]?Promise.resolve(window.__exports__[e]):new Promise((s,i)=>{window.module={exports:{}};const r=document.createElement("script");r.setAttribute("id",n),r.setAttribute("type","text/javascript"),r.setAttribute("src",e),r.onload=()=>{const l=window.module.exports;delete window.module,window.__modules__[n]=l,s(l)},r.onerror=l=>{delete window.module,i(new Error("The script '"+l.target.src+"' failed to load."))},this.document.head.appendChild(r)})}save(n,e,s,i){i(s+"."+e)}export(n,e){const s=this.document.createElement("a");s.download=n,s.href=URL.createObjectURL(e),this.document.body.appendChild(s),s.click(),this.document.body.removeChild(s)}request(n,e,s){const i=n?n+"/"+e:this._url(e);return this._request(i,null,s)}_changeFiles(n){if(n&&n.length){if(!(n=Array.from(n)).find(e=>this._view.accept(e.name)))return void this.error("Error opening file.","Cannot open file "+n[0].name);this._open(n.find(e=>this._view.accept(e.name)),n)}}_request(n,e,s,i){return new Promise((r,l)=>{const h=new XMLHttpRequest;s||(h.responseType="arraybuffer"),i&&(h.timeout=i);const d=f=>{const b=new Error("The web request failed with status code "+f+" at '"+n+"'.");return b.type="error",b.url=n,b};if(h.onload=()=>{h.status==200?h.responseType=="arraybuffer"?r(new Uint8Array(h.response)):r(h.responseText):l(d(h.status))},h.onerror=f=>{const b=d(h.status);b.type=f.type,l(b)},h.ontimeout=()=>{h.abort();const f=new Error("The web request timed out in '"+n+"'.");f.type="timeout",f.url=n,l(f)},h.open("GET",n,!0),e)for(const f of Object.keys(e))h.setRequestHeader(f,e[f]);h.send()})}_url(n){let e=n;if(window&&window.location&&window.location.href){let s=window.location.href.split("?").shift();s.endsWith(".html")&&(s=s.split("/").slice(0,-1).join("/")),s.endsWith("/")&&(s=s.slice(0,-1)),e=s+"/"+n}return e}_open(n,e){this.status("loading");const s=new t(n,e);s.open().then(()=>this._view.open(s).then(i=>(this._view.actived&&this.status("rendered"),this.document.title=e[0].name,i))).catch(i=>{this.error(i.name,i.message)})}};if(typeof TextDecoder=="undefined"&&(TextDecoder=function(n){this._encoding=n},TextDecoder.prototype.decode=function(n){let e="";const s=n.length;let i=0;switch(this._encoding){case"utf-8":for(;i<s;){const r=n[i++];switch(r>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:e+=String.fromCharCode(r);break;case 12:case 13:{const l=n[i++];e+=String.fromCharCode((31&r)<<6|63&l);break}case 14:{const l=n[i++],h=n[i++];e+=String.fromCharCode((15&r)<<12|(63&l)<<6|(63&h)<<0);break}}}break;case"ascii":for(;i<s;)e+=String.fromCharCode(n[i++])}return e}),typeof TextEncoder=="undefined"){TextEncoder=function(){},TextEncoder.prototype.encode=function(n){"use strict";const e=n.length;let s=-1;const i=typeof Uint8Array=="undefined"?new Array(2*e):new Uint8Array(3*e);for(let r=0,l=0,h=0;h!==e;){if(r=n.charCodeAt(h),h+=1,r>=55296&&r<=56319){if(h===e){i[s+=1]=239,i[s+=1]=191,i[s+=1]=189;break}if(l=n.charCodeAt(h),!(l>=56320&&l<=57343)){i[s+=1]=239,i[s+=1]=191,i[s+=1]=189;continue}if(r=1024*(r-55296)+l-56320+65536,h+=1,r>65535){i[s+=1]=240|r>>>18,i[s+=1]=128|r>>>12&63,i[s+=1]=128|r>>>6&63,i[s+=1]=128|63&r;continue}}r<=127?i[s+=1]=0|r:r<=2047?(i[s+=1]=192|r>>>6,i[s+=1]=128|63&r):(i[s+=1]=224|r>>>12,i[s+=1]=128|r>>>6&63,i[s+=1]=128|63&r)}return typeof Uint8Array!="undefined"?new Uint8Array(i.buffer.slice(0,s+1)):i.length===s+1?i:i.slice(0,s+1)},TextEncoder.prototype.toString=function(){return"[object TextEncoder]"};try{Object.defineProperty(TextEncoder.prototype,"encoding",{get:function(){if(Object.prototype.isPrototypeOf.call(TextEncoder.prototype,this))return"utf-8";throw TypeError("Illegal invocation")}})}catch(n){TextEncoder.prototype.encoding="utf-8"}typeof Symbol!="undefined"&&(TextEncoder.prototype[Symbol.toStringTag]="TextEncoder")}typeof URLSearchParams=="undefined"&&(URLSearchParams=function(n){const e=s=>s.replace(/[ +]/g,"%20").replace(/(%[a-f0-9]{2})+/gi,i=>decodeURIComponent(i));if(this._dict={},typeof n=="string"){const s=(n=n.indexOf("?")===0?n.substring(1):n).split("&");for(const i of s){const r=i.indexOf("="),l=e(r>-1?i.substring(0,r):i),h=r>-1?e(i.substring(r+1)):"";Object.prototype.hasOwnProperty.call(this._dict,l)||(this._dict[l]=[]),this._dict[l].push(h)}}},URLSearchParams.prototype.get=function(n){return Object.prototype.hasOwnProperty.call(this._dict,n)?this._dict[n][0]:null}),HTMLCanvasElement.prototype.toBlob||(HTMLCanvasElement.prototype.toBlob=function(n,e,s){setTimeout(()=>{const i=atob(this.toDataURL(e,s).split(",")[1]),r=i.length,l=new Uint8Array(r);for(let h=0;h<r;h++)l[h]=i.charCodeAt(h);n(new Blob([l],{type:e||"image/png"}))},0)});class t{constructor(e,s){this._file=e,this._blobs={};for(const i of s)this._blobs[i.name]=i}get identifier(){return this._file.name}get buffer(){return this._buffer}open(){return this.request(this._file.name,null).then(e=>{this._buffer=e})}request(e,s){const i=this._blobs[e];return i?new Promise((r,l)=>{const h=new FileReader;h.onload=d=>{r(s?d.target.result:new Uint8Array(d.target.result))},h.onerror=d=>{let f="";switch((d=d||window.event).target.error.code){case d.target.error.NOT_FOUND_ERR:f="File not found '"+e+"'.";break;case d.target.error.NOT_READABLE_ERR:f="File not readable '"+e+"'.";break;case d.target.error.SECURITY_ERR:f="File access denied '"+e+"'.";break;default:f="File read '"+d.target.error.code.toString()+"' error '"+e+"'."}l(new Error(f))},s==="utf-8"?h.readAsText(i,s):h.readAsArrayBuffer(i)}):Promise.reject(new Error("File not found '"+e+"'."))}}window.__view__=new a.View(new u)},74872:(x,k,g)=>{const a={},u={Long:g(27808)},t=g(13917);a.NodeSidebar=class{constructor(e,s){this._host=e,this._node=s,this._properties=[],this._attributes=[],this._inputs=[],this._outputs=[],s.type&&this._addProperty("type",new a.ValueTextView(this._host,s.type,{documentation:!!s.metadata})),s.name&&this._addProperty("name",new a.ValueTextView(this._host,s.name)),s.location&&this._addProperty("location",new a.ValueTextView(this._host,s.location)),s.domain&&this._addProperty("domain",new a.ValueTextView(this._host,s.domain)),s.description&&this._addProperty("description",new a.ValueTextView(this._host,s.description)),s.device&&this._addProperty("device",new a.ValueTextView(this._host,s.device));const i=s.attributes;if(i&&i.length>0){const h=s.attributes.slice();h.sort((d,f)=>{const b=d.name.toUpperCase(),o=f.name.toUpperCase();return b<o?-1:b>o?1:0});for(const d of h)this._addAttribute(d.name,d)}const r=s.inputs;if(r&&r.length>0)for(const h of r)this._addInput(h.name,h);const l=s.outputs;if(l&&l.length>0)for(const h of l)this._addOutput(h.name,h)}render(){return{properties:this._properties,groups:[{name:"attributes",properties:this._attributes},{name:"inputs",properties:this._inputs},{name:"outputs",properties:this._outputs}]}}_addProperty(e,s){const i=new a.NameValueView(this._host,e,s);this._properties.push(i.render())}_addAttribute(e,s){const i=new a.NameValueView(this._host,e,new n(this._host,s));this._attributes.push(i.render())}_addInput(e,s){if(s.arguments.length>0){const i=new a.ParameterView(this._host,s),r=new a.NameValueView(this._host,e,i);this._inputs.push(r.render())}}_addOutput(e,s){if(s.arguments.length>0){const i=new a.ParameterView(this._host,s),r=new a.NameValueView(this._host,e,i);this._outputs.push(r.render())}}static formatAttributeValue(e,s,i){if(typeof e=="function")return e();if(e&&u.Long.isLong(e))return e.toString();if(Number.isNaN(e))return"NaN";switch(s){case"shape":return e.toString();case"shape[]":return e?e.map(d=>d.toString()).join(", "):"(null)";case"graph":return e.toString();case"graph[]":return e?e.map(d=>d.toString()).join(", "):"(null)";case"tensor":return e&&e.type&&e.type.shape&&e.type.shape.dimensions&&e.type.shape.dimensions.length==0?e.toString():"[...]"}if(typeof e=="string"&&(!s||s!="string"))return i?'"'+e+'"':e;if(Array.isArray(e)){if(e.length==0)return i?"[]":"";let d=!1;e.length>1e3&&(e=e.slice(0,1e3),d=!0);const f=e.map(b=>b&&u.Long.isLong(b)?b.toString():Number.isNaN(b)?"NaN":a.NodeSidebar.formatAttributeValue(b,null,!0));return d&&f.push("\u2026"),i?["[",f.join(", "),"]"].join(" "):f.join(", ")}if(e===null)return i?"null":"";if(e===void 0)return"undefined";if(e!==Object(e))return e.toString();const r=[],l=Object.keys(e).filter(d=>!d.startsWith("__")&&!d.endsWith("__"));if(l.length==1)r.push(a.NodeSidebar.formatAttributeValue(e[Object.keys(e)[0]],null,!0));else for(const d of l)r.push(d+": "+a.NodeSidebar.formatAttributeValue(e[d],null,!0));let h=e.__type__;if(!h&&e.constructor.name&&e.constructor.name!=="Object"&&(h=e.constructor.name),h)return h+(r.length==0?"()":["(",r.join(", "),")"].join(""));switch(r.length){case 0:return i?"()":"";case 1:return r[0];default:return i?["(",r.join(", "),")"].join(" "):r.join(", ")}}},a.NameValueView=class{constructor(e,s,i){this._host=e,this._name=s,this._value=i,this._element={name:s,values:i.render()}}get name(){return this._name}render(){return this._element}},a.ValueTextView=class{constructor(e,s,i){this._host=e,this._elements=[],this._elements.push(Object.assign({value:s},i))}render(){return this._elements}};class n{constructor(s,i){this._host=s,this._attribute=i,this._element={},i.type&&(this._element.children=this.renderChildren());let r=a.NodeSidebar.formatAttributeValue(this._attribute.value,this._attribute.type);r&&r.length>1e3&&(r=r.substring(0,1e3)+"\u2026"),this._element.value=r||" "}render(){return[this._element]}renderChildren(){const s=[];this._host.document.createElement("div").className="sidebar-view-item-value-line-border";const i=this._attribute.type,r=this._attribute.value;i=="tensor"&&r&&r.type?s.push({name:"type",value:r.type.toString(),type:"code"}):s.push({name:"type",value:this._attribute.type,type:"code"});const l=this._attribute.description;if(l&&s.push({value:l}),this._attribute.type=="tensor"&&r){const h=r.state;s.push({value:h||r.toString(),type:"raw"})}return s}}a.ParameterView=class{constructor(e,s){this._list=s,this._elements=[],this._items=[];for(const i of s.arguments){const r=new a.ArgumentView(e,i);this._items.push(r),this._elements.push(r.render())}}render(){return this._elements}},a.ArgumentView=class{constructor(e,s){this._host=e,this._argument=s,this._element={};const i=s.initializer,r=s.quantization;(s.type||i||r)&&(this._element.children=this.renderChildren());let l=this._argument.name||"";if(this._hasId=!!l,i&&!this._hasId)this._element.name="kind",this._element.value=i.kind;else{if(typeof l!="string")throw new Error("Invalid argument identifier '"+JSON.stringify(l)+"'.");l=l.split(`
`).shift(),this._element.name="name",this._element.value=l||" "}}render(){return this._element}renderChildren(){const e=[];let s="?",i=null;this._argument.type&&(s=this._argument.type.toString(),i=this._argument.type.denotation||null),s&&e.push({name:"type",value:s,type:"code"}),i&&e.push({name:"denotation",value:i,type:"code"});const r=this._argument.description;r&&e.push({name:"description",value:r});const l=this._argument.quantization;l&&e.push({name:"quantization",value:l}),this._argument.location&&e.push({name:"location",value:this._argument.location});const h=this._argument.initializer;if(h){h.reference&&e.push({name:"reference",value:this._argument.reference});const d=h.state;let f="";try{f=d||h.toString()}catch(b){f=b.toString(),this._host.exception(b,!1)}e.push({value:f,type:"raw"})}return e}},a.ModelSidebar=class{constructor(e,s,i){this._host=e,this._model=s,this._properties=[],this._groups=[],this._model.format&&this._addProperty("format",new a.ValueTextView(this._host,this._model.format)),this._model.producer&&this._addProperty("producer",new a.ValueTextView(this._host,this._model.producer)),this._model.source&&this._addProperty("source",new a.ValueTextView(this._host,this._model.source)),this._model.name&&this._addProperty("name",new a.ValueTextView(this._host,this._model.name)),this._model.version&&this._addProperty("version",new a.ValueTextView(this._host,this._model.version)),this._model.description&&this._addProperty("description",new a.ValueTextView(this._host,this._model.description)),this._model.author&&this._addProperty("author",new a.ValueTextView(this._host,this._model.author)),this._model.company&&this._addProperty("company",new a.ValueTextView(this._host,this._model.company)),this._model.license&&this._addProperty("license",new a.ValueTextView(this._host,this._model.license)),this._model.domain&&this._addProperty("domain",new a.ValueTextView(this._host,this._model.domain)),this._model.imports&&this._addProperty("imports",new a.ValueTextView(this._host,this._model.imports)),this._model.runtime&&this._addProperty("runtime",new a.ValueTextView(this._host,this._model.runtime));const r=this._model.metadata;if(r)for(const l of r)this._addProperty(l.name,new a.ValueTextView(this._host,l.value));if(this._model._graphs.length>1&&this._addProperty("subgraph",new a.ValueTextView(this._host,i.name)),i){if(i.version&&this._addProperty("version",new a.ValueTextView(this._host,i.version)),i.type&&this._addProperty("type",new a.ValueTextView(this._host,i.type)),i.tags&&this._addProperty("tags",new a.ValueTextView(this._host,i.tags)),i.description&&this._addProperty("description",new a.ValueTextView(this._host,i.description)),i.inputs.length)for(const l of i.inputs)this._addGroupProperty("inputs",l.name,l);if(i.outputs.length)for(const l of i.outputs)this._addGroupProperty("outputs",l.name,l)}}render(){return{properties:this._properties,groups:this._groups}}_addGroupProperty(e,s,i){const r=this._groups.find(l=>l.name===e);r?r.properties.push(this._addArgument(s,i)):this._groups.push({name:e,properties:[this._addArgument(s,i)]})}_addProperty(e,s){const i=new a.NameValueView(this._host,e,s);this._properties.push(i.render())}_addArgument(e,s){const i=new a.ParameterView(this._host,s);return new a.NameValueView(this._host,e,i).render()}},a.DocumentationSidebar=class{constructor(e,s){this._host=e,this._metadata=s}render(){return a.DocumentationSidebar.formatDocumentation(this._metadata)}static formatDocumentation(e){if(e){if((e=JSON.parse(JSON.stringify(e))).summary&&(e.summary=t(e.summary)),e.description&&(e.description=t(e.description)),e.attributes)for(const s of e.attributes)s.description&&(s.description=t(s.description));if(e.inputs)for(const s of e.inputs)s.description&&(s.description=t(s.description));if(e.outputs)for(const s of e.outputs)s.description&&(s.description=t(s.description));if(e.references)for(const s of e.references)s&&(s.description=t(s.description));return e}return""}},a.FindSidebar=class{constructor(e,s,i){this._host=e,this._graphElement=s,this._graph=i}static selection(e,s){const i=[],r=e.id;let l=s.getElementById("nodes").firstChild;for(;l;)l.id==r&&i.push(l),l=l.nextSibling;let h=s.getElementById("edge-paths").firstChild;for(;h;)h.id==r&&i.push(h),h=h.nextSibling;let d=s.getElementById(r);if(d){for(;d.parentElement;)if(d=d.parentElement,d.id&&d.id.startsWith("node-")){i.push(d);break}}return i.length>0?i:null}update(e){const s=e.toLowerCase(),i=new Set,r=new Set,l=[];for(const h of this._graph.nodes){const d=[];for(const o of h.inputs)for(const p of o.arguments)p.name&&p.name.toLowerCase().indexOf(s)!=-1&&!r.has(p.name)&&(p.initializer?d.push(p.initializer):(l.push({type:"input",name:p.name.split(`
`).shift(),id:"edge-"+p.name}),r.add(p.name)));const f=h.name,b=h.type;!i.has(f)&&f&&(f.toLowerCase().indexOf(s)!=-1||b&&b.toLowerCase().indexOf(s)!=-1)&&(l.push({type:"node",name:h.name,id:"node-"+h.name}),i.add(h.name));for(const o of d)l.push({type:"initializer",name:o.name,id:"initializer-"+o.name})}for(const h of this._graph.nodes)for(const d of h.outputs)for(const f of d.arguments)f.name&&f.name.toLowerCase().indexOf(s)!=-1&&!r.has(f.name)&&(l.push({type:"output",name:f.name.split(`
`).shift(),id:"edge-"+f.name}),r.add(f.name));return{text:e,result:l}}},typeof x.exports=="object"&&(x.exports.Sidebar=a.Sidebar,x.exports.ModelSidebar=a.ModelSidebar,x.exports.NodeSidebar=a.NodeSidebar,x.exports.DocumentationSidebar=a.DocumentationSidebar,x.exports.FindSidebar=a.FindSidebar)},68513:(x,k,g)=>{const a=g(71681),u=g(63332),t=g(499),n=g(81600),e=g(71462),s=g(46506),i=g(19684),r=g(74872),l={View:class{constructor(o){this._host=o,this._host.initialize(this).then(()=>{this._model=null,this._selection=[],this._host.start(),this._showAttributes=!1,this._showInitializers=!0,this._showNames=!1,this._showHorizontal=!1,this._modelFactoryService=new l.ModelFactoryService(this._host)}).catch(p=>{this.error(p.message,p)})}cut(){this._host.document.execCommand("cut")}copy(){this._host.document.execCommand("copy")}paste(){this._host.document.execCommand("paste")}selectAll(){this._host.document.execCommand("selectall")}find(o){if(this._activeGraph){this.clearSelection();const p=document.getElementById("canvas"),c=new r.FindSidebar(this._host,p,this._activeGraph);this._host.message("search",c.update(o))}}toggleAttributes(o){(o==null||o^this._showAttributes)&&(this._showAttributes=o==null?!this._showAttributes:o,this._reload())}get showAttributes(){return this._showAttributes}toggleInitializers(o){(o==null||o^this._showInitializers)&&(this._showInitializers=o==null?!this._showInitializers:o,this._reload())}get showInitializers(){return this._showInitializers}toggleNames(o){(o==null||o^this._showNames)&&(this._showNames=o==null?!this._showNames:o,this._reload())}get showNames(){return this._showNames}toggleDirection(o){(o==null||o^this._showHorizontal)&&(this._showHorizontal=o==null?!this._showHorizontal:o,this._reload())}get showHorizontal(){return this._showHorizontal}toggleTheme(o){this._host.document.body.className=o}_reload(){this._host.status("loading"),this._model&&this._activeGraph&&this._updateGraph(this._model,this._activeGraph).catch(o=>{o&&this.error("Graph update failed.",o)})}_timeout(o){return new Promise(p=>{setTimeout(()=>{p()},o)})}zoomIn(){this._zoom&&this._zoom.scaleBy(e.select(this._host.document.getElementById("canvas")),1.2)}zoomOut(){this._zoom&&this._zoom.scaleBy(e.select(this._host.document.getElementById("canvas")),.8)}resetZoom(){this._zoom&&this._zoom.scaleTo(e.select(this._host.document.getElementById("canvas")),1)}select(o){this.clearSelection();const p=document.getElementById("canvas"),c=r.FindSidebar.selection(o,p);if(c&&c.length>0){const _=this._host.document.getElementById("canvas"),w=_.getBoundingClientRect();let m=0,y=0;for(const v of c){v.classList.add("select"),this._selection.push(v);const I=v.transform.baseVal.consolidate(),C=v.getBBox(),N=I?I.matrix.e:C.x+C.width/2,P=I?I.matrix.f:C.y+C.height/2;m+=N,y+=P}m/=c.length,y/=c.length,this._zoom.transform(e.select(_),e.zoomIdentity.translate(w.width/2-m,w.height/2-y))}}clearSelection(){for(;this._selection.length>0;)this._selection.pop().classList.remove("select")}error(o,p){this._host.error(o,p.toString())}accept(o){return this._modelFactoryService.accept(o)}open(o){return this._timeout(2).then(()=>this._modelFactoryService.open(o).then(p=>this._timeout(20).then(()=>{const c=p.graphs.length>0?p.graphs[0]:null;return this._host.message("opened",{graphs:p.graphs.map(_=>_.name||""),selected:c&&(c.name||"")}),this._updateGraph(p,c)})))}changeGraph(o){this._updateActiveGraph(o)}_updateActiveGraph(o){if(this._model){const p=this._model,c=p.graphs.filter(_=>o==_.name).shift();c&&(this._host.status("loading"),this._timeout(200).then(()=>this._updateGraph(p,c).catch(_=>{_&&this.error("Graph update failed.",_)})))}}_updateGraph(o,p){return this._timeout(100).then(()=>p&&p!=this._activeGraph&&p.nodes.length>1400&&!this._host.confirm("Large model detected.","This graph contains a large number of nodes and might take a long time to render. Do you want to continue?")?null:this.renderGraph(o,p).then(()=>(this._model=o,this._activeGraph=p,this._host.status("rendered"),this._model)).catch(c=>this.renderGraph(this._model,this._activeGraph).then(()=>{throw this._host.status("rendered"),c}).catch(()=>{throw c})))}renderGraph(o,p){try{const c=this._host.document.getElementById("canvas");for(;c.lastChild;)c.removeChild(c.lastChild);if(p){this._zoom=null,c.style.position="absolute",c.style.margin="0";const _=p.groups,w={nodesep:25,ranksep:20};this._showHorizontal&&(w.rankdir="LR");const m=new s.graphlib.Graph({compound:_});m.setGraph(w),m.setDefaultEdgeLabel(()=>({}));let y=0;const v={},I={},C={};let N=new Date().getTime();const P=p.nodes;if(P.length>1500&&(w.ranker="longest-path"),_){for(const T of P)if(T.group){const S=T.group.split("/");for(;S.length>0;){const L=S.join("/");S.pop(),C[L]=S.join("/")}}}for(const T of P){const S=new i.NodeElement(this._host.document),L=(E,A,J)=>{const G=E.block("header"),q=["node-item-type"],Y=A.metadata,st=Y&&Y.category?Y.category:"";st&&q.push("node-item-type-"+st.toLowerCase());const Z=A.type;if(typeof Z!="string"||!Z.split)throw new h("Unknown node type '"+JSON.stringify(Z)+"' in '"+o.format+"'.");const rt=this.showNames&&A.name?A.name:Z.split(".").pop(),ot=this.showNames&&A.name?Z:A.name;G.add(null,q,rt,ot,()=>{this.showNodeProperties(A)}),A.function&&G.add(null,["node-item-function"],"+",null,()=>{});const X=[];let K=!1;if(this._showInitializers)for(const D of A.inputs)D.visible&&D.arguments.length==1&&D.arguments[0].initializer!=null&&X.push(D),(!D.visible||D.arguments.length>1)&&D.arguments.some(F=>F.initializer!=null)&&(K=!0);let $=[];const it=A.attributes;if(this.showAttributes&&it&&($=it.filter(D=>D.visible).slice(),$.sort((D,F)=>{const O=D.name.toUpperCase(),B=F.name.toUpperCase();return O<B?-1:O>B?1:0})),X.length>0||K||$.length>0){const D=E.block("list");D.handler=()=>{this.showNodeProperties(A)};for(const F of X){const O=F.arguments[0],B=O.type;let U="",nt="";B&&B.shape&&B.shape.dimensions&&Object.prototype.hasOwnProperty.call(B.shape.dimensions,"length")&&(U="\u3008"+B.shape.dimensions.map(ht=>ht||"?").join("\xD7")+"\u3009",B.shape.dimensions.length==0&&O.initializer&&!O.initializer.state&&(U=O.initializer.toString(),U&&U.length>10&&(U=U.substring(0,10)+"\u2026"),nt=" = ")),D.add("initializer-"+O.name,F.name,U,B?B.toString():"",nt)}K&&D.add(null,"\u3008\u2026\u3009","",null,"");for(const F of $)if(F.visible){let O=r.NodeSidebar.formatAttributeValue(F.value,F.type);O&&O.length>25&&(O=O.substring(0,25)+"\u2026"),D.add(null,F.name,O,F.type," = ")}}if(J){const D=A.inputs;for(const O of D)for(const B of O.arguments)if(B.name!=""&&!B.initializer){let U=v[B.name];U||(U={from:null,to:[]},v[B.name]=U),U.to.push({node:y,name:O.name})}let F=A.outputs;if(A.chain&&A.chain.length>0){const O=A.chain[A.chain.length-1].outputs;O.length>0&&(F=O)}for(const O of F)for(const B of O.arguments)if(B.name!=""){let U=v[B.name];U||(U={from:null,to:[]},v[B.name]=U),U.from={node:y,name:O.name,type:B.type}}}if(A.chain&&A.chain.length>0)for(const D of A.chain)L(E,D,!1);A.inner&&L(E,A.inner,!1)};if(L(S,T,!0),T.controlDependencies&&T.controlDependencies.length>0)for(const E of T.controlDependencies){let A=v[E];A||(A={from:null,to:[]},v[E]=A),A.to.push({node:y,name:E,controlDependency:!0})}const R=T.name;R?m.setNode(y,{label:S.format(c),id:"node-"+R}):(m.setNode(y,{label:S.format(c),id:"node-"+N.toString()}),N++);const z=function(E){if(!I[E]){m.setNode(E,{rx:5,ry:5}),I[E]=!0;const A=C[E];A&&(z(A),m.setParent(E,A))}};if(_){let E=T.group;if(E&&E.length>0){if(!Object.prototype.hasOwnProperty.call(C,E)){const A=E.lastIndexOf("/");A!=-1?(E=E.substring(0,A),Object.prototype.hasOwnProperty.call(C,E)||(E=null)):E=null}E&&(z(E),m.setParent(y,E))}}y++}for(const T of p.inputs){for(const z of T.arguments){let E=v[z.name];E||(E={from:null,to:[]},v[z.name]=E),E.from={node:y,type:z.type}}const S=T.arguments.map(z=>z.type||"").join(`
`);let L=T.name||"";L.length>16&&(L=L.split("/").pop());const R=new i.NodeElement(this._host.document);R.block("header").add(null,["graph-item-input"],L,S,()=>{this.showModelProperties()}),m.setNode(y++,{label:R.format(c),class:"graph-input"})}for(const T of p.outputs){for(const z of T.arguments){let E=v[z.name];E||(E={from:null,to:[]},v[z.name]=E),E.to.push({node:y})}const S=T.arguments.map(z=>z.type||"").join(`
`);let L=T.name||"";L.length>16&&(L=L.split("/").pop());const R=new i.NodeElement(this._host.document);R.block("header").add(null,["graph-item-output"],L,S,()=>{this.showModelProperties()}),m.setNode(y++,{label:R.format(c)})}for(const T of Object.keys(v)){const S=v[T];if(S.from!=null)for(const L of S.to){let R="";const z=S.from.type;z&&z.shape&&z.shape.dimensions&&z.shape.dimensions.length>0&&(R=z.shape.dimensions.join("\xD7")),this._showNames&&(R=T.split(`
`).shift()),L.controlDependency?m.setEdge(S.from.node,L.node,{label:R,id:"edge-"+T,arrowhead:"vee",class:"edge-path-control-dependency"}):m.setEdge(S.from.node,L.node,{label:R,id:"edge-"+T,arrowhead:"vee"})}}const j=this._host.document.createElementNS("http://www.w3.org/2000/svg","rect");j.setAttribute("id","background"),j.setAttribute("width","100%"),j.setAttribute("height","100%"),j.setAttribute("fill","none"),j.setAttribute("pointer-events","all"),c.appendChild(j);const M=this._host.document.createElementNS("http://www.w3.org/2000/svg","g");M.setAttribute("id","origin"),c.appendChild(M);let H=null;return H=e.select(c),this._zoom=e.zoom(),this._zoom(H),this._zoom.scaleExtent([.1,2]),this._zoom.on("zoom",()=>{M.setAttribute("transform",e.event.transform.toString())}),this._zoom.transform(H,e.zoomIdentity),this._timeout(20).then(()=>{new i.Renderer(this._host.document,M).render(m);const T=c.getElementsByClassName("graph-input"),S=c.getBoundingClientRect();if(T&&T.length>0){const L=[],R=[];for(let G=0;G<T.length;G++){const q=T[G].transform.baseVal.consolidate().matrix;L.push(q.e),R.push(q.f)}let z=L[0];const E=R[0];R.every(G=>G==R[0])&&(z=L.reduce((G,q)=>G+q)/L.length);const A=S.width/(this._showHorizontal?4:2)-z,J=S.height/(this._showHorizontal?2:4)-E;this._zoom.transform(H,e.zoomIdentity.translate(A,J))}else this._zoom.transform(H,e.zoomIdentity.translate((S.width-m.graph().width)/2,(S.height-m.graph().height)/2))})}return Promise.resolve()}catch(c){return Promise.reject(c)}}applyStyleSheet(o,p){let c=[];for(let w=0;w<this._host.document.styleSheets.length;w++){const m=this._host.document.styleSheets[w];if(m&&m.href&&m.href.endsWith("/"+p)){c=m.cssRules;break}}const _=o.getElementsByTagName("*");for(let w=0;w<_.length;w++){const m=_[w];for(let y=0;y<c.length;y++){const v=c[y];if(m.matches(v.selectorText))for(let I=0;I<v.style.length;I++){const C=v.style.item(I);m.style[C]=v.style[C]}}}}export(o){const p=o.lastIndexOf("."),c=p!=-1?o.substring(p+1):"";if(this._activeGraph&&(c=="png"||c=="svg")){const _=this._host.document.getElementById("canvas"),w=_.cloneNode(!0);this.applyStyleSheet(w,"style.css"),w.setAttribute("id","export"),w.removeAttribute("width"),w.removeAttribute("height"),w.style.removeProperty("opacity"),w.style.removeProperty("display");const m=w.querySelector("#background"),y=w.querySelector("#origin");y.setAttribute("transform","translate(0,0) scale(1)"),m.removeAttribute("width"),m.removeAttribute("height");const v=_.parentElement;v.insertBefore(w,_);const I=w.getBBox();v.removeChild(w),v.removeChild(_),v.appendChild(_);const C=Math.min(I.width,I.height)/2*.1,N=Math.ceil(C+I.width+C),P=Math.ceil(C+I.height+C);y.setAttribute("transform","translate("+C.toString()+", "+C.toString()+") scale(1)"),w.setAttribute("width",N),w.setAttribute("height",P),m.setAttribute("width",N),m.setAttribute("height",P),m.setAttribute("fill","#fff");const j=new XMLSerializer().serializeToString(w);if(c==="svg"){const M=new Blob([j],{type:"image/svg"});this._host.export(o,M)}else if(c==="png"){const M=new Image;M.onload=()=>{const H=Math.max(N,P),T=2*H>24e3?24e3/H:2,S=this._host.document.createElement("canvas");S.width=Math.ceil(N*T),S.height=Math.ceil(P*T);const L=S.getContext("2d");L.scale(T,T),L.drawImage(M,0,0),this._host.document.body.removeChild(M),S.toBlob(R=>{if(R)this._host.export(o,R);else{const z=new Error;z.name="Error exporting image.",z.message="Image may be too large to render as PNG.",this._host.exception(z,!1),this._host.error(z.name,z.message)}},"image/png")},M.src="data:image/svg+xml;base64,"+window.btoa(unescape(encodeURIComponent(j))),this._host.document.body.insertBefore(M,this._host.document.body.firstChild)}}}showModelProperties(){if(this._model){const o=new r.ModelSidebar(this._host,this._model,this._activeGraph);this._host.message("show-model-properties",o.render())}}showNodeProperties(o){if(o){const p=new r.NodeSidebar(this._host,o);this._host.message("show-node-properties",{...p.render(),metadata:o.metadata})}}showNodeDocumentation(o){const p=o.metadata;if(p){const c=new r.DocumentationSidebar(this._host,p);this._host.message("show-node-documentation",c.render())}}}};class h extends Error{constructor(p,c){super(p),this.name="Error loading model.",this.telemetry=c}}class d{constructor(p){this._context=p,this._tags=new Map,this._entries=new Map}request(p,c){return this._context.request(p,c)}get identifier(){return this._context.identifier}get buffer(){return this._context.buffer}get text(){return this._text||(this._text=new TextDecoder("utf-8").decode(this.buffer)),this._text}entries(p){let c=this._entries.get(p);if(!c){c=[];try{const _=this.buffer;switch(p){case"zip":_&&_.length>2&&_[0]==80&&_[1]==75&&(c=new a.Archive(_).entries);break;case"tar":if(_.length>=512){let w=0;for(let y=0;y<512;y++)w+=y>=148&&y<156?32:_[y];let m="";for(let y=148;y<156&&_[y]!==0;y++)m+=String.fromCharCode(_[y]);m=parseInt(m,8),isNaN(m)||w!=m||(c=new t.Archive(_).entries)}}}catch(_){c=[]}this._entries.set(p,c)}return c}tags(p){let c=this._tags.get(p);if(!c){c=new Map;try{switch(p){case"pbtxt":{const _=this.buffer,w=_.length;if(!(w>=3&&_[0]===239&&_[1]===187&&_[2]===191||w>=4&&_[0]===0&&_[1]===0&&_[2]===254&&_[3]===255||w>=4&&_[0]===255&&_[1]===254&&_[2]===0&&_[3]===0||w>=4&&_[0]===132&&_[1]===49&&_[2]===149&&_[3]===51||w>=2&&_[0]===254&&_[1]===255||w>=2&&_[0]===255&&_[1]===254)&&_.subarray(0,Math.min(1024,w)).some(y=>y<7||y>14&&y<32))break;const m=n.TextReader.create(this.text);for(m.start(!1);!m.end(!1);){const y=m.tag();c.set(y,!0),m.skip()}break}case"pb":{const _=new Set([0,1,2,3,5]),w=n.Reader.create(this.buffer),m=w.next();for(;w.pos<m;){const y=w.uint32();if(c.set(y>>>3,7&y),!_.has(7&y)){c=new Map;break}try{w.skipType(7&y)}catch(v){c=new Map;break}}break}}}catch(_){c=new Map}this._tags.set(p,c)}return c}}class f{constructor(p,c,_,w){if(this._entries={},p){for(const m of p)if(m.name.startsWith(c)){const y=m.name.substring(c.length);_.length>0&&_.indexOf("/")<0&&(this._entries[y]=m)}}this._identifier=_.substring(c.length),this._buffer=w}request(p,c){const _=this._entries[p];if(!_)return Promise.reject(new Error("File not found."));const w=c?new TextDecoder(c).decode(_.data):_.data;return Promise.resolve(w)}get identifier(){return this._identifier}get buffer(){return this._buffer}}class b extends Error{constructor(p){super(p),this.name="Error loading archive."}}l.ModelFactoryService=class{constructor(o){this._host=o,this._extensions=[],this.register("./onnx",[".onnx",".pb",".pbtxt",".prototxt"]),this.register("./mxnet",[".mar",".model",".json",".params"]),this.register("./keras",[".h5",".hd5",".hdf5",".keras",".json",".model",".pb",".pth"]),this.register("./coreml",[".mlmodel"]),this.register("./caffe",[".caffemodel",".pbtxt",".prototxt",".pt"]),this.register("./caffe2",[".pb",".pbtxt",".prototxt"]),this.register("./pytorch",[".pt",".pth",".pt1",".pkl",".h5",".t7",".model",".dms",".tar",".ckpt",".bin",".pb",".zip"]),this.register("./torch",[".t7"]),this.register("./tflite",[".tflite",".lite",".tfl",".bin",".pb",".tmfile",".h5",".model",".json"]),this.register("./tf",[".pb",".meta",".pbtxt",".prototxt",".json",".index",".ckpt"]),this.register("./mediapipe",[".pbtxt"]),this.register("./uff",[".uff",".pb",".trt",".pbtxt",".uff.txt"]),this.register("./sklearn",[".pkl",".pickle",".joblib",".model",".meta",".pb",".pt",".h5"]),this.register("./cntk",[".model",".cntk",".cmf",".dnn"]),this.register("./paddle",[".paddle",".pdmodel","__model__"]),this.register("./armnn",[".armnn"]),this.register("./bigdl",[".model",".bigdl"]),this.register("./darknet",[".cfg",".model"]),this.register("./mnn",[".mnn"]),this.register("./ncnn",[".param",".bin",".cfg.ncnn",".weights.ncnn"]),this.register("./tnn",[".tnnproto",".tnnmodel"]),this.register("./tengine",[".tmfile"]),this.register("./barracuda",[".nn"]),this.register("./openvino",[".xml",".bin"]),this.register("./flux",[".bson"]),this.register("./npz",[".npz",".h5",".hd5",".hdf5"]),this.register("./dl4j",[".zip"]),this.register("./mlnet",[".zip"])}register(o,p){for(const c of p)this._extensions.push({extension:c,id:o})}open(o){return this._openSignature(o).then(p=>this._openArchive(p).then(c=>{const _=(c=new d(c)).identifier,w=_.split(".").pop().toLowerCase(),m=this._filter(c);if(m.length==0)throw new h("Unsupported file extension '."+w+"'.");const y=[];let v=!1;const I=()=>{if(m.length>0){const C=m.shift();return this._host.require(C).then(N=>{if(!N.ModelFactory)throw new h("Failed to load module '"+C+"'.");const P=new N.ModelFactory;return P.match(c)?(v++,P.open(c,this._host).then(j=>j).catch(j=>(y.push(j),I()))):I()})}{if(v)throw y.length==1?y[0]:new h(y.map(j=>j.message).join(`
`));const C=new Set(["natives_blob.bin","v8_context_snapshot.bin","snapshot_blob.bin","image_net_labels.json","package.json","models.json","LICENSE.meta","input_0.pb","output_0.pb"]).has(_),N=c.buffer,P=Array.from(N.subarray(0,Math.min(16,N.length))).map(j=>(j<16?"0":"")+j.toString(16)).join("");throw new h("Unsupported file content ("+P+") for extension '."+w+"' in '"+_+"'.",!C)}};return I()}))}_openArchive(o){let p,c=null,_=o.identifier,w=o.buffer;try{if(p=_.split(".").pop().toLowerCase(),(p=="gz"||p=="tgz")&&(c=new u.Archive(w),c.entries.length==1)){const m=c.entries[0];m.name?_=m.name:(_=_.substring(0,_.lastIndexOf(".")),p=="tgz"&&(_+=".tar")),w=m.data}}catch(m){const y=m&&m.message?m.message:m.toString();return Promise.reject(new b(y.replace(/\.$/,"")+" in '"+_+"'."))}try{switch(p=_.split(".").pop().toLowerCase(),p){case"tar":{const m=[138,10,108,252,156,70,249,32,106,168,80,25];(!w||w.length<14||w[0]!=128||!m.every((y,v)=>y==w[v+2]))&&(c=new t.Archive(w));break}case"zip":if(c=new a.Archive(w),c.entries.some(m=>m.name.split("/").pop().split("\\").pop()==="version")&&c.entries.some(m=>m.name.split("/").pop().split("\\").pop()==="data.pkl")||c.entries.some(m=>m.name.split("/").pop().split("\\").pop()==="coefficients.bin")&&c.entries.some(m=>m.name.split("/").pop().split("\\").pop()==="configuration.json"))return Promise.resolve(o)}}catch(m){const y=m&&m.message?m.message:m.toString();return Promise.reject(new b(y.replace(/\.$/,"")+" in '"+_+"'."))}if(!c)return Promise.resolve(o);try{const m={};for(const N of c.entries)N.name.indexOf("/")!=-1?m[N.name.split("/").shift()+"/"]=!0:m["/"]=!0;p=="tar"&&delete m["PaxHeader/"];let y=Object.keys(m).length==1?Object.keys(m)[0]:"";y=y=="/"?"":y;let v=[];const I=c.entries.slice(),C=()=>{if(I.length>0){const N=I.shift();if(N.name.startsWith(y)){const P=N.name.substring(y.length);if(P.length>0&&P.indexOf("/")<0&&!P.startsWith(".")){const j=new d(new f(null,y,N.name,N.data));let M=this._filter(j);const H=()=>{if(M.length>0){const T=M.shift();return this._host.require(T).then(S=>{if(!S.ModelFactory)throw new b("Failed to load module '"+T+"'.",null);return new S.ModelFactory().match(j)&&(v.push(N),M=[]),H()})}return C()};return H()}}return C()}{if(v.length==0)return Promise.resolve(o);if(v.length==2&&v.some(P=>P.name.endsWith(".params"))&&v.some(P=>P.name.endsWith("-symbol.json"))&&(v=v.filter(P=>P.name.endsWith(".params"))),v.length>1)return Promise.reject(new b("Archive contains multiple model files."));const N=v[0];return Promise.resolve(new d(new f(c.entries,y,N.name,N.data)))}};return C()}catch(m){return Promise.reject(new b(m.message))}}accept(o){o=o.toLowerCase();for(const p of this._extensions)if(o.endsWith(p.extension))return!0;return!!(o.endsWith(".zip")||o.endsWith(".tar")||o.endsWith(".tar.gz")||o.endsWith(".tgz"))}_filter(o){const p=o.identifier.toLowerCase(),c=this._extensions.filter(_=>p.endsWith(_.extension)).map(_=>_.id);return Array.from(new Set(c))}_openSignature(o){const p=o.buffer;if(o.buffer.length===0)return Promise.reject(new h("File has no content.",!0));const c=[{name:"ELF executable",value:/^\x7FELF/},{name:"Git LFS header",value:/^version https:\/\/git-lfs.github.com\/spec\/v1\n/},{name:"Git LFS header",value:/^oid sha256:/},{name:"HTML markup",value:/^\s*<html>/},{name:"HTML markup",value:/^\s*<!DOCTYPE html>/},{name:"HTML markup",value:/^\s*<!DOCTYPE HTML>/},{name:"Unity metadata",value:/^fileFormatVersion:/},{name:"Vulkan SwiftShader ICD manifest",value:/^{\s*"file_format_version":\s*"1.0.0"\s*,\s*"ICD":/},{name:"StringIntLabelMapProto data",value:/^item\s*{\r?\n\s*id:/},{name:"StringIntLabelMapProto data",value:/^item\s*{\r?\n\s*name:/},{name:"Python source code",value:/^\s*import sys, types, os;/}],_=new TextDecoder().decode(p.subarray(0,Math.min(1024,p.length)));for(const w of c)if(_.match(w.value))return Promise.reject(new h("Invalid file content. File contains "+w.name+".",!0));return Promise.resolve(o)}},typeof x.exports=="object"&&(x.exports.View=l.View,x.exports.ModelFactoryService=l.ModelFactoryService)},83260:()=>{}},tt={};function V(x){var k=tt[x];if(k!==void 0)return k.exports;var g=tt[x]={id:x,loaded:!1,exports:{}};return Q[x].call(g.exports,g,g.exports,V),g.loaded=!0,g.exports}V.m=Q,W=[],V.O=(x,k,g,a)=>{if(!k){var u=1/0;for(e=0;e<W.length;e++){for(var[k,g,a]=W[e],t=!0,n=0;n<k.length;n++)(!1&a||u>=a)&&Object.keys(V.O).every(l=>V.O[l](k[n]))?k.splice(n--,1):(t=!1,a<u&&(u=a));t&&(W.splice(e--,1),x=g())}return x}a=a||0;for(var e=W.length;e>0&&W[e-1][2]>a;e--)W[e]=W[e-1];W[e]=[k,g,a]},V.d=(x,k)=>{for(var g in k)V.o(k,g)&&!V.o(x,g)&&Object.defineProperty(x,g,{enumerable:!0,get:k[g]})},V.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(x){if(typeof window=="object")return window}}(),V.o=(x,k)=>Object.prototype.hasOwnProperty.call(x,k),V.r=x=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(x,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(x,"__esModule",{value:!0})},V.nmd=x=>(x.paths=[],x.children||(x.children=[]),x),V.j=826,(()=>{var x={826:0};V.O.j=a=>x[a]===0;var k=(a,u)=>{var t,n,[e,s,i]=u,r=0;for(t in s)V.o(s,t)&&(V.m[t]=s[t]);if(i)var l=i(V);for(a&&a(u);r<e.length;r++)n=e[r],V.o(x,n)&&x[n]&&x[n][0](),x[e[r]]=0;return V.O(l)},g=globalThis.webpackChunk_visualdl_netron=globalThis.webpackChunk_visualdl_netron||[];g.forEach(k.bind(null,0)),g.push=k.bind(null,g.push.bind(g))})();var et=V.O(void 0,[216],()=>V(68138));et=V.O(et)})();
