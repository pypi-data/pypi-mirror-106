import e,{useCallback as b,useEffect as f,useMemo as D,useState as m}from"../../../../web_modules/react.js";import T from"../../Checkbox.js";import k from"./ContinuousIndicatorDetails.js";import F from"./DiscreteIndicatorDetails.js";import Y from"../../Icon.js";import{rem as v}from"../../../utils/style.js";import _ from"../../../../web_modules/styled-components.js";const z=_.div.withConfig({displayName:"Indicator__Title",componentId:"sc-1siyd6e-0"})(["display:flex;justify-content:space-between;align-items:center;> *{flex-grow:1;}> .expander{margin-left:1em;flex-grow:0;cursor:pointer;color:var(--text-lighter-color);font-size:0.75em;&:hover{color:var(--text-light-color);}}"]),A=_.div.withConfig({displayName:"Indicator__Details",componentId:"sc-1siyd6e-1"})(["display:flex;flex-direction:column;justify-content:flex-start;align-items:stretch;margin-left:",";font-size:",";> *{margin-top:",";}"],v(24),v(12),v(10)),G=({name:j,type:r,selected:t,values:c,selectedValues:n,min:i,max:o,onToggle:s,onChange:a})=>{const[N,w]=m(!0),[d,E]=m(t!=null?t:!0);f(()=>E(t!=null?t:!0),[t]);const[x,h]=m(n!=null?n:[]);f(()=>h(n!=null?n:[]),[n]);const[u,g]=m({min:i!=null?i:Number.NEGATIVE_INFINITY,max:o!=null?o:Number.POSITIVE_INFINITY});f(()=>g({min:i!=null?i:Number.NEGATIVE_INFINITY,max:o!=null?o:Number.POSITIVE_INFINITY}),[i,o]);const y=b(()=>{s==null||s(!d),E(l=>!l)},[s,d]),I=b(l=>{r==="continuous"?h(l):g(l),a==null||a(l)},[a,r]),C=D(()=>{switch(r){case"string":case"numeric":return e.createElement(F,{list:c!=null?c:[],values:x,onChange:I});case"continuous":return e.createElement(k,{min:u.min,max:u.max,onChange:I});default:return null}},[I,u.max,u.min,x,r,c]);return e.createElement(e.Fragment,null,e.createElement(z,null,e.createElement(T,{checked:d,onChange:y},j),e.createElement("a",{className:"expander",onClick:()=>w(l=>!l)},e.createElement(Y,{type:N?"chevron-down":"chevron-up"}))),N?e.createElement(A,null,C):null)};export default G;
