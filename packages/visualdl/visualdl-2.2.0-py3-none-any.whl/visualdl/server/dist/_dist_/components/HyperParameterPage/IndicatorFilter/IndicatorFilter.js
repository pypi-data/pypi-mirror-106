import s,{useCallback as m,useEffect as g,useMemo as T,useState as b}from"../../../../web_modules/react.js";import{AsideSection as i}from"../../Aside.js";import j from"../../Field.js";import x from"./Indicator.js";import _ from"../../Tab.js";import F from"../../../../web_modules/styled-components.js";import{useTranslation as D}from"../../../../web_modules/react-i18next.js";const R=F(_).withConfig({displayName:"IndicatorFilter__DataTypeTab",componentId:"sc-1vlzu4p-0"})(["font-weight:700;"]),V=({indicators:n,onChange:u})=>{const{t:o}=D(["hyper-parameter","common"]),E=T(()=>["hparams","metrics"].map(e=>({value:e,label:o(`hyper-parameter:data-type-value.${e}`)})),[o]),[a,I]=b("hparams"),h=T(()=>n.filter(e=>e.group===a),[a,n]),[p,r]=b(n);g(()=>r(n),[n]);const l=m((e,t)=>{r(c=>{const d=c.findIndex(y=>y.name===e.name&&y.group===e.group),f=[...c];return d>=0&&Object.assign(f[d],t),f})},[]),v=m((e,t)=>l(e,{selected:t}),[l]),w=m((e,t)=>{switch(e.type){case"numeric":case"string":return l(e,{selectedValues:t});case"continuous":return l(e,t)}},[l]);return g(()=>{u==null||u(p)},[p,u]),s.createElement("div",null,s.createElement(i,null,s.createElement(j,null,s.createElement(R,{list:E,value:a,onChange:I,appearance:"underscore"})),h.map(e=>s.createElement(i,{key:e.group+e.name},s.createElement(j,null,s.createElement(x,{name:e.name,type:e.type,selected:e.selected,values:e.type==="continuous"?void 0:e.values,selectedValues:e.type==="continuous"?void 0:e.selectedValues,min:e.type==="continuous"?e.min:void 0,max:e.type==="continuous"?e.max:void 0,onToggle:t=>v(e,t),onChange:t=>w(e,t)}))))))};export default V;
