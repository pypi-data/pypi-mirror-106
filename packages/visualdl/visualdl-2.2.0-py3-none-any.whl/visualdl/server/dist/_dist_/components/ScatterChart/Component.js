import _,{useEffect as o,useImperativeHandle as w,useRef as m}from"../../../web_modules/react.js";import x from"./Labels/index.js";import L from"./Points/index.js";import N from"../../../web_modules/styled-components.js";import{themes as P}from"../../utils/theme.js";import S from"../../hooks/useTheme.js";const $=N.div.withConfig({displayName:"Component__Wrapper",componentId:"sc-10dr3yr-0"})(["position:relative;filter:",";"],n=>n.dark?"invert(99%) sepia(7%) saturate(5670%) hue-rotate(204deg) brightness(96%) contrast(79%)":""),j=_.forwardRef(({width:n,height:s,data:f,labels:p,colorMap:b,is3D:u,rotate:C,focusedIndices:l,highlightIndices:i,type:t,className:k},h)=>{const R=S(),c=m(null),e=m(null),a=m({width:n,height:s,is3D:u,background:P.light.backgroundColor});return o(()=>{if(c.current)return t==="points"?e.current=new L(c.current,a.current):t==="labels"?e.current=new x(c.current,a.current):e.current=null,()=>{var r;(r=e.current)===null||r===void 0||r.dispose()}},[t]),o(()=>{var r;if(a.current.is3D=u,(r=e.current)===null||r===void 0||r.setDimension(u),u)if(C){var v;(v=e.current)===null||v===void 0||v.startRotate()}else{var d;(d=e.current)===null||d===void 0||d.stopRotate()}},[u,C]),o(()=>{var r;(r=e.current)===null||r===void 0||r.setData(f,p,b)},[f,p,b,t]),o(()=>{var r;(r=e.current)===null||r===void 0||r.setFocusedPointIndices(l!=null?l:[])},[l,t]),o(()=>{var r;(r=e.current)===null||r===void 0||r.setHighLightIndices(i!=null?i:[])},[i,t]),o(()=>{var r;a.current.width=n,a.current.height=s,(r=e.current)===null||r===void 0||r.setSize(n,s)},[n,s,t]),w(h,()=>({reset:()=>{var r;(r=e.current)===null||r===void 0||r.reset()}})),_.createElement($,{className:k,ref:c,dark:R==="dark"})});j.displayName="ScatterChart";export default j;
