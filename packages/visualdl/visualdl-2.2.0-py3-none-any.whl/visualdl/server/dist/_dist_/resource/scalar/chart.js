import{formatTime as v,humanizeDuration as N}from"../../utils/index.js";import{format as w}from"../../../web_modules/d3-format.js";import{xAxisMap as d}from"./index.js";const c=w(".5");export const options={legend:{data:[]},tooltip:{position:["10%","100%"]}},chartData=({data:n,ranges:i,runs:o,xAxis:e,smoothedOnly:r})=>n.map((l,t)=>{const a=o[t].label,p=o[t].colors[0],s=o[t].colors[1],f=[{name:a,z:o.length+t,itemStyle:{color:p},lineStyle:{color:p},data:l,encode:{x:[d[e]],y:[3]}}];if(!r){const m=i[t],u=l.find(h=>h[2]===(m==null?void 0:m.min)),b=l.find(h=>h[2]===(m==null?void 0:m.max));f.push({name:a,z:t,itemStyle:{color:s},lineStyle:{color:s},data:l,encode:{x:[d[e]],y:[2]},markPoint:{symbol:"circle",symbolSize:6,itemStyle:{color:"#fff",borderColor:s,borderWidth:1},label:{show:!1},data:[...u?[{coord:[u[d[e]],u[2]]}]:[],...b?[{coord:[b[d[e]],b[2]]}]:[]]}})}return f}).flat(),tooltip=(n,i,o)=>({columns:[{label:o.t("scalar:smoothed"),width:"5em"},{label:o.t("common:scalar-value"),width:"4.285714286em"},{label:o.t("common:time-mode.step"),width:`${Math.max(i*.571428571,2.857142857)}em`},{label:o.t("scalar:min"),width:"4.285714286em"},{label:o.t("scalar:max"),width:"4.285714286em"},{label:o.t("common:time-mode.wall"),width:"10.714285714em"},{label:o.t("common:time-mode.relative"),width:"4.285714286em"}],data:n.map(({min:e,max:r,item:l})=>{var t,a;return[c((t=l[3])!==null&&t!==void 0?t:Number.NaN),c((a=l[2])!==null&&a!==void 0?a:Number.NaN),l[1],c(e!=null?e:Number.NaN),c(r!=null?r:Number.NaN),v(l[0],o.language),N(l[4])]})});
