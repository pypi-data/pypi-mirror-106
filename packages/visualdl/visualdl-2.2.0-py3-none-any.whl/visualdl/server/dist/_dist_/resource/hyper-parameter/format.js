function a(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),e.push.apply(e,n)}return e}function c(t){for(var r=1;r<arguments.length;r++){var e=arguments[r]!=null?arguments[r]:{};r%2?a(Object(e),!0).forEach(function(n){p(t,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):a(Object(e)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}return t}function p(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}import*as l from"../../../web_modules/d3.js";export const COLOR_MAP=["#2932E1","#FE4A3B","#FFAA00"];export function format(t,r){return t.map(e=>r.reduce((n,{name:s,group:u,type:o})=>{switch(o){case"string":n[u][s]=e[u][s]+"";break;case"numeric":case"continuous":n[u][s]=Number.parseFloat(e[u][s]+"")+"";break}return n},{name:e.name,hparams:{},metrics:{}}))}export function formatIndicators(t,r){return t.map(e=>{switch(e.type){case"numeric":case"string":return c(c({},e),{},{group:r,selected:!0,selectedValues:[...e.values]});case"continuous":return c(c({},e),{},{group:r,selected:!0,min:Number.NEGATIVE_INFINITY,max:Number.POSITIVE_INFINITY});default:return null}})}export function getColorScale(t,r){let e;if(t==null)e=[0,r.length-1];else{if(t.type!=="continuous")throw new Error("cannot color lines by `"+t.name+"`");{const u=r.map(o=>+o[t.group][t.name]);e=l.extent(u)}}const n=e[0],s=e.pop();for(let u=1;u<COLOR_MAP.length-1;u++)e.push(n+(s-n)/(COLOR_MAP.length-1)*u);return e.push(s),l.scaleLinear().domain(e).range(COLOR_MAP).interpolate(l.interpolateRgb)}
