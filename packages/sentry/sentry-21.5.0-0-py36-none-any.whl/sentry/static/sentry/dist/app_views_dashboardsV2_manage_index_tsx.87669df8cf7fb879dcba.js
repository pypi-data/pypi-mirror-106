(self.webpackChunk=self.webpackChunk||[]).push([["app_views_dashboardsV2_manage_index_tsx","app_components_sentryDocumentTitle_tsx"],{"./app/actionCreators/dashboards.tsx":(e,t,r)=>{"use strict";r.d(t,{JR:()=>a,AK:()=>s,Y:()=>i,iM:()=>d,QL:()=>c}),r("../node_modules/core-js/modules/es.array.concat.js");var n=r("./app/actionCreators/indicator.tsx"),o=r("./app/locale.tsx");function a(e,t,r,a){var s=r.title,i=r.widgets,d=e.requestPromise("/organizations/".concat(t,"/dashboards/"),{method:"POST",data:{title:s,widgets:i,duplicate:a}});return d.catch((function(e){var t,r=null!==(t=null==e?void 0:e.responseJSON)&&void 0!==t?t:null;r?(0,n.Iw)(r):(0,n.Iw)((0,o.t)("Unable to create dashboard"))})),d}function s(e,t,r){var a=e.requestPromise("/organizations/".concat(t,"/dashboards/").concat(r,"/"),{method:"GET"});return a.catch((function(e){var t,r=null!==(t=null==e?void 0:e.responseJSON)&&void 0!==t?t:null;r?(0,n.Iw)(r):(0,n.Iw)((0,o.t)("Unable to load dashboard"))})),a}function i(e,t,r){var a={title:r.title,widgets:r.widgets},s=e.requestPromise("/organizations/".concat(t,"/dashboards/").concat(r.id,"/"),{method:"PUT",data:a});return s.catch((function(e){var t,r=null!==(t=null==e?void 0:e.responseJSON)&&void 0!==t?t:null;r?(0,n.Iw)(r):(0,n.Iw)((0,o.t)("Unable to update dashboard"))})),s}function d(e,t,r){var a=e.requestPromise("/organizations/".concat(t,"/dashboards/").concat(r,"/"),{method:"DELETE"});return a.catch((function(e){var t,r=null!==(t=null==e?void 0:e.responseJSON)&&void 0!==t?t:null;r?(0,n.Iw)(r):(0,n.Iw)((0,o.t)("Unable to delete dashboard"))})),a}function c(e,t,r){return e.requestPromise("/organizations/".concat(t,"/dashboards/widgets/"),{method:"POST",data:r})}},"./app/components/activity/item/avatar.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=r("./app/components/avatar/userAvatar.tsx"),a=r("./app/components/placeholder.tsx"),s=r("./app/icons/index.tsx"),i=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function d(e){var t=e.className,r=e.type,n=e.user,s=e.size,d=void 0===s?38:s;return n?(0,i.tZ)(o.Z,{user:n,size:d,className:t}):"system"===r?(0,i.tZ)(l,{className:t,size:d,children:(0,i.tZ)(u,{size:"md"})}):(0,i.tZ)(a.Z,{className:t,width:"".concat(d,"px"),height:"".concat(d,"px"),shape:"circle"})}d.displayName="ActivityAvatar";const c=d;var l=(0,n.Z)("span",{target:"ety7k0b1"})("display:flex;justify-content:center;align-items:center;width:",(function(e){return e.size}),"px;height:",(function(e){return e.size}),"px;background-color:",(function(e){return e.theme.textColor}),";color:",(function(e){return e.theme.background}),";border-radius:50%;"),u=(0,n.Z)(s.iW,{target:"ety7k0b0"})({name:"1p2ly5v",styles:"padding-bottom:3px"})},"./app/components/sentryDocumentTitle.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>i}),r("../node_modules/core-js/modules/es.array.concat.js"),r("../node_modules/react/index.js");var n=r("../node_modules/react-document-title/index.js"),o=r.n(n),a=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function s(e){var t=e.title,r=e.orgSlug,n=e.projectSlug,s=e.children,i=r||n?r&&n?"".concat(t," - ").concat(r," - ").concat(n):r?"".concat(t," - ").concat(r):"".concat(t," - ").concat(n):t;return(0,a.tZ)(o(),{title:"".concat(i," - Sentry"),children:s})}s.displayName="SentryDocumentTitle";const i=s},"./app/views/asyncView.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>p}),r("../node_modules/core-js/modules/es.reflect.construct.js");var n=r("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),o=r("../node_modules/@babel/runtime/helpers/esm/createClass.js"),a=r("../node_modules/@babel/runtime/helpers/esm/inherits.js"),s=r("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),i=r("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),d=(r("../node_modules/react/index.js"),r("../node_modules/react-document-title/index.js")),c=r.n(d),l=r("./app/components/asyncComponent.tsx"),u=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");var p=function(e){(0,a.Z)(l,e);var t,r,d=(t=l,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,i.Z)(t);if(r){var o=(0,i.Z)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,s.Z)(this,e)});function l(){return(0,n.Z)(this,l),d.apply(this,arguments)}return(0,o.Z)(l,[{key:"getTitle",value:function(){return""}},{key:"render",value:function(){var e=this.getTitle();return(0,u.tZ)(c(),{title:"".concat(e?"".concat(e," - "):"","Sentry"),children:this.renderComponent()})}}]),l}(l.Z);p.displayName="AsyncView"},"./app/views/dashboardsV2/contextMenu.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>g}),r("../node_modules/core-js/modules/es.object.keys.js"),r("../node_modules/core-js/modules/es.symbol.js"),r("../node_modules/core-js/modules/es.array.filter.js"),r("../node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),r("../node_modules/core-js/modules/es.array.for-each.js"),r("../node_modules/core-js/modules/web.dom-collections.for-each.js"),r("../node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),r("../node_modules/core-js/modules/es.object.define-properties.js"),r("../node_modules/core-js/modules/es.object.define-property.js");var n=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=r("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=r("../node_modules/classnames/index.js"),s=r.n(a),i=r("./app/components/dropdownMenu.tsx"),d=r("./app/icons/index.tsx"),c=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p=function(e){var t=e.children;return(0,c.tZ)(i.Z,{children:function(e){var r=e.isOpen,n=e.getRootProps,o=e.getActorProps,a=e.getMenuProps,i=s()("dropdown",{"anchor-right":!0,open:r});return(0,c.BX)(m,u(u({},n({className:i})),{},{children:[(0,c.tZ)(h,u(u({},o({onClick:function(e){e.stopPropagation(),e.preventDefault()}})),{},{children:(0,c.tZ)(d.YR,{"data-test-id":"context-menu",size:"md"})})),r&&(0,c.tZ)("ul",u(u({},a({})),{},{className:s()("dropdown-menu"),children:t}))]}))}})};p.displayName="ContextMenu";var m=(0,o.Z)("span",{target:"e1xn1f5x1"})("display:flex;color:",(function(e){return e.theme.textColor}),";"),h=(0,o.Z)("div",{target:"e1xn1f5x0"})({name:"1y7emqs",styles:"display:flex;cursor:pointer;padding:0 5px"});const g=p},"./app/views/dashboardsV2/manage/index.tsx":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Ne}),r("../node_modules/core-js/modules/es.reflect.construct.js"),r("../node_modules/core-js/modules/es.object.keys.js"),r("../node_modules/core-js/modules/es.symbol.js"),r("../node_modules/core-js/modules/es.array.filter.js"),r("../node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),r("../node_modules/core-js/modules/es.array.for-each.js"),r("../node_modules/core-js/modules/web.dom-collections.for-each.js"),r("../node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),r("../node_modules/core-js/modules/es.object.define-properties.js"),r("../node_modules/core-js/modules/es.object.define-property.js");var n=r("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),o=r("../node_modules/@babel/runtime/helpers/esm/createClass.js"),a=r("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),s=r("../node_modules/@babel/runtime/helpers/esm/inherits.js"),i=r("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),d=r("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),c=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),l=r("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),u=(r("../node_modules/core-js/modules/es.array.concat.js"),r("../node_modules/core-js/modules/es.parse-int.js"),r("../node_modules/core-js/modules/es.array.sort.js"),r("../node_modules/core-js/modules/es.array.find.js"),r("../node_modules/core-js/modules/es.array.map.js"),r("../node_modules/react-router/es/index.js")),p=r("../node_modules/lodash/pick.js"),m=r.n(p),h=r("./app/components/acl/feature.tsx"),g=r("./app/components/alert.tsx"),b=r("./app/components/button.tsx"),f=r("./app/components/dropdownControl.tsx"),y=r("./app/components/lightWeightNoProjectMessage.tsx"),v=r("./app/components/searchBar.tsx"),j=r("./app/components/sentryDocumentTitle.tsx"),Z=r("./app/icons/index.tsx"),x=r("./app/locale.tsx"),w=r("./app/styles/organization.tsx"),_=r("./app/styles/space.tsx"),k=r("./app/utils/analytics.tsx"),D=r("./app/utils/queryString.tsx"),O=r("./app/utils/withApi.tsx"),C=r("./app/utils/withOrganization.tsx"),z=r("./app/views/asyncView.tsx"),P=(r("../node_modules/core-js/modules/es.number.constructor.js"),r("../node_modules/core-js/modules/es.regexp.exec.js"),r("../node_modules/core-js/modules/es.string.split.js"),r("../node_modules/react/index.js")),S=r("./images/dashboard/widget-area.svg"),q=r.n(S),N=r("./images/dashboard/widget-bar.svg"),E=r.n(N),B=r("./images/dashboard/widget-big-number.svg"),A=r.n(B),I=r("./images/dashboard/widget-line-1.svg"),R=r.n(I),M=r("./images/dashboard/widget-table.svg"),T=r.n(M),L=r("./images/dashboard/widget-world-map.svg"),V=r.n(L),K=r("./app/actionCreators/dashboards.tsx"),X=r("./app/actionCreators/indicator.tsx"),F=r("./app/components/emptyStateWarning.tsx"),J=r("./app/components/menuItem.tsx"),U=r("./app/components/pagination.tsx"),W=r("./app/components/timeSince.tsx"),H=r("./app/views/dashboardsV2/types.tsx"),G=r("./app/views/dashboardsV2/contextMenu.tsx"),Q=r("./app/views/dashboardsV2/utils.tsx"),Y=r("./app/components/activity/item/avatar.tsx"),$=r("./app/components/card.tsx"),ee=r("./app/components/links/link.tsx"),te=r("./app/styles/overflowEllipsis.tsx"),re=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function ne(e){var t=e.title,r=e.detail,n=e.createdBy,o=e.renderWidgets,a=e.dateStatus,s=e.to,i=e.onEventClick,d=e.renderContextMenu;return(0,re.tZ)(ee.Z,{"data-test-id":"card-".concat(t),onClick:function(){null==i||i()},to:s,children:(0,re.BX)(se,{interactive:!0,children:[(0,re.BX)(ie,{children:[(0,re.BX)(ae,{children:[(0,re.tZ)(de,{children:t}),(0,re.tZ)(ce,{children:r})]}),(0,re.tZ)(oe,{children:n?(0,re.tZ)(Y.Z,{type:"user",user:n,size:34}):(0,re.tZ)(Y.Z,{type:"system",size:34})})]}),(0,re.tZ)(le,{children:o()}),(0,re.BX)(ue,{children:[(0,re.tZ)(pe,{children:a?(0,re.BX)(me,{children:[(0,x.t)("Created")," ",a]}):(0,re.tZ)(me,{})}),d&&d()]})]})})}ne.displayName="DashboardCard";var oe=(0,l.Z)("span",{target:"emkzkq79"})("border:3px solid ",(function(e){return e.theme.border}),";border-radius:50%;height:min-content;"),ae=(0,l.Z)("div",{target:"emkzkq78"})("flex-grow:1;overflow:hidden;margin-right:",(0,_.Z)(1),";"),se=(0,l.Z)($.Z,{target:"emkzkq77"})({name:"1h9y2eg",styles:"justify-content:space-between;height:100%;&:focus,&:hover{top:-1px;}"}),ie=(0,l.Z)("div",{target:"emkzkq76"})("display:flex;padding:",(0,_.Z)(1.5)," ",(0,_.Z)(2),";"),de=(0,l.Z)("div",{target:"emkzkq75"})("color:",(function(e){return e.theme.textColor}),";",te.Z,";"),ce=(0,l.Z)("div",{target:"emkzkq74"})("font-family:",(function(e){return e.theme.text.familyMono}),";font-size:",(function(e){return e.theme.fontSizeSmall}),";color:",(function(e){return e.theme.gray300}),";",te.Z,";line-height:1.5;"),le=(0,l.Z)("div",{target:"emkzkq73"})("background:",(function(e){return e.theme.gray100}),";padding:",(0,_.Z)(1.5)," ",(0,_.Z)(2),";max-height:150px;min-height:150px;overflow:hidden;"),ue=(0,l.Z)("div",{target:"emkzkq72"})("display:flex;justify-content:space-between;align-items:center;padding:",(0,_.Z)(1)," ",(0,_.Z)(2),";"),pe=(0,l.Z)("div",{target:"emkzkq71"})("font-size:",(function(e){return e.theme.fontSizeSmall}),";display:grid;grid-column-gap:",(0,_.Z)(1),";color:",(function(e){return e.theme.textColor}),";",te.Z,";"),me=(0,l.Z)("span",{target:"emkzkq70"})("color:",(function(e){return e.theme.purple300}),";padding-left:",(0,_.Z)(1),";");const he=ne;function ge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function be(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ge(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function fe(e){var t=e.api,r=e.organization,n=e.location,o=e.dashboards,a=e.pageLinks,s=e.onDashboardsChange;function i(e){switch(e){case H.F.BAR:return E();case H.F.AREA:return q();case H.F.BIG_NUMBER:return A();case H.F.TABLE:return T();case H.F.WORLD_MAP:return V();case H.F.LINE:default:return R()}}return(0,re.BX)(P.Fragment,{children:[null!=o&&o.length?(0,re.tZ)(ye,{children:null==o?void 0:o.map((function(e,a){return(0,re.tZ)(he,{title:"default-overview"===e.id?"Default Dashboard":e.title,to:{pathname:"/organizations/".concat(r.slug,"/dashboard/").concat(e.id,"/"),query:be({},n.query)},detail:(0,x.tn)("%s widget","%s widgets",e.widgetDisplay.length),dateStatus:e.dateCreated?(0,re.tZ)(W.Z,{date:e.dateCreated}):void 0,onEventClick:function(){return function(e){(0,k.ec)({eventKey:"dashboards_manage.change_sort",eventName:"Dashboards Manager: Sort By Changed",organization_id:parseInt(r.id,10),dashboard_id:parseInt(e.id,10)})}(e)},createdBy:e.createdBy,renderWidgets:function(){return(0,re.tZ)(ve,{children:e.widgetDisplay.map((function(e,t){return e===H.F.BIG_NUMBER?(0,re.tZ)(je,{src:i(e)},"".concat(t,"-").concat(e)):(0,re.tZ)(Ze,{src:i(e)},"".concat(t,"-").concat(e))}))})},renderContextMenu:function(){return(0,re.BX)(G.Z,{children:[(0,re.tZ)(J.Z,{"data-test-id":"dashboard-delete",onClick:function(n){n.preventDefault(),function(e){(0,K.iM)(t,r.slug,e.id).then((function(){(0,k.ec)({eventKey:"dashboards_manage.delete",eventName:"Dashboards Manager: Dashboard Deleted",organization_id:parseInt(r.id,10),dashboard_id:parseInt(e.id,10)}),s(),(0,X.S9)((0,x.t)("Dashboard deleted"))})).catch((function(){(0,X.Iw)((0,x.t)("Error deleting Dashboard"))}))}(e)},disabled:o.length<=1,children:(0,x.t)("Delete")}),(0,re.tZ)(J.Z,{"data-test-id":"dashboard-duplicate",onClick:function(n){n.preventDefault(),function(e){(0,K.AK)(t,r.slug,e.id).then((function(n){var o=(0,Q.q)(n);o.widgets.map((function(e){return e.id=void 0})),(0,K.JR)(t,r.slug,o,!0).then((function(){(0,k.ec)({eventKey:"dashboards_manage.duplicate",eventName:"Dashboards Manager: Dashboard Duplicated",organization_id:parseInt(r.id,10),dashboard_id:parseInt(e.id,10)}),s(),(0,X.S9)((0,x.t)("Dashboard duplicated"))}))})).catch((function(){return(0,X.Iw)((0,x.t)("Error duplicating Dashboard"))}))}(e)},children:(0,x.t)("Duplicate")})]})}},"".concat(a,"-").concat(e.id))}))}):(0,re.tZ)(F.Z,{children:(0,re.tZ)("p",{children:(0,x.t)("Sorry, no Dashboards match your filters.")})}),(0,re.tZ)(xe,{pageLinks:a,onCursor:function(e,t,n,o){var a=Number(e.split(":")[1]),s=be(be({},n),{},{cursor:e});a<=0&&-1===o&&delete s.cursor,(0,k.ec)({eventKey:"dashboards_manage.paginate",eventName:"Dashboards Manager: Paginate",organization_id:parseInt(r.id,10)}),u.browserHistory.push({pathname:t,query:s})}})]})}fe.displayName="DashboardList";var ye=(0,l.Z)("div",{target:"e8t3ebt4"})("display:grid;grid-template-columns:minmax(100px, 1fr);grid-gap:",(0,_.Z)(3),";@media (min-width: ",(function(e){return e.theme.breakpoints[1]}),"){grid-template-columns:repeat(2, minmax(100px, 1fr));}@media (min-width: ",(function(e){return e.theme.breakpoints[2]}),"){grid-template-columns:repeat(3, minmax(100px, 1fr));}"),ve=(0,l.Z)("div",{target:"e8t3ebt3"})("display:grid;grid-template-columns:repeat(2, minmax(0, 1fr));grid-auto-flow:row dense;grid-gap:",(0,_.Z)(.25),";@media (min-width: ",(function(e){return e.theme.breakpoints[1]}),"){grid-template-columns:repeat(4, minmax(0, 1fr));}@media (min-width: ",(function(e){return e.theme.breakpoints[3]}),"){grid-template-columns:repeat(6, minmax(0, 1fr));}@media (min-width: ",(function(e){return e.theme.breakpoints[4]}),"){grid-template-columns:repeat(8, minmax(0, 1fr));}"),je=(0,l.Z)("img",{target:"e8t3ebt2"})("width:100%;height:100%;grid-area:span 1/span 2;@media (min-width: ",(function(e){return e.theme.breakpoints[0]}),"){grid-area:span 1/span 1;}@media (min-width: ",(function(e){return e.theme.breakpoints[3]}),"){grid-area:span 1/span 2;}"),Ze=(0,l.Z)("img",{target:"e8t3ebt1"})({name:"elv467",styles:"width:100%;height:100%;grid-area:span 2/span 2"}),xe=(0,l.Z)(U.Z,{target:"e8t3ebt0"})("margin-bottom:",(0,_.Z)(3),";");const we=(0,O.Z)(fe);function _e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ke(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_e(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var De=[{label:(0,x.t)("My Dashboards"),value:"mydashboards"},{label:(0,x.t)("Dashboard Name (A-Z)"),value:"title"},{label:(0,x.t)("Date Created (Newest)"),value:"-dateCreated"},{label:(0,x.t)("Date Created (Oldest)"),value:"dateCreated"}],Oe=function(e){(0,s.Z)(p,e);var t,r,l=(t=p,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,d.Z)(t);if(r){var o=(0,d.Z)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,i.Z)(this,e)});function p(){var e;(0,n.Z)(this,p);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e=l.call.apply(l,[this].concat(r)),(0,c.Z)((0,a.Z)(e),"handleSortChange",(function(t){var r=e.props.location;(0,k.ec)({eventKey:"dashboards_manage.change_sort",eventName:"Dashboards Manager: Sort By Changed",organization_id:parseInt(e.props.organization.id,10),sort:t}),u.browserHistory.push({pathname:r.pathname,query:ke(ke({},r.query),{},{cursor:void 0,sort:t})})})),e}return(0,o.Z)(p,[{key:"getEndpoints",value:function(){var e=this.props,t=e.organization,r=e.location;return[["dashboards","/organizations/".concat(t.slug,"/dashboards/"),{query:ke(ke({},m()(r.query,["cursor","query"])),{},{sort:this.getActiveSort().value,per_page:"9"})}]]}},{key:"getActiveSort",value:function(){var e=this.props.location,t=(0,D.ro)(e.query.sort,"mydashboards");return De.find((function(e){return e.value===t}))||De[0]}},{key:"onDashboardsChange",value:function(){this.reloadData()}},{key:"handleSearch",value:function(e){var t=this.props,r=t.location,n=t.router;(0,k.ec)({eventKey:"dashboards_manage.search",eventName:"Dashboards Manager: Search",organization_id:parseInt(this.props.organization.id,10)}),n.push({pathname:r.pathname,query:ke(ke({},r.query),{},{cursor:void 0,query:e})})}},{key:"getQuery",value:function(){var e=this.props.location.query.query;return"string"==typeof e?e:void 0}},{key:"renderActions",value:function(){var e=this,t=this.getActiveSort();return(0,re.BX)(qe,{children:[(0,re.tZ)(ze,{defaultQuery:"",query:this.getQuery(),placeholder:(0,x.t)("Search Dashboards"),onSearch:function(t){return e.handleSearch(t)}}),(0,re.tZ)(Se,{buttonProps:{prefix:(0,x.t)("Sort By")},label:t.label,children:De.map((function(r){var n=r.label,o=r.value;return(0,re.tZ)(f.hP,{onSelect:e.handleSortChange,eventKey:o,isActive:o===t.value,children:n},o)}))})]})}},{key:"renderNoAccess",value:function(){return(0,re.tZ)(w.JH,{children:(0,re.tZ)(g.Z,{type:"warning",children:(0,x.t)("You don't have access to this feature")})})}},{key:"renderDashboards",value:function(){var e=this,t=this.state,r=t.dashboards,n=t.dashboardsPageLinks,o=this.props,a=o.organization,s=o.location,i=o.api;return(0,re.tZ)(we,{api:i,dashboards:r,organization:a,pageLinks:n,location:s,onDashboardsChange:function(){return e.onDashboardsChange()}})}},{key:"getTitle",value:function(){return(0,x.t)("Dashboards")}},{key:"onCreate",value:function(){var e=this.props,t=e.organization,r=e.location;(0,k.ec)({eventKey:"dashboards_manage.create.start",eventName:"Dashboards Manager: Dashboard Create Started",organization_id:parseInt(t.id,10)}),u.browserHistory.push({pathname:"/organizations/".concat(t.slug,"/dashboards/new/"),query:r.query})}},{key:"renderBody",value:function(){var e=this,t=this.props.organization;return(0,re.tZ)(h.Z,{organization:t,features:["dashboards-manage"],renderDisabled:this.renderNoAccess,children:(0,re.tZ)(j.Z,{title:(0,x.t)("Dashboards"),orgSlug:t.slug,children:(0,re.tZ)(Ce,{children:(0,re.tZ)(y.Z,{organization:t,children:(0,re.BX)(w.JH,{children:[(0,re.BX)(Pe,{children:[(0,x.t)("Dashboards"),(0,re.tZ)(b.ZP,{"data-test-id":"dashboard-create",onClick:function(t){t.preventDefault(),e.onCreate()},priority:"primary",icon:(0,re.tZ)(Z.N_,{size:"xs",isCircled:!0}),children:(0,x.t)("Create Dashboard")})]}),this.renderActions(),this.renderDashboards()]})})})})})}}]),p}(z.Z),Ce=(0,l.Z)(w.JH,{target:"e1bpet4v4"})({name:"1hcx8jb",styles:"padding:0"}),ze=(0,l.Z)(v.Z,{target:"e1bpet4v3"})("flex-grow:1;margin-right:",(0,_.Z)(2),";margin-bottom:",(0,_.Z)(2),";"),Pe=(0,l.Z)("div",{target:"e1bpet4v2"})("display:flex;align-items:flex-end;font-size:",(function(e){return e.theme.headerFontSize}),";color:",(function(e){return e.theme.textColor}),";justify-content:space-between;margin-bottom:",(0,_.Z)(2),";"),Se=(0,l.Z)(f.ZP,{target:"e1bpet4v1"})("margin-bottom:",(0,_.Z)(2),";"),qe=(0,l.Z)("div",{target:"e1bpet4v0"})("display:grid;grid-template-columns:auto max-content min-content;width:100%;@media (max-width: ",(function(e){return e.theme.breakpoints[0]}),"){grid-template-columns:auto;}margin-bottom:",(0,_.Z)(1),";align-items:center;");const Ne=(0,O.Z)((0,C.Z)(Oe))},"./app/views/dashboardsV2/types.tsx":(e,t,r)=>{"use strict";var n,o;r.d(t,{F:()=>n,n:()=>o}),function(e){e.AREA="area",e.BAR="bar",e.LINE="line",e.TABLE="table",e.WORLD_MAP="world_map",e.BIG_NUMBER="big_number",e.STACKED_AREA="stacked_area"}(n||(n={})),function(e){e.VIEW="view",e.EDIT="edit",e.CREATE="create",e.PENDING_DELETE="pending_delete"}(o||(o={}))},"./app/views/dashboardsV2/utils.tsx":(e,t,r)=>{"use strict";r.d(t,{q:()=>i,t:()=>d});var n=r("../node_modules/lodash/cloneDeep.js"),o=r.n(n),a=r("./app/utils/dates.tsx"),s=r("./app/utils/discover/eventView.tsx");function i(e){return o()(e)}function d(e,t,r){var n=r.datetime,o=n.start,i=n.end,d=n.period,c=r.projects,l=r.environments;return s.ZP.fromSavedQuery({id:void 0,name:e,version:2,fields:t.fields,query:t.conditions,orderby:t.orderby,projects:c,range:d,start:o?(0,a.v5)(o):void 0,end:i?(0,a.v5)(i):void 0,environment:l})}},"./images/dashboard/widget-area.svg":(e,t,r)=>{e.exports=r.p+"dashboard/widget-area.843693.svg"},"./images/dashboard/widget-bar.svg":(e,t,r)=>{e.exports=r.p+"dashboard/widget-bar.8913b0.svg"},"./images/dashboard/widget-big-number.svg":(e,t,r)=>{e.exports=r.p+"dashboard/widget-big-number.1b5f87.svg"},"./images/dashboard/widget-line-1.svg":(e,t,r)=>{e.exports=r.p+"dashboard/widget-line-1.6f678e.svg"},"./images/dashboard/widget-table.svg":(e,t,r)=>{e.exports=r.p+"dashboard/widget-table.f6a36f.svg"},"./images/dashboard/widget-world-map.svg":(e,t,r)=>{e.exports=r.p+"dashboard/widget-world-map.b5c509.svg"}}]);
//# sourceMappingURL=app_views_dashboardsV2_manage_index_tsx.js.map