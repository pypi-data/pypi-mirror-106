(self.webpackChunk=self.webpackChunk||[]).push([["app_components_gridEditable_sortLink_tsx-app_utils_discover_charts_tsx-app_views_eventsV2_tab-97a381"],{"./app/components/gridEditable/sortLink.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>_}),r("../node_modules/core-js/modules/es.reflect.construct.js"),r("../node_modules/core-js/modules/es.object.keys.js"),r("../node_modules/core-js/modules/es.symbol.js"),r("../node_modules/core-js/modules/es.array.filter.js"),r("../node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),r("../node_modules/core-js/modules/es.array.for-each.js"),r("../node_modules/core-js/modules/web.dom-collections.for-each.js"),r("../node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),r("../node_modules/core-js/modules/es.object.define-properties.js"),r("../node_modules/core-js/modules/es.object.define-property.js");var n=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=r("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),s=r("../node_modules/@babel/runtime/helpers/esm/createClass.js"),i=r("../node_modules/@babel/runtime/helpers/esm/inherits.js"),a=r("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),l=r("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),d=r("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),u=r("../node_modules/react/index.js"),c=r("../node_modules/lodash/omit.js"),m=r.n(c),p=r("./app/components/links/link.tsx"),f=r("./app/icons/index.tsx"),h=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var g=function(e){(0,i.Z)(d,e);var t,r,n=(t=d,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,l.Z)(t);if(r){var o=(0,l.Z)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,a.Z)(this,e)});function d(){return(0,o.Z)(this,d),n.apply(this,arguments)}return(0,s.Z)(d,[{key:"renderArrow",value:function(){var e=this.props.direction;return e?"desc"===e?(0,h.tZ)(v,{size:"xs",direction:"down"}):(0,h.tZ)(v,{size:"xs",direction:"up"}):null}},{key:"render",value:function(){var e=this.props,t=e.align,r=e.title,n=e.canSort,o=e.generateSortLink,s=e.onClick,i=o();return i&&n?(0,h.BX)(j,{align:t,to:i,onClick:s,children:[r," ",this.renderArrow()]}):(0,h.tZ)(y,{align:t,children:r})}}]),d}(u.Component);g.displayName="SortLink";var j=(0,d.Z)((function(e){var t=m()(e,["align"]);return(0,h.tZ)(p.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t))}),{target:"e1xb2te62"})("display:block;width:100%;white-space:nowrap;color:inherit;&:hover,&:active,&:focus,&:visited{color:inherit;}",(function(e){return e.align?"text-align: ".concat(e.align,";"):""}),";"),y=(0,d.Z)("div",{target:"e1xb2te61"})("display:block;width:100%;white-space:nowrap;",(function(e){return e.align?"text-align: ".concat(e.align,";"):""}),";"),v=(0,d.Z)(f.CC,{target:"e1xb2te60"})({name:"40f4ru",styles:"vertical-align:top"});const _=g},"./app/utils/discover/charts.tsx":(e,t,r)=>{"use strict";r.d(t,{CX:()=>i,gu:()=>a,b4:()=>l}),r("../node_modules/core-js/modules/es.date.to-string.js"),r("../node_modules/core-js/modules/es.object.to-string.js"),r("../node_modules/core-js/modules/es.regexp.to-string.js"),r("../node_modules/core-js/modules/es.number.to-fixed.js");var n=r("./app/locale.tsx"),o=r("./app/utils/discover/fields.tsx"),s=r("./app/utils/formatters.tsx");function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";switch((0,o.Px)(t)){case"integer":case"number":return e.toLocaleString();case"percentage":return(0,s.rl)(e,2);case"duration":return(0,s.g9)(e/1e3,2,!0);default:return e.toString()}}function a(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];switch((0,o.Px)(t)){case"integer":case"number":return r?(0,s.Du)(e):e.toLocaleString();case"percentage":return(0,s.rl)(e,0);case"duration":return l(e);default:return e.toString()}}function l(e){if(0===e)return"0";if(e>=s.ps){var t=(e/s.ps).toFixed(0);return(0,n.t)("%swk",t)}if(e>=s.x4){var r=(e/s.x4).toFixed(0);return(0,n.t)("%sd",r)}if(e>=s.kr){var o=(e/s.kr).toFixed(0);return(0,n.t)("%shr",o)}if(e>=s.EB){var i=(e/s.EB).toFixed(0);return(0,n.t)("%smin",i)}if(e>=s.sh){var a=(e/s.sh).toFixed(0);return(0,n.t)("%ss",a)}var l=e.toFixed(0);return(0,n.t)("%sms",l)}},"./app/views/eventsV2/table/cellAction.tsx":(e,t,r)=>{"use strict";r.d(t,{eX:()=>n,rh:()=>S,ZP:()=>C}),r("../node_modules/core-js/modules/es.reflect.construct.js"),r("../node_modules/core-js/modules/es.object.keys.js"),r("../node_modules/core-js/modules/es.symbol.js"),r("../node_modules/core-js/modules/es.array.filter.js"),r("../node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),r("../node_modules/core-js/modules/es.array.for-each.js"),r("../node_modules/core-js/modules/web.dom-collections.for-each.js"),r("../node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),r("../node_modules/core-js/modules/es.object.define-properties.js"),r("../node_modules/core-js/modules/es.object.define-property.js");var n,o=r("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),s=r("../node_modules/@babel/runtime/helpers/esm/createClass.js"),i=r("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),a=r("../node_modules/@babel/runtime/helpers/esm/inherits.js"),l=r("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),d=r("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),u=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),c=r("../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),m=r("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),p=(r("../node_modules/core-js/modules/es.function.name.js"),r("../node_modules/core-js/modules/es.array.is-array.js"),r("../node_modules/core-js/modules/es.array.iterator.js"),r("../node_modules/core-js/modules/es.object.to-string.js"),r("../node_modules/core-js/modules/es.set.js"),r("../node_modules/core-js/modules/es.string.iterator.js"),r("../node_modules/core-js/modules/web.dom-collections.iterator.js"),r("../node_modules/core-js/modules/es.array.concat.js"),r("../node_modules/core-js/modules/es.array.includes.js"),r("../node_modules/core-js/modules/es.string.includes.js"),r("../node_modules/react/index.js")),f=r("../node_modules/react-dom/index.js"),h=r("../node_modules/react-popper/lib/esm/Popper.js"),b=r("../node_modules/react-popper/lib/esm/Manager.js"),g=r("../node_modules/react-popper/lib/esm/Reference.js"),j=r("../node_modules/color/index.js"),y=r.n(j),v=r("./app/icons/index.tsx"),_=r("./app/locale.tsx"),x=r("./app/styles/space.tsx"),w=r("./app/utils/discover/fields.tsx"),Z=r("./app/utils/formatters.tsx"),k=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(e,t,r,o){var s=r.name;switch("duration"===r.type&&"number"==typeof o&&(o=(0,Z.g9)(o/1e3,2,!0)),Array.isArray(o)&&1===(o=(0,c.Z)(new Set(o))).length&&(o=o[0]),t){case n.ADD:if(null==o)e.removeTagValue("has",s),e.addTagValues("!has",[s]);else{if(e.removeTag("!".concat(s)),Array.isArray(o)){var i=e.getTagValues(s);o=(0,c.Z)(new Set([].concat((0,c.Z)(i),(0,c.Z)(o))))}else o=[String(o)];e.setTagValues(s,o)}break;case n.EXCLUDE:if(null==o)e.removeTagValue("!has",s),e.addTagValues("has",[s]);else{e.removeTag(s);var a="!".concat(s);o=Array.isArray(o)?o:[String(o)];var l=e.getTagValues(a);o=(0,c.Z)(new Set([].concat((0,c.Z)(l),(0,c.Z)(o)))),e.setTagValues(a,o)}break;case n.SHOW_GREATER_THAN:e.setTagValues(s,[">".concat(o)]);break;case n.SHOW_LESS_THAN:e.setTagValues(s,["<".concat(o)]);break;case n.TRANSACTION:case n.RELEASE:case n.DRILLDOWN:break;default:throw new Error("Unknown action type. ".concat(t))}}!function(e){e.ADD="add",e.EXCLUDE="exclude",e.SHOW_GREATER_THAN="show_greater_than",e.SHOW_LESS_THAN="show_less_than",e.TRANSACTION="transaction",e.RELEASE="release",e.DRILLDOWN="drilldown"}(n||(n={}));var A=function(e){(0,a.Z)(m,e);var t,r,c=(t=m,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,d.Z)(t);if(r){var o=(0,d.Z)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,l.Z)(this,e)});function m(e){var t;(0,o.Z)(this,m),t=c.call(this,e),(0,u.Z)((0,i.Z)(t),"state",{isHovering:!1,isOpen:!1}),(0,u.Z)((0,i.Z)(t),"portalEl",void 0),(0,u.Z)((0,i.Z)(t),"menuEl",void 0),(0,u.Z)((0,i.Z)(t),"handleClickOutside",(function(e){t.menuEl&&e.target instanceof Element&&(t.menuEl.contains(e.target)||t.setState({isOpen:!1,isHovering:!1}))})),(0,u.Z)((0,i.Z)(t),"handleMouseEnter",(function(){t.setState({isHovering:!0})})),(0,u.Z)((0,i.Z)(t),"handleMouseLeave",(function(){t.setState((function(e){return e.isOpen?e:E(E({},e),{},{isHovering:!1})}))})),(0,u.Z)((0,i.Z)(t),"handleMenuToggle",(function(e){e.preventDefault(),t.setState({isOpen:!t.state.isOpen})}));var r=document.getElementById("cell-action-portal");return r||((r=document.createElement("div")).setAttribute("id","cell-action-portal"),document.body.appendChild(r)),t.portalEl=r,t.menuEl=null,t}return(0,s.Z)(m,[{key:"componentDidUpdate",value:function(e,t){this.state.isOpen&&!1===t.isOpen&&document.addEventListener("click",this.handleClickOutside,!0),!1===this.state.isOpen&&t.isOpen&&document.removeEventListener("click",this.handleClickOutside,!0)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClickOutside,!0)}},{key:"renderMenuButtons",value:function(){var e=this.props,t=e.dataRow,r=e.column,o=e.handleCellAction,s=e.allowActions;if((0,w.sU)(r.name))return null;var i=t[(0,w.LY)(r.name)];Array.isArray(i)&&null===i[0]&&"field"===r.column.kind&&"error.handled"===r.column.field&&(i=1);var a=[];function l(e,t){(Array.isArray(s)&&s.includes(e)||!s)&&a.push(t)}return(!["duration","number","percentage"].includes(r.type)||null===i&&"field"===r.column.kind)&&(l(n.ADD,(0,k.tZ)(H,{"data-test-id":"add-to-filter",onClick:function(){return o(n.ADD,i)},children:(0,_.t)("Add to filter")},"add-to-filter")),"date"!==r.type&&l(n.EXCLUDE,(0,k.tZ)(H,{"data-test-id":"exclude-from-filter",onClick:function(){return o(n.EXCLUDE,i)},children:(0,_.t)("Exclude from filter")},"exclude-from-filter"))),["date","duration","integer","number","percentage"].includes(r.type)&&null!==i&&(l(n.SHOW_GREATER_THAN,(0,k.tZ)(H,{"data-test-id":"show-values-greater-than",onClick:function(){return o(n.SHOW_GREATER_THAN,i)},children:(0,_.t)("Show values greater than")},"show-values-greater-than")),l(n.SHOW_LESS_THAN,(0,k.tZ)(H,{"data-test-id":"show-values-less-than",onClick:function(){return o(n.SHOW_LESS_THAN,i)},children:(0,_.t)("Show values less than")},"show-values-less-than"))),"field"===r.column.kind&&"transaction"===r.column.field&&l(n.TRANSACTION,(0,k.tZ)(H,{"data-test-id":"transaction-summary",onClick:function(){return o(n.TRANSACTION,i)},children:(0,_.t)("Go to summary")},"transaction-summary")),"field"===r.column.kind&&"release"===r.column.field&&i&&l(n.RELEASE,(0,k.tZ)(H,{"data-test-id":"release",onClick:function(){return o(n.RELEASE,i)},children:(0,_.t)("Go to release")},"release")),"function"===r.column.kind&&"count_unique"===r.column.function[0]&&l(n.DRILLDOWN,(0,k.tZ)(H,{"data-test-id":"per-cell-drilldown",onClick:function(){return o(n.DRILLDOWN,i)},children:(0,_.t)("View Stacks")},"drilldown")),0===a.length?null:(0,k.tZ)(D,{onClick:function(e){e.stopPropagation()},children:a})}},{key:"renderMenu",value:function(){var e=this,t=this.state.isOpen,r=this.renderMenuButtons();if(null===r)return null;var n=null;return t&&(n=f.createPortal((0,k.tZ)(h.ZP,{placement:"top",modifiers:{hide:{enabled:!1},preventOverflow:{padding:10,enabled:!0,boundariesElement:"viewport"}},children:function(t){var n=t.ref,o=t.style,s=t.placement,i=t.arrowProps;return(0,k.BX)(L,{ref:function(t){n(t),e.menuEl=t},style:o,children:[(0,k.tZ)(P,{ref:i.ref,"data-placement":s,style:i.style}),r]})}}),this.portalEl)),(0,k.tZ)(T,{children:(0,k.BX)(b.ZP,{children:[(0,k.tZ)(g.Z,{children:function(t){var r=t.ref;return(0,k.tZ)(N,{ref:r,onClick:e.handleMenuToggle,children:(0,k.tZ)(v.YR,{size:"sm","data-test-id":"cell-action",color:"blue300"})})}}),n]})})}},{key:"render",value:function(){var e=this.props.children,t=this.state.isHovering;return(0,k.BX)(R,{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,children:[e,t&&this.renderMenu()]})}}]),m}(p.Component);A.displayName="CellAction";const C=A;var R=(0,m.Z)("div",{target:"e18g1e9m6"})({name:"zxsb69",styles:"position:relative;width:100%;height:100%"}),T=(0,m.Z)("div",{target:"e18g1e9m5"})({name:"1lby940",styles:"position:absolute;top:0;right:0"}),L=(0,m.Z)("div",{target:"e18g1e9m4"})("margin:",(0,x.Z)(1)," 0;z-index:",(function(e){return e.theme.zIndex.tooltip}),";"),D=(0,m.Z)("div",{target:"e18g1e9m3"})("background:",(function(e){return e.theme.background}),";border:1px solid ",(function(e){return e.theme.border}),";border-radius:",(function(e){return e.theme.borderRadius}),";box-shadow:",(function(e){return e.theme.dropShadowHeavy}),";overflow:hidden;"),P=(0,m.Z)("span",{target:"e18g1e9m2"})("position:absolute;width:18px;height:9px;&[data-placement*='bottom']{margin-top:-9px;&::before{border-width:0 9px 9px 9px;border-color:transparent transparent ",(function(e){return e.theme.border})," transparent;}&::after{top:1px;left:1px;border-width:0 8px 8px 8px;border-color:transparent transparent ",(function(e){return e.theme.background})," transparent;}}&[data-placement*='top']{margin-bottom:-8px;bottom:0;&::before{border-width:9px 9px 0 9px;border-color:",(function(e){return e.theme.border})," transparent transparent transparent;}&::after{bottom:1px;left:1px;border-width:8px 8px 0 8px;border-color:",(function(e){return e.theme.background})," transparent transparent transparent;}}&::before,&::after{width:0;height:0;content:'';display:block;position:absolute;border-style:solid;}"),H=(0,m.Z)("button",{target:"e18g1e9m1"})("display:block;width:100%;padding:",(0,x.Z)(1)," ",(0,x.Z)(2),";background:transparent;outline:none;border:0;border-bottom:1px solid ",(function(e){return e.theme.innerBorder}),";font-size:",(function(e){return e.theme.fontSizeMedium}),";text-align:left;line-height:1.2;&:hover{background:",(function(e){return e.theme.backgroundSecondary}),";}&:last-child{border-bottom:0;}"),N=(0,m.Z)("button",{target:"e18g1e9m0"})("display:flex;width:24px;height:24px;padding:0;justify-content:center;align-items:center;background:",(function(e){return y()(e.theme.background).alpha(.85).string()}),";border-radius:",(function(e){return e.theme.borderRadius}),";border:1px solid ",(function(e){return e.theme.border}),";cursor:pointer;outline:none;")}}]);
//# sourceMappingURL=app_components_gridEditable_sortLink_tsx-app_utils_discover_charts_tsx-app_views_eventsV2_tab-97a381.js.map