(self.webpackChunk=self.webpackChunk||[]).push([["app_views_settings_account_accountNotificationFineTuning_tsx"],{"./app/data/forms/accountNotificationSettings.tsx":(e,t,o)=>{"use strict";o.r(t),o.d(t,{route:()=>n,fields:()=>s,default:()=>i});var r=o("./app/locale.tsx"),n="/settings/account/notifications/",s={subscribeByDefault:{name:"subscribeByDefault",type:"boolean",label:(0,r.t)("Send Me Alerts"),help:(0,r.t)("Enable this to receive notifications for Alerts sent to your teams. You will always receive alerts configured to be sent directly to you.")},workflowNotifications:{name:"workflowNotifications",type:"radio",label:(0,r.t)("Send Me Workflow Notifications"),choices:[[0,(0,r.t)("Always")],[1,(0,r.t)("Only On Issues I Subscribe To")],[2,(0,r.t)("Never")]],help:(0,r.t)("E.g. changes in issue assignment, resolution status, and comments.")},weeklyReports:{name:"weeklyReports",type:"boolean",label:(0,r.t)("Send Me Weekly Reports"),help:(0,r.t)("Reports contain a summary of what's happened within your organization."),disabled:!0},deployNotifications:{name:"deployNotifications",type:"radio",label:(0,r.t)("Send Me Deploy Notifications"),choices:[[2,(0,r.t)("Always")],[3,(0,r.t)("Only On Deploys With My Commits")],[4,(0,r.t)("Never")]],help:(0,r.t)("Deploy emails include release, environment and commit overviews.")},personalActivityNotifications:{name:"personalActivityNotifications",type:"boolean",label:(0,r.t)("Notify Me About My Own Activity"),help:(0,r.t)("Enable this to receive notifications about your own actions on Sentry.")},selfAssignOnResolve:{name:"selfAssignOnResolve",type:"boolean",label:(0,r.t)("Claim Unassigned Issues I've Resolved"),help:(0,r.t)("You'll receive notifications about any changes that happen afterwards.")}};const i=[{title:(0,r.t)("Alerts"),fields:[s.subscribeByDefault]},{title:(0,r.t)("Workflow Notifications"),fields:[s.workflowNotifications]},{title:(0,r.t)("Email Routing"),fields:[]},{title:(0,r.t)("Weekly Reports"),fields:[]},{title:(0,r.t)("Deploy Notifications"),fields:[s.deployNotifications]},{title:(0,r.t)("My Activity"),fields:[s.personalActivityNotifications,s.selfAssignOnResolve]}]},"./app/views/asyncView.tsx":(e,t,o)=>{"use strict";o.d(t,{Z:()=>p}),o("../node_modules/core-js/modules/es.reflect.construct.js");var r=o("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),n=o("../node_modules/@babel/runtime/helpers/esm/createClass.js"),s=o("../node_modules/@babel/runtime/helpers/esm/inherits.js"),i=o("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),a=o("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),l=(o("../node_modules/react/index.js"),o("../node_modules/react-document-title/index.js")),c=o.n(l),u=o("./app/components/asyncComponent.tsx"),d=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");var p=function(e){(0,s.Z)(u,e);var t,o,l=(t=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,a.Z)(t);if(o){var n=(0,a.Z)(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)});function u(){return(0,r.Z)(this,u),l.apply(this,arguments)}return(0,n.Z)(u,[{key:"getTitle",value:function(){return""}},{key:"render",value:function(){var e=this.getTitle();return(0,d.tZ)(c(),{title:"".concat(e?"".concat(e," - "):"","Sentry"),children:this.renderComponent()})}}]),u}(u.Z);p.displayName="AsyncView"},"./app/views/settings/account/accountNotificationFineTuning.tsx":(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>ne}),o("../node_modules/core-js/modules/es.object.keys.js"),o("../node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),o("../node_modules/core-js/modules/es.array.for-each.js"),o("../node_modules/core-js/modules/web.dom-collections.for-each.js"),o("../node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),o("../node_modules/core-js/modules/es.object.define-properties.js"),o("../node_modules/core-js/modules/es.object.define-property.js"),o("../node_modules/core-js/modules/es.reflect.construct.js");var r=o("../node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),n=o("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),s=o("../node_modules/@babel/runtime/helpers/esm/createClass.js"),i=o("../node_modules/@babel/runtime/helpers/esm/inherits.js"),a=o("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),l=o("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),c=o("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),u=o("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),d=o("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),p=(o("../node_modules/core-js/modules/es.symbol.js"),o("../node_modules/core-js/modules/es.symbol.description.js"),o("../node_modules/core-js/modules/es.array.map.js"),o("../node_modules/core-js/modules/es.object.values.js"),o("../node_modules/core-js/modules/es.function.name.js"),o("../node_modules/core-js/modules/es.array.filter.js"),o("../node_modules/core-js/modules/es.array.sort.js"),o("../node_modules/core-js/modules/es.array.includes.js"),o("../node_modules/core-js/modules/es.array.some.js"),o("../node_modules/core-js/modules/es.string.includes.js"),o("../node_modules/react/index.js")),f=o("./app/components/pagination.tsx"),m=o("./app/components/panels/index.tsx"),y=o("./app/data/forms/accountNotificationSettings.tsx"),j=o("./app/locale.tsx"),h=o("./app/utils/withOrganizations.tsx"),b=o("./app/views/asyncView.tsx"),v={alerts:{title:"Project Alerts",description:(0,j.t)("Control alerts that you receive per project."),type:"select",choices:[["-1",(0,j.t)("Default")],["1",(0,j.t)("On")],["0",(0,j.t)("Off")]],defaultValue:"-1",defaultFieldName:"subscribeByDefault"},workflow:{title:"Workflow Notifications",description:(0,j.t)("Control workflow notifications, e.g. changes in issue assignment, resolution status, and comments."),type:"select",choices:[["-1",(0,j.t)("Default")],["0",(0,j.t)("Always")],["1",(0,j.t)("Only on issues I subscribe to")],["2",(0,j.t)("Never")]],defaultValue:"-1",defaultFieldName:"workflowNotifications"},deploy:{title:(0,j.t)("Deploy Notifications"),description:(0,j.t)("Control deploy notifications that include release, environment, and commit overviews."),type:"select",choices:[["-1",(0,j.t)("Default")],["2",(0,j.t)("Always")],["3",(0,j.t)("Only on deploys with my commits")],["4",(0,j.t)("Never")]],defaultValue:"-1",defaultFieldName:"deployNotifications"},reports:{title:(0,j.t)("Weekly Reports"),description:(0,j.t)("Reports contain a summary of what's happened within the organization."),type:"select",defaultValue:"1",choices:[["1",(0,j.t)("On")],["0",(0,j.t)("Off")]],defaultFieldName:"weeklyReports"},email:{title:(0,j.t)("Email Routing"),description:(0,j.t)("On a per project basis, route emails to an alternative email address."),type:"select"}},g=o("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),Z=o("../node_modules/@babel/runtime/helpers/esm/get.js"),O=(o("../node_modules/core-js/modules/es.array.concat.js"),o("../node_modules/core-js/modules/es.array.iterator.js"),o("../node_modules/core-js/modules/es.object.from-entries.js"),o("../node_modules/core-js/modules/es.object.entries.js"),o("../node_modules/core-js/modules/es.regexp.exec.js"),o("../node_modules/core-js/modules/es.string.split.js"),o("../node_modules/core-js/modules/es.object.assign.js"),o("../node_modules/core-js/modules/es.array.every.js"),o("./app/components/alert.tsx")),w=o("./app/components/asyncComponent.tsx"),P=o("./app/components/avatar/index.tsx"),_=o("./app/icons/index.tsx"),k=o("./app/styles/space.tsx"),x={alerts:{name:"alerts",type:"select",label:(0,j.t)("Issue Alert Notifications"),choices:[["always",(0,j.t)("On")],["never",(0,j.t)("Off")]]},deploy:{name:"deploy",type:"select",label:(0,j.t)("Deploy Notifications"),choices:[["always",(0,j.t)("On")],["committed_only",(0,j.t)("Only Committed Issues")],["never",(0,j.t)("Off")]]},provider:{name:"provider",type:"select",label:(0,j.t)("Delivery Method"),choices:[["email",(0,j.t)("Send to Email")],["slack",(0,j.t)("Send to Slack")],["email+slack",(0,j.t)("Send to Email and Slack")]]},workflow:{name:"workflow",type:"select",label:(0,j.t)("Workflow Notifications"),choices:[["always",(0,j.t)("On")],["subscribe_only",(0,j.t)("Only Subscribed Issues")],["never",(0,j.t)("Off")]]}},D=(o("../node_modules/core-js/modules/es.array.slice.js"),o("../node_modules/core-js/modules/es.object.to-string.js"),o("../node_modules/core-js/modules/es.array.from.js"),o("../node_modules/core-js/modules/es.string.iterator.js"),o("../node_modules/core-js/modules/es.symbol.iterator.js"),o("../node_modules/core-js/modules/web.dom-collections.iterator.js"),o("../node_modules/core-js/modules/es.array.is-array.js"),o("../node_modules/core-js/modules/es.array.reduce.js"),o("../node_modules/core-js/modules/es.array.join.js"),o("../node_modules/core-js/modules/es.array.find.js"),o("../node_modules/lodash/set.js")),S=o.n(D);function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}var N=function(e){return["alerts","email","workflow"].includes(e)},R=function(e){return e.reduce((function(e,t){var o=t.organization.slug;return e.hasOwnProperty(o)?e[o].projects.push(t):e[o]={organization:t.organization,projects:[t]},e}),{})},T=function(e){switch(e){case"alerts":return"always";case"deploy":return"committed_only";case"workflow":return"subscribe_only";default:return""}},B=function(e,t){if(!e)return"default";var o=e.find((function(e){return e[0]===t}));if(!o)throw new Error("Could not find ".concat(t));return o[1]},C=function(e,t,o,n){for(var s=[],i=o,a=0,l=Object.entries(e);a<l.length;a++){var c=(0,r.Z)(l[a],2),u=c[0],d=c[1];i=d;var p;p=t.includes(u)?d:"user"===n?"never":"default",s.push([u,p])}var f,m=function(e,t){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=function(e,t){if(e){if("string"==typeof e)return F(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?F(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,a=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return i=e.done,e},e:function(e){a=!0,s=e},f:function(){try{i||null==o.return||o.return()}finally{if(a)throw s}}}}(t);try{for(m.s();!(f=m.n()).done;){var y=f.value;s.push([y,i])}}catch(e){m.e(e)}finally{m.f()}return Object.fromEntries(s)},E=function(){for(var e={},t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return o.map((function(t){return Object.entries(t).map((function(t){var o=(0,r.Z)(t,2),n=o[0],s=o[1];return Object.entries(s).map((function(t){var o=(0,r.Z)(t,2),s=o[0],i=o[1];return Object.entries(i).map((function(t){var o=(0,r.Z)(t,2),i=o[0],a=o[1];return Object.entries(a).map((function(t){var o=(0,r.Z)(t,2),a=o[0],l=o[1];S()(e,[n,s,i,a].join("."),l)}))}))}))}))})),e},A=o("./app/views/settings/components/forms/form.tsx"),V=o("./app/views/settings/components/forms/jsonForm.tsx"),z=o("./app/views/settings/components/settingsPageHeader.tsx"),I=o("./app/views/settings/components/text/textBlock.tsx"),M=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function U(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function W(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?U(Object(o),!0).forEach((function(t){(0,c.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):U(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var G=function(e){(0,i.Z)(d,e);var t,o,u=(t=d,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,l.Z)(t);if(o){var n=(0,l.Z)(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return(0,a.Z)(this,e)});function d(){var e;(0,n.Z)(this,d);for(var t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return e=u.call.apply(u,[this].concat(o)),(0,c.Z)((0,g.Z)(e),"getParentKey",(function(){return e.isGroupedByProject()?"project":"organization"})),(0,c.Z)((0,g.Z)(e),"getUserDefaultValues",(function(){var t,o=e.props.notificationType,r=e.state.notificationSettings;return Object.values((null===(t=r[o])||void 0===t?void 0:t.user)||{}).pop()||{email:T(o)}})),(0,c.Z)((0,g.Z)(e),"getParentValues",(function(t){var o,r,n=e.props.notificationType;return(null===(o=e.state.notificationSettings[n])||void 0===o||null===(r=o[e.getParentKey()])||void 0===r?void 0:r[t])||{email:"default"}})),(0,c.Z)((0,g.Z)(e),"getParentData",(function(){var t=e.getCurrentProviders()[0];return Object.fromEntries(e.getParents().map((function(o){return[o.id,e.getParentValues(o.id)[t]]})))})),(0,c.Z)((0,g.Z)(e),"getCurrentProviders",(function(){var t=e.getUserDefaultValues();return Object.entries(t).filter((function(e){var t=(0,r.Z)(e,2),o=(t[0],t[1]);return!["never"].includes(o)})).map((function(e){var t=(0,r.Z)(e,2),o=t[0];return t[1],o}))})),(0,c.Z)((0,g.Z)(e),"getStateToPutForProvider",(function(t){var o,n=e.props.notificationType,s=e.state.notificationSettings,i=t.provider.split("+"),a=T(n);return o=Object.keys(s).length?(0,c.Z)({},n,Object.fromEntries(Object.entries(s[n]).map((function(e){var t=(0,r.Z)(e,2),o=t[0],n=t[1];return[o,Object.fromEntries(Object.entries(n).map((function(e){var t=(0,r.Z)(e,2),n=t[0],s=t[1];return[n,C(s,i,a,o)]})))]})))):(0,c.Z)({},n,{user:{me:Object.fromEntries(i.map((function(e){return[e,a]})))}}),e.setState({notificationSettings:E(s,o)}),o})),(0,c.Z)((0,g.Z)(e),"getStateToPutForDefault",(function(t){var o=e.props.notificationType,r=e.state.notificationSettings,n=Object.values(t)[0],s=e.getCurrentProviders();s.length||(s=["email"]);var i=(0,c.Z)({},o,{user:{me:Object.fromEntries(s.map((function(e){return[e,n]})))}});return"never"===n&&(i[o][e.getParentKey()]=Object.fromEntries(e.getParents().map((function(e){return[e.id,Object.fromEntries(s.map((function(e){return[e,"default"]})))]})))),e.setState({notificationSettings:E(r,i)}),i})),(0,c.Z)((0,g.Z)(e),"getStateToPutForParent",(function(t,o){var r=e.props.notificationType,n=e.state.notificationSettings,s=e.getCurrentProviders(),i=Object.values(t)[0],a=(0,c.Z)({},r,(0,c.Z)({},e.getParentKey(),(0,c.Z)({},o,Object.fromEntries(s.map((function(e){return[e,i]}))))));return e.setState({notificationSettings:E(n,a)}),a})),(0,c.Z)((0,g.Z)(e),"getGroupedParents",(function(){var t=e.props.organizations,o=e.state.projects;return e.isGroupedByProject()?Object.fromEntries(Object.values(R(o)).map((function(e){var t=e.organization,o=e.projects;return["".concat(t.name," Projects"),o]}))):{organizations:t}})),(0,c.Z)((0,g.Z)(e),"getParentField",(function(t){var o,r=e.props.notificationType,n=x[r],s=Object.values(e.getUserDefaultValues())[0];return Object.assign({},n,{label:(0,M.BX)(H,{children:[(0,M.tZ)(P.Z,W({},(0,c.Z)({},e.isGroupedByProject()?"project":"organization",t))),(0,M.tZ)("span",{children:t.slug})]}),getData:function(o){return e.getStateToPutForParent(o,t.id)},name:t.id,choices:null===(o=n.choices)||void 0===o?void 0:o.concat([["default","".concat((0,j.t)("Default")," (").concat(B(n.choices,s),")")]]),defaultValue:"default"})})),(0,c.Z)((0,g.Z)(e),"isEverythingDisabled",(function(){var t,o=e.props.notificationType,r=e.state.notificationSettings;return Object.values(e.getUserDefaultValues()).every((function(e){return"never"===e}))&&Object.values((null===(t=r[o])||void 0===t?void 0:t[e.getParentKey()])||{}).every((function(e){return Object.values(e).every((function(e){return["never","default"].includes(e)}))}))})),e}return(0,s.Z)(d,[{key:"getDefaultState",value:function(){return W(W({},(0,Z.Z)((0,l.Z)(d.prototype),"getDefaultState",this).call(this)),{},{notificationSettings:{},projects:[]})}},{key:"getEndpoints",value:function(){var e=[["notificationSettings","/users/me/notification-settings/",{query:{type:this.props.notificationType}}]];return this.isGroupedByProject()&&e.push(["projects","/projects/"]),e}},{key:"isGroupedByProject",value:function(){var e=this.props.notificationType;return N(e)}},{key:"getParents",value:function(){var e=this.props.organizations,t=this.state.projects;return this.isGroupedByProject()?t:e}},{key:"getInitialData",value:function(){var e=this.props.notificationType,t=this.getCurrentProviders(),o=(0,c.Z)({},e,t.length?this.getUserDefaultValues()[t[0]]:"never");return this.isEverythingDisabled()||(o.provider=t.sort().join("+")),o}},{key:"getFields",value:function(){var e=this,t=this.props.notificationType,o=[Object.assign({help:(0,j.t)("This is the default for all projects."),getData:function(t){return e.getStateToPutForDefault(t)}},x[t])];return this.isEverythingDisabled()||o.push(Object.assign({help:(0,j.t)("Where personal notifications will be sent."),getData:function(t){return e.getStateToPutForProvider(t)}},x.provider)),o}},{key:"renderBody",value:function(){var e=this,t=this.props.notificationType,o=v[t],n=o.title,s=o.description;return(0,M.BX)(p.Fragment,{children:[(0,M.tZ)(z.Z,{title:n}),s&&(0,M.tZ)(I.Z,{children:s}),(0,M.tZ)(X,{type:"info",icon:(0,M.tZ)(_.aU,{}),children:(0,j._N)("Got feedback? Email [email:ecosystem-feedback@sentry.io].",{email:(0,M.tZ)("a",{href:"mailto:ecosystem-feedback@sentry.io"})})}),(0,M.tZ)(A.Z,{saveOnBlur:!0,apiMethod:"PUT",apiEndpoint:"/users/me/notification-settings/",initialData:this.getInitialData(),children:(0,M.tZ)(V.Z,{title:this.isGroupedByProject()?(0,j.t)("All Projects"):(0,j.t)("All Organizations"),fields:this.getFields()})}),!this.isEverythingDisabled()&&(0,M.tZ)(A.Z,{saveOnBlur:!0,apiMethod:"PUT",apiEndpoint:"/users/me/notification-settings/",initialData:this.getParentData(),children:Object.entries(this.getGroupedParents()).map((function(t){var o=(0,r.Z)(t,2),n=o[0],s=o[1];return(0,M.tZ)(V.Z,{title:n,fields:s.map((function(t){return e.getParentField(t)}))},n)}))})]})}}]),d}(w.Z),H=(0,d.Z)("div",{target:"eqind6b1"})("display:flex;gap:",(0,k.Z)(.5),";line-height:16px;"),X=(0,d.Z)(O.Z,{target:"eqind6b0"})({name:"12jd8yt",styles:"margin:20px 0px"});const K=(0,h.Z)(G);var q=o("./app/views/settings/components/emptyMessage.tsx"),L=o("./app/views/settings/components/forms/selectField.tsx");function Q(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function Y(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(o),!0).forEach((function(t){(0,c.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Q(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var J=(0,d.Z)(m.N,{target:"euheq541"})("font-size:1.4rem;&:not(:last-child){border-bottom:1px solid ",(function(e){return e.theme.innerBorder}),";}"),$=function(e){var t=e.projects,o=e.field,r=R(t),n=(o.title,o.description,(0,u.Z)(o,["title","description"])),s=Object.values(r).map((function(e){return{name:e.organization.name,projects:e.projects.map((function(e){return Y(Y({},n),{},{name:e.id,label:e.slug})}))}}));return(0,M.tZ)(p.Fragment,{children:s.map((function(e){var t=e.name,o=e.projects;return(0,M.BX)("div",{children:[(0,M.tZ)(m.V9,{children:t}),o.map((function(e){return(0,M.tZ)(J,{children:(0,M.tZ)(L.Z,{defaultValue:e.defaultValue,name:e.name,choices:e.choices,label:e.label})},e.name)}))]},t)}))})};$.displayName="AccountNotificationsByProject";var ee=function(e){var t=e.organizations,o=e.field,r=(o.title,o.description,(0,u.Z)(o,["title","description"])),n=t.map((function(e){return Y(Y({},r),{},{name:e.id,label:e.slug})}));return(0,M.tZ)(p.Fragment,{children:n.map((function(e){return(0,M.tZ)(J,{children:(0,M.tZ)(L.Z,{defaultValue:e.defaultValue,name:e.name,choices:e.choices,label:e.label})},e.name)}))})};ee.displayName="AccountNotificationsByOrganization";var te=(0,h.Z)(ee),oe=function(e){(0,i.Z)(u,e);var t,o,c=(t=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,l.Z)(t);if(o){var n=(0,l.Z)(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return(0,a.Z)(this,e)});function u(){return(0,n.Z)(this,u),c.apply(this,arguments)}return(0,s.Z)(u,[{key:"getEndpoints",value:function(){var e=this.props.params.fineTuneType,t=[["notifications","/users/me/notifications/"],["fineTuneData","/users/me/notifications/".concat(e,"/")]];return N(e)&&t.push(["projects","/projects/"]),t.push(["emails","/users/me/emails/"]),"email"===e&&t.push(["emails","/users/me/emails/"]),t}},{key:"emailChoices",get:function(){var e,t,o;return null!==(e=null===(t=this.state.emails)||void 0===t||null===(o=t.filter((function(e){return e.isVerified})))||void 0===o?void 0:o.sort((function(e,t){return e.isPrimary?-1:t.isPrimary?1:e.email<t.email?-1:1})))&&void 0!==e?e:[]}},{key:"renderBody",value:function(){var e=this.props,t=e.params,o=e.organizations,n=t.fineTuneType;if(["alerts","deploy","workflow"].includes(n)&&o.some((function(e){return e.features.includes("notification-platform")})))return(0,M.tZ)(K,{notificationType:n});var s=this.state,i=s.notifications,a=s.projects,l=s.fineTuneData,c=s.projectsPageLinks,u=N(n),d=v[n],p=d.title,h=d.description,b=u?this.getEndpoints()[2]:[],g=(0,r.Z)(b,2),Z=g[0],O=g[1],w=!(null==a||!a.length);return"email"===n&&(d.choices=this.emailChoices.map((function(e){var t=e.email;return[t,t]}))),i&&l?(0,M.BX)("div",{children:[(0,M.tZ)(z.Z,{title:p}),h&&(0,M.tZ)(I.Z,{children:h}),d&&d.defaultFieldName&&"weeklyReports"!==d.defaultFieldName&&(0,M.tZ)(A.Z,{saveOnBlur:!0,apiMethod:"PUT",apiEndpoint:"/users/me/notifications/",initialData:i,children:(0,M.tZ)(V.Z,{title:"Default ".concat(p),fields:[y.fields[d.defaultFieldName]]})}),(0,M.tZ)(m.s_,{children:(0,M.BX)(m.N,{children:[(0,M.BX)(m.V9,{hasButtons:u,children:[(0,M.tZ)(re,{children:u?(0,j.t)("Projects"):(0,j.t)("Organizations")}),(0,M.tZ)("div",{children:u&&this.renderSearchInput({placeholder:(0,j.t)("Search Projects"),url:O,stateKey:Z})})]}),(0,M.BX)(A.Z,{saveOnBlur:!0,apiMethod:"PUT",apiEndpoint:"/users/me/notifications/".concat(n,"/"),initialData:l,children:[u&&w&&(0,M.tZ)($,{projects:a,field:d}),u&&!w&&(0,M.tZ)(q.Z,{children:(0,j.t)("No projects found")}),!u&&(0,M.tZ)(te,{field:d})]})]})}),a&&(0,M.tZ)(f.Z,Y({pageLinks:c},this.props))]}):null}}]),u}(b.Z),re=(0,d.Z)("div",{target:"euheq540"})({name:"82a6rk",styles:"flex:1"});const ne=(0,h.Z)(oe)},"./app/views/settings/components/forms/formPanel.tsx":(e,t,o)=>{"use strict";o.d(t,{Z:()=>h}),o("../node_modules/core-js/modules/es.reflect.construct.js"),o("../node_modules/core-js/modules/es.object.keys.js"),o("../node_modules/core-js/modules/es.symbol.js"),o("../node_modules/core-js/modules/es.array.filter.js"),o("../node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),o("../node_modules/core-js/modules/es.array.for-each.js"),o("../node_modules/core-js/modules/web.dom-collections.for-each.js"),o("../node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),o("../node_modules/core-js/modules/es.object.define-properties.js"),o("../node_modules/core-js/modules/es.object.define-property.js");var r=o("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),n=o("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),s=o("../node_modules/@babel/runtime/helpers/esm/createClass.js"),i=o("../node_modules/@babel/runtime/helpers/esm/inherits.js"),a=o("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),l=o("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),c=o("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),u=(o("../node_modules/core-js/modules/es.array.map.js"),o("../node_modules/core-js/modules/es.function.name.js"),o("../node_modules/react/index.js")),d=o("./app/components/panels/index.tsx"),p=o("./app/utils/sanitizeQuerySelector.tsx"),f=o("./app/views/settings/components/forms/fieldFromConfig.tsx"),m=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function y(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function j(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?y(Object(o),!0).forEach((function(t){(0,c.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):y(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var h=function(e){(0,i.Z)(u,e);var t,o,c=(t=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,l.Z)(t);if(o){var n=(0,l.Z)(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return(0,a.Z)(this,e)});function u(){return(0,n.Z)(this,u),c.apply(this,arguments)}return(0,s.Z)(u,[{key:"render",value:function(){var e=this,t=this.props,o=t.title,n=t.fields,s=t.access,i=t.disabled,a=t.additionalFieldProps,l=t.renderFooter,c=t.renderHeader,u=(0,r.Z)(t,["title","fields","access","disabled","additionalFieldProps","renderFooter","renderHeader"]);return(0,m.BX)(d.s_,{id:"string"==typeof o?(0,p.m)(o):void 0,children:[o&&(0,m.tZ)(d.V9,{children:o}),(0,m.BX)(d.N,{children:["function"==typeof c&&c({title:o,fields:n}),n.map((function(t){if("function"==typeof t)return t();t.defaultValue;var o=(0,r.Z)(t,["defaultValue"]);return!0===i&&(o.disabled=!0,o.disabledReason=void 0),(0,m.tZ)(f.Z,j(j(j({access:s,disabled:i},u),a),{},{field:o,highlighted:e.props.highlighted==="#".concat(t.name)}),t.name)})),"function"==typeof l&&l({title:o,fields:n})]})]})}}]),u}(u.Component);h.displayName="FormPanel",(0,c.Z)(h,"defaultProps",{additionalFieldProps:{}})},"./app/views/settings/components/forms/jsonForm.tsx":(e,t,o)=>{"use strict";o.d(t,{Z:()=>w}),o("../node_modules/core-js/modules/es.reflect.construct.js"),o("../node_modules/core-js/modules/es.object.keys.js"),o("../node_modules/core-js/modules/es.symbol.js"),o("../node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),o("../node_modules/core-js/modules/es.array.for-each.js"),o("../node_modules/core-js/modules/web.dom-collections.for-each.js"),o("../node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),o("../node_modules/core-js/modules/es.object.define-properties.js"),o("../node_modules/core-js/modules/es.object.define-property.js");var r=o("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),n=o("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),s=o("../node_modules/@babel/runtime/helpers/esm/createClass.js"),i=o("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),a=o("../node_modules/@babel/runtime/helpers/esm/inherits.js"),l=o("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),c=o("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),u=o("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),d=(o("../node_modules/core-js/modules/es.array.concat.js"),o("../node_modules/core-js/modules/es.array.filter.js"),o("../node_modules/core-js/modules/es.array.every.js"),o("../node_modules/core-js/modules/es.array.map.js"),o("../node_modules/react/index.js")),p=o("../node_modules/react-router/es/index.js"),f=o("../node_modules/@sentry/minimal/esm/index.js"),m=o("../node_modules/scroll-to-element/index.js"),y=o.n(m),j=o("./app/utils.tsx"),h=o("./app/utils/sanitizeQuerySelector.tsx"),b=o("./app/views/settings/components/forms/formPanel.tsx"),v=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function g(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function Z(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?g(Object(o),!0).forEach((function(t){(0,u.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):g(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var O=function(e){(0,a.Z)(m,e);var t,o,p=(t=m,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(o){var n=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function m(){var e,t;(0,n.Z)(this,m);for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return t=p.call.apply(p,[this].concat(r)),(0,u.Z)((0,i.Z)(t),"state",{highlighted:null===(e=t.props.location)||void 0===e?void 0:e.hash}),t}return(0,s.Z)(m,[{key:"componentDidMount",value:function(){this.scrollToHash()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(this.props.location.hash!==e.location.hash){var t=e.location.hash;this.scrollToHash(t),this.setState({highlighted:t})}}},{key:"scrollToHash",value:function(e){var t,o=e||(null===(t=this.props.location)||void 0===t?void 0:t.hash);if(o)try{y()((0,h.m)(decodeURIComponent(o)),{align:"middle",offset:-100})}catch(e){f.Tb(e)}}},{key:"shouldDisplayForm",value:function(e){var t=e.filter((function(e){return"function"!=typeof e&&(0,j.ri)(null==e?void 0:e.visible)}));if(e.length===t.length){var o=this.props,n=o.additionalFieldProps,s=(0,r.Z)(o,["additionalFieldProps"]);return!t.every((function(e){return"function"==typeof e.visible?!e.visible(Z(Z({},s),n)):!e.visible}))}return!0}},{key:"renderForm",value:function(e){var t=e.fields,o=e.formPanelProps,r=e.title;return this.shouldDisplayForm(t)||null!=o&&o.renderFooter||null!=o&&o.renderHeader?(0,v.tZ)(b.Z,Z({title:r,fields:t},o)):null}},{key:"render",value:function(){var e=this,t=this.props,o=t.access,n=t.fields,s=t.title,i=t.forms,a=t.disabled,l=t.features,c=t.additionalFieldProps,u=t.renderFooter,p=t.renderHeader,f=(t.location,(0,r.Z)(t,["access","fields","title","forms","disabled","features","additionalFieldProps","renderFooter","renderHeader","location"])),m={access:o,disabled:a,features:l,additionalFieldProps:c,renderFooter:u,renderHeader:p,highlighted:this.state.highlighted};return(0,v.BX)("div",Z(Z({},f),{},{children:[void 0!==i&&i.map((function(t,o){return(0,v.tZ)(d.Fragment,{children:e.renderForm(Z({formPanelProps:m},t))},o)})),void 0===i&&void 0!==n&&this.renderForm({fields:n,formPanelProps:m,title:s})]}))}}]),m}(d.Component);O.displayName="JsonForm";const w=(0,p.withRouter)(O)}}]);
//# sourceMappingURL=app_views_settings_account_accountNotificationFineTuning_tsx.js.map