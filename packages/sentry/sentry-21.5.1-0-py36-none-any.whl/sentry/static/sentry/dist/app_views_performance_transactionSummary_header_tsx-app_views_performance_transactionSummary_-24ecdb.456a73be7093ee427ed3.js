(self.webpackChunk=self.webpackChunk||[]).push([["app_views_performance_transactionSummary_header_tsx-app_views_performance_transactionSummary_-24ecdb"],{"./app/utils/performance/segmentExplorer/segmentExplorerQuery.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>u}),r("../node_modules/core-js/modules/es.object.keys.js"),r("../node_modules/core-js/modules/es.symbol.js"),r("../node_modules/core-js/modules/es.array.filter.js"),r("../node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),r("../node_modules/core-js/modules/es.array.for-each.js"),r("../node_modules/core-js/modules/web.dom-collections.for-each.js"),r("../node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),r("../node_modules/core-js/modules/es.object.define-properties.js"),r("../node_modules/core-js/modules/es.object.define-property.js");var n=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=(r("../node_modules/core-js/modules/es.array.sort.js"),r("../node_modules/react/index.js"),r("./app/utils/discover/genericDiscoverQuery.tsx")),s=r("./app/utils/withApi.tsx"),a=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e,t){return e.aggregateColumn!==t.aggregateColumn||e.sort!==t.sort||e.allTagKeys!==t.allTagKeys||e.tagKey!==t.tagKey}function c(e){return(0,a.tZ)(o.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({route:"events-facets-performance",getRequestPayload:(t=e,r=t.aggregateColumn,function(e){var n=e.eventView.getEventsAPIPayload(e.location);return n.aggregateColumn=r,n.sort=t.sort?t.sort:n.sort,t.allTagKeys&&(n.allTagKeys=t.allTagKeys),t.tagKey&&(n.tagKey=t.tagKey),n}),shouldRefetchData:l},e));var t,r}c.displayName="SegmentExplorerQuery";const u=(0,s.Z)(c)},"./app/views/performance/breadcrumb.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>Z}),r("../node_modules/core-js/modules/es.reflect.construct.js"),r("../node_modules/core-js/modules/es.object.keys.js"),r("../node_modules/core-js/modules/es.symbol.js"),r("../node_modules/core-js/modules/es.array.filter.js"),r("../node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),r("../node_modules/core-js/modules/es.array.for-each.js"),r("../node_modules/core-js/modules/web.dom-collections.for-each.js"),r("../node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),r("../node_modules/core-js/modules/es.object.define-properties.js"),r("../node_modules/core-js/modules/es.object.define-property.js");var n=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=r("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),s=r("../node_modules/@babel/runtime/helpers/esm/createClass.js"),a=r("../node_modules/@babel/runtime/helpers/esm/inherits.js"),i=r("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),l=r("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),c=r("../node_modules/react/index.js"),u=r("./app/components/breadcrumbs.tsx"),d=r("./app/locale.tsx"),p=r("./app/utils/queryString.tsx"),m=r("./app/views/performance/transactionSummary/transactionVitals/utils.tsx"),y=r("./app/views/performance/transactionSummary/utils.tsx"),f=r("./app/views/performance/vitalDetail/utils.tsx"),g=r("./app/views/performance/utils.tsx"),h=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var b=function(e){(0,a.Z)(c,e);var t,r,n=(t=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,l.Z)(t);if(r){var o=(0,l.Z)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,i.Z)(this,e)});function c(){return(0,o.Z)(this,c),n.apply(this,arguments)}return(0,s.Z)(c,[{key:"getCrumbs",value:function(){var e=[],t=this.props,r=t.organization,n=t.location,o=t.transactionName,s=t.vitalName,a=t.eventSlug,i=t.traceSlug,l=t.transactionComparison,c=t.realUserMonitoring,u={pathname:(0,g.de)(r),query:j(j({},n.query),{},{transaction:void 0})};if(e.push({to:u,label:(0,d.t)("Performance"),preserveGlobalSelection:!0}),s){var h=(0,f.i4)({orgSlug:r.slug,vitalName:"fcp",projectID:(0,p.ro)(n.query.project),query:n.query});e.push({to:h,label:(0,d.t)("Vital Detail"),preserveGlobalSelection:!0})}else if(o)if(c){var v=(0,m.Pl)({orgSlug:r.slug,transaction:o,projectID:(0,p.ro)(n.query.project),query:n.query});e.push({to:v,label:(0,d.t)("Web Vitals"),preserveGlobalSelection:!0})}else{var b=(0,y.e1)({orgSlug:r.slug,transaction:o,projectID:(0,p.ro)(n.query.project),query:n.query});e.push({to:b,label:(0,d.t)("Transaction Summary"),preserveGlobalSelection:!0})}return o&&a?e.push({to:"",label:(0,d.t)("Event Details")}):l?e.push({to:"",label:(0,d.t)("Compare to Baseline")}):i&&e.push({to:"",label:(0,d.t)("Trace View")}),e}},{key:"render",value:function(){return(0,h.tZ)(u.Z,{crumbs:this.getCrumbs()})}}]),c}(c.Component);b.displayName="Breadcrumb";const Z=b},"./app/views/performance/transactionSummary/header.tsx":(e,t,r)=>{"use strict";r.d(t,{O:()=>q,Z:()=>N}),r("../node_modules/core-js/modules/es.reflect.construct.js");var n=r("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),o=r("../node_modules/@babel/runtime/helpers/esm/createClass.js"),s=r("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),a=r("../node_modules/@babel/runtime/helpers/esm/inherits.js"),i=r("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),l=r("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),c=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),u=r("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),d=(r("../node_modules/core-js/modules/es.array.concat.js"),r("../node_modules/react/index.js")),p=r("./app/components/acl/feature.tsx"),m=r("./app/components/button.tsx"),y=r("./app/components/buttonBar.tsx"),f=r("./app/components/createAlertButton.tsx"),g=r("./app/components/layouts/thirds.tsx"),h=r("./app/components/links/listLink.tsx"),v=r("./app/components/navTabs.tsx"),j=r("./app/icons/index.tsx"),b=r("./app/locale.tsx"),Z=r("./app/utils/analytics.tsx"),_=r("./app/utils/queryString.tsx"),x=r("./app/views/performance/breadcrumb.tsx"),w=r("./app/views/performance/transactionSummary/transactionVitals/utils.tsx"),k=r("../node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),C=(r("../node_modules/core-js/modules/es.symbol.js"),r("../node_modules/core-js/modules/es.symbol.description.js"),r("../node_modules/core-js/modules/es.object.to-string.js"),r("../node_modules/core-js/modules/es.array.map.js"),r("./app/actionCreators/performance.tsx")),S=r("./app/utils/withApi.tsx"),O=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");var P=function(e){(0,a.Z)(d,e);var t,r,u=(t=d,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,l.Z)(t);if(r){var o=(0,l.Z)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,i.Z)(this,e)});function d(){var e;(0,n.Z)(this,d);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e=u.call.apply(u,[this].concat(r)),(0,c.Z)((0,s.Z)(e),"state",{isLoading:!0,keyFetchID:void 0,error:null,isKeyTransaction:!1}),(0,c.Z)((0,s.Z)(e),"fetchData",(function(){var t=e.props,r=t.organization,n=t.eventView,o=t.transactionName,s=n.project;if(1===s.length){var a="/organizations/".concat(r.slug,"/is-key-transactions/"),i=Symbol("keyFetchID");e.setState({isLoading:!0,keyFetchID:i}),e.props.api.requestPromise(a,{method:"GET",includeAllArgs:!0,query:{project:s.map((function(e){return String(e)})),transaction:o}}).then((function(t){var r=(0,k.Z)(t,3),n=r[0];r[1],r[2],e.state.keyFetchID===i&&e.setState({isLoading:!1,keyFetchID:void 0,error:null,isKeyTransaction:!(null==n||!n.isKey)})})).catch((function(t){var r,n;e.setState({isLoading:!1,keyFetchID:void 0,error:null!==(r=null===(n=t.responseJSON)||void 0===n?void 0:n.detail)&&void 0!==r?r:null,isKeyTransaction:!1})}))}})),(0,c.Z)((0,s.Z)(e),"toggleKeyTransactionHandler",(function(){var t=e.props,r=t.eventView,n=t.api,o=t.organization,s=t.transactionName,a=e.state.isKeyTransaction,i=r.project;(0,Z.ec)({eventName:"Performance Views: Key Transaction toggle",eventKey:"performance_views.key_transaction.toggle",organization_id:o.id,action:a?"remove":"add"}),(0,C.F)(n,a,o.slug,i,s).then((function(){e.setState({isKeyTransaction:!a})}))})),e}return(0,o.Z)(d,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentDidUpdate",value:function(e){var t=e.organization.slug!==this.props.organization.slug,r=1===e.eventView.project.length&&1===this.props.eventView.project.length&&e.eventView.project[0]!==this.props.eventView.project[0];(t||r)&&this.fetchData()}},{key:"render",value:function(){var e=this.state,t=e.isKeyTransaction,r=e.isLoading;return 1!==this.props.eventView.project.length||r?null:(0,O.tZ)(m.ZP,{icon:t?(0,O.tZ)(j.GK,{color:"yellow300",isSolid:!0}):(0,O.tZ)(j.GK,{}),onClick:this.toggleKeyTransactionHandler,children:(0,b.t)("Key Transaction")})}}]),d}(d.Component);P.displayName="KeyTransactionButton";const T=(0,S.Z)(P);var q,D=r("./app/views/performance/transactionSummary/utils.tsx");!function(e){e[e.TransactionSummary=0]="TransactionSummary",e[e.RealUserMonitoring=1]="RealUserMonitoring",e[e.Tags=2]="Tags"}(q||(q={}));var V=function(e){(0,a.Z)(v,e);var t,r,u=(t=v,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,l.Z)(t);if(r){var o=(0,l.Z)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,i.Z)(this,e)});function v(){var e;(0,n.Z)(this,v);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e=u.call.apply(u,[this].concat(r)),(0,c.Z)((0,s.Z)(e),"trackVitalsTabClick",(function(){var t=e.props.organization;(0,Z.ec)({eventKey:"performance_views.vitals.vitals_tab_clicked",eventName:"Performance Views: Vitals tab clicked",organization_id:t.id})})),(0,c.Z)((0,s.Z)(e),"trackTagsTabClick",(function(){})),(0,c.Z)((0,s.Z)(e),"handleIncompatibleQuery",(function(t,r){var n,o;e.trackAlertClick(r),null===(n=(o=e.props).handleIncompatibleQuery)||void 0===n||n.call(o,t,r)})),(0,c.Z)((0,s.Z)(e),"handleCreateAlertSuccess",(function(){e.trackAlertClick()})),e}return(0,o.Z)(v,[{key:"trackAlertClick",value:function(e){var t=this.props.organization;(0,Z.ec)({eventKey:"performance_views.summary.create_alert_clicked",eventName:"Performance Views: Create alert clicked",organization_id:t.id,status:e?"error":"success",errors:e,url:window.location.href})}},{key:"renderCreateAlertButton",value:function(){var e=this.props,t=e.eventView,r=e.organization,n=e.projects;return(0,O.tZ)(f.K,{eventView:t,organization:r,projects:n,onIncompatibleQuery:this.handleIncompatibleQuery,onSuccess:this.handleCreateAlertSuccess,referrer:"performance"})}},{key:"renderKeyTransactionButton",value:function(){var e=this.props,t=e.eventView,r=e.organization,n=e.transactionName;return(0,O.tZ)(T,{transactionName:n,eventView:t,organization:r})}},{key:"render",value:function(){var e,t,r,n,o,s=this,a=this.props,i=a.organization,l=a.location,c=a.transactionName,u=a.currentTab,f=a.hasWebVitals,v=(0,D.e1)({orgSlug:i.slug,transaction:c,projectID:(0,_.ro)(l.query.project),query:l.query}),Z=(0,w.Pl)({orgSlug:i.slug,transaction:c,projectID:(0,_.ro)(l.query.project),query:l.query}),k=(t=(e={orgSlug:i.slug,transaction:c,projectID:(0,_.ro)(l.query.project),query:l.query}).transaction,r=e.projectID,n=e.query,{pathname:(o={orgSlug:e.orgSlug},"/organizations/".concat(o.orgSlug,"/performance/summary/tags/")),query:{transaction:t,project:r,environment:n.environment,statsPeriod:n.statsPeriod,start:n.start,end:n.end,query:n.query}});return(0,O.BX)(g.h4,{children:[(0,O.BX)(g.oB,{children:[(0,O.tZ)(x.Z,{organization:i,location:l,transactionName:c,realUserMonitoring:u===q.RealUserMonitoring}),(0,O.tZ)(g.Dx,{children:c})]}),(0,O.tZ)(g.kP,{children:(0,O.BX)(y.Z,{gap:1,children:[(0,O.tZ)(p.Z,{organization:i,features:["incidents"],children:function(e){return e.hasFeature&&s.renderCreateAlertButton()}}),this.renderKeyTransactionButton(),(0,O.tZ)(m.ZP,{href:"/settings/".concat(i.slug,"/performance/"),icon:(0,O.tZ)(j.iC,{}),"aria-label":"Settings"})]})}),(0,O.tZ)(d.Fragment,{children:(0,O.BX)(z,{children:[(0,O.tZ)(h.Z,{to:v,isActive:function(){return u===q.TransactionSummary},children:(0,b.t)("Overview")}),f&&(0,O.tZ)(h.Z,{to:Z,isActive:function(){return u===q.RealUserMonitoring},onClick:this.trackVitalsTabClick,children:(0,b.t)("Web Vitals")}),(0,O.tZ)(p.Z,{features:["organizations:performance-tag-page"],children:(0,O.tZ)(h.Z,{to:k,isActive:function(){return u===q.Tags},onClick:this.trackTagsTabClick,children:(0,b.t)("Tags")})})]})})]})}}]),v}(d.Component);V.displayName="TransactionHeader";var z=(0,u.Z)(v.Z,{target:"ega7at50"})({name:"13jhhqe",styles:"margin-bottom:0;width:100%"});const N=V},"./app/views/performance/transactionSummary/tagExplorer.tsx":(e,t,r)=>{"use strict";r.d(t,{e2:()=>K,xS:()=>B,D_:()=>M}),r("../node_modules/core-js/modules/es.object.keys.js"),r("../node_modules/core-js/modules/es.symbol.js"),r("../node_modules/core-js/modules/es.array.filter.js"),r("../node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),r("../node_modules/core-js/modules/es.array.for-each.js"),r("../node_modules/core-js/modules/web.dom-collections.for-each.js"),r("../node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),r("../node_modules/core-js/modules/es.object.define-properties.js"),r("../node_modules/core-js/modules/es.object.define-property.js"),r("../node_modules/core-js/modules/es.reflect.construct.js");var n,o=r("../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),s=r("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),a=r("../node_modules/@babel/runtime/helpers/esm/createClass.js"),i=r("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),l=r("../node_modules/@babel/runtime/helpers/esm/inherits.js"),c=r("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),u=r("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),d=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),p=r("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),m=(r("../node_modules/core-js/modules/es.array.map.js"),r("../node_modules/core-js/modules/es.array.find.js"),r("../node_modules/core-js/modules/es.function.name.js"),r("../node_modules/core-js/modules/es.array.concat.js"),r("../node_modules/core-js/modules/es.number.constructor.js"),r("../node_modules/core-js/modules/es.parse-int.js"),r("../node_modules/core-js/modules/es.string.trim.js"),r("../node_modules/core-js/modules/es.array.sort.js"),r("../node_modules/react/index.js")),y=r("../node_modules/react-router/es/index.js"),f=r("./app/components/assistant/guideAnchor.tsx"),g=r("./app/components/featureBadge.tsx"),h=r("./app/components/gridEditable/index.tsx"),v=r("./app/components/gridEditable/sortLink.tsx"),j=r("./app/components/links/link.tsx"),b=r("./app/components/pagination.tsx"),Z=r("./app/locale.tsx"),_=r("./app/styles/space.tsx"),x=r("./app/utils/analytics.tsx"),w=r("./app/utils/discover/eventView.tsx"),k=r("./app/utils/formatters.tsx"),C=r("./app/utils/performance/segmentExplorer/segmentExplorerQuery.tsx"),S=r("./app/utils/queryString.tsx"),O=r("./app/utils/tokenizeSearch.tsx"),P=r("./app/views/eventsV2/table/cellAction.tsx"),T=r("./app/views/performance/utils.tsx"),q=r("./app/views/performance/transactionSummary/filter.tsx"),D=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach((function(t){(0,d.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var N="tags_cursor",A=[{key:"key",field:"key",name:"Tag Key",width:-1,column:{kind:"field"}},{key:"tagValue",field:"tagValue",name:"Tag Values",width:-1,column:{kind:"field"}},{key:"aggregate",field:"aggregate",name:"Avg Duration",width:-1,column:{kind:"field"},canSort:!0},{key:"frequency",field:"frequency",name:"Frequency",width:-1,column:{kind:"field"},canSort:!0},{key:"comparison",field:"comparison",name:"Compared To Avg",width:-1,column:{kind:"field"},canSort:!0},{key:"sumdelta",field:"sumdelta",name:"Total Time Lost",width:-1,column:{kind:"field"},canSort:!0}],R=(n={},(0,d.Z)(n,q.f1.Browser,"spans.browser"),(0,d.Z)(n,q.f1.Http,"spans.http"),(0,d.Z)(n,q.f1.Db,"spans.db"),(0,d.Z)(n,q.f1.Resource,"spans.resource"),n),K=function(e,t,r){return R[e]||((0,T.C$)(t,r)===T.iy.FRONTEND?"measurements.lcp":"transaction.duration")};function B(e){return(0,D.tZ)("div",{className:"truncate",children:e.row.tags_value})}B.displayName="TagValue";var I=function(e){(0,l.Z)(p,e);var t,r,n=(t=p,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,u.Z)(t);if(r){var o=(0,u.Z)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,c.Z)(this,e)});function p(){var e;(0,s.Z)(this,p);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e=n.call.apply(n,[this].concat(r)),(0,d.Z)((0,i.Z)(e),"state",{widths:[]}),(0,d.Z)((0,i.Z)(e),"handleResizeColumn",(function(t,r){var n=(0,o.Z)(e.state.widths);n[t]=r.width?Number(r.width):h.z7,e.setState({widths:n})})),(0,d.Z)((0,i.Z)(e),"getColumnOrder",(function(t){var r=e.state.widths;return t.map((function(e,t){return"number"==typeof r[t]?z(z({},e),{},{width:r[t]}):e}))})),(0,d.Z)((0,i.Z)(e),"renderHeadCellWithMeta",(function(t,r,n){return function(o,s){return e.renderHeadCell(t,r,o,n[s])}})),(0,d.Z)((0,i.Z)(e),"handleTagValueClick",(function(t,r,n){var o=e.props.organization;(0,x.ec)({eventKey:"performance_views.summary.tag_explorer.tag_value",eventName:"Performance Views: Tag Explorer Value Clicked",organization_id:parseInt(o.id,10)});var s=(0,S.ro)(t.query.query),a=(0,O.aI)(s||"");a.addTagValues(r,[n]);var i=(0,O.gZ)(a);y.browserHistory.push({pathname:t.pathname,query:z(z({},t.query),{},{query:String(i).trim()})})})),(0,d.Z)((0,i.Z)(e),"handleCellAction",(function(t,r,n){return function(o){var s,a=e.props,i=a.eventView,l=a.location,c=a.organization;(0,x.ec)({eventKey:"performance_views.summary.tag_explorer.cell_action",eventName:"Performance Views: Tag Explorer Cell Action Clicked",organization_id:parseInt(c.id,10)});var u=(0,O.aI)(i.query);u.removeTag("event.type"),(0,P.rh)(u,o,z(z({},t),{},{name:n.id}),r),y.browserHistory.push({pathname:l.pathname,query:z(z({},l.query),{},(s={},(0,d.Z)(s,N,void 0),(0,d.Z)(s,"query",(0,O.gZ)(u)),s))})}})),(0,d.Z)((0,i.Z)(e),"renderBodyCell",(function(t,r,n){var o=n[r.key],s=t.location;if("key"===r.key)return n.tags_key;var a=[P.eX.ADD,P.eX.EXCLUDE];if("tagValue"===r.key){var i=z(z({},n),{},{id:n.tags_key});return(0,D.tZ)(P.ZP,{column:r,dataRow:i,handleCellAction:e.handleCellAction(r,n.tags_value,i),allowActions:a,children:(0,D.tZ)(j.Z,{to:"",onClick:function(){return e.handleTagValueClick(s,n.tags_key,n.tags_value)},children:(0,D.tZ)(B,{row:n})})})}if("frequency"===r.key)return(0,k.rl)(n.frequency,0);if("comparison"===r.key){var l=n.comparison,c=(0,k.rl)(l-1,0);return l>1?(0,Z.t)("+%s slower",c):(0,Z.t)("%s faster",c)}return"aggregate"===r.key?(0,D.tZ)(T.Xr,{abbreviation:!0,milliseconds:n.aggregate}):"sumdelta"===r.key?(0,D.tZ)(T.Xr,{abbreviation:!0,milliseconds:n.sumdelta}):o})),(0,d.Z)((0,i.Z)(e),"renderBodyCellWithData",(function(t){return function(r,n){return e.renderBodyCell(t,r,n)}})),e}return(0,a.Z)(p,[{key:"onSortClick",value:function(e,t){var r=this.props.organization;(0,x.ec)({eventKey:"performance_views.summary.tag_explorer.sort",eventName:"Performance Views: Tag Explorer Sorted",organization_id:parseInt(r.id,10),field:t,direction:e})}},{key:"renderHeadCell",value:function(e,t,r,n){var o=this,s=this.props.location,a={field:r.key,width:r.width},i=e.sortForField(a,t),l=(0,w.M3)(a,t),c=i?i.kind:void 0,u=i?i.field:void 0;return(0,D.tZ)(v.Z,{align:"left",title:n.name,direction:c,canSort:l,generateSortLink:function(){var r;if(t){var n=e.sortOnField(a,t).generateQueryStringObject().sort;return z(z({},s),{},{query:z(z({},s.query),{},(r={},(0,d.Z)(r,N,void 0),(0,d.Z)(r,"tagSort",n),r))})}},onClick:function(){return o.onSortClick(c,u)}})}},{key:"render",value:function(){var e,t,r=this,n=this.props,o=n.eventView,s=n.organization,a=n.location,i=n.currentFilter,l=n.projects,c=(0,S.ro)(null===(e=a.query)||void 0===e?void 0:e.tagSort),u=(0,S.ro)(null===(t=a.query)||void 0===t?void 0:t.tags_cursor),d=o.clone();d.fields=A;var p=(0,w.vp)(c),y=d.withSorts(p.length?p:[{field:"sumdelta",kind:"desc"}]),g=K(i,l,y),v=function(e,t,r){var n=A.map((function(e){return z({},e)})),o=n.find((function(e){return"aggregate"===e.key}));return o?R[e]?(o.name="Avg Span Duration",n):(0,T.C$)(t,r)===T.iy.FRONTEND?(o.name="Avg LCP",n):n:n}(i,l,y),j=this.getColumnOrder(v),b=y.getSorts();return(0,D.tZ)(C.Z,{eventView:y,orgSlug:s.slug,location:a,aggregateColumn:g,limit:5,cursor:u,children:function(e){var t=e.isLoading,n=e.tableData,o=e.pageLinks;return(0,D.BX)(m.Fragment,{children:[(0,D.tZ)(f.n,{target:"tag_explorer",children:(0,D.tZ)(E,{organization:s,pageLinks:o})}),(0,D.tZ)(h.ZP,{isLoading:t,data:n&&n.data?n.data:[],columnOrder:j,columnSortBy:b,grid:{renderHeadCell:r.renderHeadCellWithMeta(y,(null==n?void 0:n.meta)||{},v),renderBodyCell:r.renderBodyCellWithData(r.props),onResizeColumn:r.handleResizeColumn},location:a})]})}})}}]),p}(m.Component);function E(e){var t=e.pageLinks,r=e.organization;return(0,D.BX)(F,{children:[(0,D.tZ)(L,{children:(0,D.BX)("div",{children:[(0,Z.t)("Suspect Tags"),(0,D.tZ)(g.Z,{type:"beta",noTooltip:!0})]})}),(0,D.tZ)(H,{pageLinks:t,onCursor:function(e,t,n){(0,x.ec)({eventKey:"performance_views.summary.tag_explorer.change_page",eventName:"Performance Views: Tag Explorer Change Page",organization_id:parseInt(r.id,10)}),y.browserHistory.push({pathname:t,query:z(z({},n),{},(0,d.Z)({},N,e))})},size:"small"})]})}I.displayName="_TagExplorer",E.displayName="TagsHeader";var L=(0,p.Z)("h4",{target:"euaybo32"})("display:inline-grid;grid-auto-flow:column;grid-gap:",(0,_.Z)(1),";align-items:center;color:",(function(e){return e.theme.subText}),";font-size:",(function(e){return e.theme.fontSizeMedium}),";margin:",(0,_.Z)(1)," 0;line-height:1.3;"),F=(0,p.Z)("div",{target:"euaybo31"})("display:grid;grid-template-columns:1fr auto auto;margin-bottom:",(0,_.Z)(1),";"),H=(0,p.Z)(b.Z,{target:"euaybo30"})("margin:0 0 0 ",(0,_.Z)(1),";"),M=I},"./app/views/performance/transactionSummary/transactionVitals/utils.tsx":(e,t,r)=>{"use strict";r.d(t,{Pl:()=>o,oZ:()=>s,eH:()=>a,L0:()=>i,jb:()=>l});var n=r("./app/utils/performance/histogram/utils.tsx");function o(e){var t,r=e.orgSlug,n=e.transaction,o=e.projectID,s=e.query;return{pathname:(t={orgSlug:r},"/organizations/".concat(t.orgSlug,"/performance/summary/vitals/")),query:{transaction:n,project:o,environment:s.environment,statsPeriod:s.statsPeriod,start:s.start,end:s.end,query:s.query}}}function s(e,t){var r=(0,n.te)(e);return!e.length||t>=e[e.length-1].bin+r?null:t<e[0].bin?-1:Math.floor((t-e[0].bin)/r)}function a(e){if(e.length<2)return null;for(var t=0;t<e.length;t++)for(var r=e[t],n=t+1;n<e.length;n++){var o=e[n];if(r.bin!==o.bin&&r.count!==o.count)return{point1:{x:t,y:Math.min(r.count,o.count)},point2:{x:n,y:Math.max(r.count,o.count)}}}return{point1:{x:0,y:0},point2:{x:1,y:1}}}function i(e,t){var r=e.convertToPixel({xAxisIndex:0,yAxisIndex:0},[t.point1.x,t.point1.y]);if(isNaN(null==r?void 0:r[0])||isNaN(null==r?void 0:r[1]))return null;var n=e.convertToPixel({xAxisIndex:0,yAxisIndex:0},[t.point2.x,t.point2.y]);return isNaN(null==n?void 0:n[0])||isNaN(null==n?void 0:n[1])?null:{point1:{x:r[0],y:r[1]},point2:{x:n[0],y:n[1]}}}function l(e,t,r){if(t.point1.x===t.point2.x||t.point1.y===t.point2.y||r.point1.x===r.point2.x||r.point1.y===r.point2.y)return null;var n=(e.x-t.point1.x)/(t.point2.x-t.point1.x),o=(e.y-t.point1.y)/(t.point2.y-t.point1.y);return{x:r.point1.x+(r.point2.x-r.point1.x)*n,y:r.point1.y+(r.point2.y-r.point1.y)*o}}}}]);
//# sourceMappingURL=app_views_performance_transactionSummary_header_tsx-app_views_performance_transactionSummary_-24ecdb.js.map