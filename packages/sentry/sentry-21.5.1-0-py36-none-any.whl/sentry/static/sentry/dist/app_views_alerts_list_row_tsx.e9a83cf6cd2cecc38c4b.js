(self.webpackChunk=self.webpackChunk||[]).push([["app_views_alerts_list_row_tsx"],{"./app/views/alerts/list/row.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>te,K:()=>W}),s("../node_modules/core-js/modules/es.reflect.construct.js");var r=s("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),n=s("../node_modules/@babel/runtime/helpers/esm/createClass.js"),o=s("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),a=s("../node_modules/@babel/runtime/helpers/esm/inherits.js"),i=s("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),l=s("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),d=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),u=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),c=(s("../node_modules/core-js/modules/es.array.concat.js"),s("../node_modules/core-js/modules/es.array.find.js"),s("../node_modules/core-js/modules/es.date.to-string.js"),s("../node_modules/core-js/modules/es.array.includes.js"),s("../node_modules/core-js/modules/es.string.includes.js"),s("../node_modules/lodash/memoize.js")),p=s.n(c),m=s("../node_modules/moment/moment.js"),h=s.n(m),f=s("./app/components/asyncComponent.tsx"),g=s("./app/components/duration.tsx"),Z=s("./app/components/errorBoundary.tsx"),y=s("./app/components/idBadge/index.tsx"),v=s("./app/components/links/link.tsx"),x=s("./app/components/panels/index.tsx"),_=s("./app/components/timeSince.tsx"),j=s("./app/components/tooltip.tsx"),b=s("./app/icons/index.tsx"),k=s("./app/locale.tsx"),S=s("./app/styles/overflowEllipsis.tsx"),w=s("./app/styles/space.tsx"),R=s("./app/utils/dates.tsx"),E=s("./app/utils/getDynamicText.tsx"),C=s("./app/utils/theme.tsx"),A=s("./app/views/alerts/details/index.tsx"),N=s("./app/views/alerts/rules/details/constants.tsx"),O=s("./app/views/alerts/types.tsx"),P=s("./app/views/alerts/utils/index.tsx"),X=s("../node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),B=(s("../node_modules/core-js/modules/es.array.iterator.js"),s("../node_modules/core-js/modules/es.object.to-string.js"),s("../node_modules/core-js/modules/es.promise.js"),s("../node_modules/core-js/modules/es.string.iterator.js"),s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/core-js/modules/es.array.map.js"),s("../node_modules/core-js/modules/es.array.is-array.js"),s("../node_modules/react/index.js")),D=s("./app/components/placeholder.tsx"),H=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");var T=B.lazy((function(){return Promise.all([s.e("node_modules_react-sparklines_build_index_js"),s.e("app_components_sparklines_index_tsx")]).then(s.bind(s,"./app/components/sparklines/index.tsx"))})),z=B.lazy((function(){return Promise.all([s.e("node_modules_react-sparklines_build_index_js"),s.e("app_components_sparklines_line_tsx")]).then(s.bind(s,"./app/components/sparklines/line.tsx"))})),L=function(e){(0,a.Z)(d,e);var t,s,o=(t=d,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,l.Z)(t);if(s){var n=(0,l.Z)(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)});function d(){return(0,r.Z)(this,d),o.apply(this,arguments)}return(0,n.Z)(d,[{key:"render",value:function(){var e=this.props,t=e.className,s=e.error,r=e.eventStats;if(s)return(0,H.tZ)(Y,{error:s});if(!r)return(0,H.tZ)(I,{});var n=r.data.map((function(e){var t=(0,X.Z)(e,2)[1];return t&&Array.isArray(t)&&t.length&&t[0].count||0}));return(0,H.tZ)(B.Suspense,{fallback:(0,H.tZ)(I,{}),children:(0,H.tZ)("div",{"data-test-id":"incident-sparkline",className:t,children:(0,H.tZ)(T,{data:n,width:100,height:32,children:(0,H.tZ)(z,{style:{stroke:C.ZP.gray300,fill:"none",strokeWidth:2}})})})})}}]),d}(B.Component);L.displayName="SparkLine";var q=(0,u.Z)(L,{target:"eq3gx8n2"})("flex-shrink:0;width:100%;height:",38,"px;"),I=(0,u.Z)(D.Z,{target:"eq3gx8n1"})("height:",38,"px;"),Y=(0,u.Z)(I,{target:"eq3gx8n0"})({name:"6tdfik",styles:"align-items:center;line-height:1"});const U=q;var M=s("./app/views/alerts/list/styles.tsx");var W=function(e){var t=60*e.alertRule.timeWindow*1e3,s=t*N.U2,r=t*N.UC,n=h().utc(),o=h().utc(e.dateStarted),a=e.dateClosed?h().utc(e.dateClosed):h()(n),i=Math.max(a.diff(o),3*t),l=Math.min(r,Math.max(s,i)),d=h().duration(l/2);return{start:(0,R.v5)(o.subtract(d)),end:(0,R.v5)(h().min(a.add(d),n))}},G=function(e){(0,a.Z)(c,e);var t,s,u=(t=c,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,l.Z)(t);if(s){var n=(0,l.Z)(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)});function c(){var e;(0,r.Z)(this,c);for(var t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];return e=u.call.apply(u,[this].concat(s)),(0,d.Z)((0,o.Z)(e),"getProject",p()((function(e,t){return t.find((function(t){return t.slug===e}))}))),e}return(0,n.Z)(c,[{key:"metricPreset",get:function(){var e=this.props.incident;return e?(0,P.Un)(e):void 0}},{key:"getEndpoints",value:function(){var e=this.props,t=e.orgId,s=e.incident;return"open"===e.filteredStatus?[["stats","/organizations/".concat(t,"/incidents/").concat(s.identifier,"/stats/")]]:[]}},{key:"renderLoading",value:function(){return this.renderBody()}},{key:"renderError",value:function(){return this.renderBody()}},{key:"renderTimeSince",value:function(e){return(0,H.tZ)(F,{children:(0,H.tZ)(_.Z,{date:e})})}},{key:"renderStatusIndicator",value:function(){var e=this.props.incident.status,t=e===O.vt.CLOSED,s=e===O.vt.WARNING,r=t?C.ZP.gray200:s?C.ZP.orange300:C.ZP.red200,n=t?(0,k.t)("Resolved"):s?(0,k.t)("Warning"):(0,k.t)("Critical");return(0,H.tZ)(j.Z,{title:(0,k._N)("Status: [text]",{text:n}),children:(0,H.tZ)(J,{color:r})})}},{key:"renderBody",value:function(){var e=this.props,t=e.incident,s=e.orgId,r=e.projectsLoaded,n=e.projects,o=e.filteredStatus,a=e.organization,i=this.state,l=i.error,d=i.stats,u=h()(t.dateStarted),c=h().duration(h()(t.dateClosed||new Date).diff(u)).as("seconds"),p=t.projects[0],m=!(0,P.Gm)(t.alertRule)&&a.features.includes("alert-details-redesign")?{pathname:(0,A.alertDetailsLink)(a,t),query:{alert:t.identifier}}:{pathname:"/organizations/".concat(s,"/alerts/").concat(t.identifier,"/")};return(0,H.tZ)(Z.Z,{children:(0,H.tZ)(ee,{children:(0,H.BX)(M.d,{status:o,children:[(0,H.BX)(M.O,{status:o,children:[(0,H.BX)(Q,{children:[this.renderStatusIndicator(),(0,H.BX)($,{to:m,children:["Alert #",t.id]}),t.title]}),"open"===o&&(0,H.tZ)(U,{error:l&&(0,H.tZ)(V,{}),eventStats:null==d?void 0:d.eventStats})]}),(0,H.tZ)(K,{avatarSize:18,project:r?this.getProject(p,n):{slug:p}}),this.renderTimeSince(t.dateStarted),"closed"===o&&(0,H.tZ)(g.Z,{seconds:(0,E.Z)({value:c,fixed:1200})}),"closed"===o&&t.dateClosed&&this.renderTimeSince(t.dateClosed)]})})})}}]),c}(f.Z);function V(){return(0,H.tZ)(j.Z,{title:(0,k.t)("Error loading alert stats"),children:(0,H.tZ)(b.FC,{})})}V.displayName="ErrorLoadingStatsIcon";var F=(0,u.Z)("div",{target:"ehehgaq5"})(S.Z," line-height:1.4;display:flex;align-items:center;"),K=(0,u.Z)(y.Z,{target:"ehehgaq4"})({name:"ozd7xs",styles:"flex-shrink:0"}),J=(0,u.Z)("div",{target:"ehehgaq3"})("width:10px;height:12px;background:",(function(e){return e.color}),";display:inline-block;border-top-right-radius:40%;border-bottom-right-radius:40%;margin-bottom:-1px;"),Q=(0,u.Z)("span",{target:"ehehgaq2"})(S.Z,";"),$=(0,u.Z)(v.Z,{target:"ehehgaq1"})("padding:0 ",(0,w.Z)(1),";"),ee=(0,u.Z)(x.Lv,{target:"ehehgaq0"})("font-size:",(function(e){return e.theme.fontSizeMedium}),";padding:",(0,w.Z)(1.5)," ",(0,w.Z)(2)," ",(0,w.Z)(1.5)," 0;");const te=G},"./app/views/alerts/list/styles.tsx":(e,t,s)=>{"use strict";s.d(t,{d:()=>o,O:()=>a});var r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),n=s("./app/styles/space.tsx"),o=(0,r.Z)("div",{target:"e14gjhia1"})("display:grid;grid-template-columns:",(function(e){return"open"===e.status?"4fr 1fr 2fr":"3fr 2fr 2fr 1fr 2fr"}),";grid-column-gap:",(0,n.Z)(1.5),";width:100%;align-items:center;"),a=(0,r.Z)("div",{target:"e14gjhia0"})("display:",(function(e){return"open"===e.status?"grid":"flex"}),";grid-gap:",(0,n.Z)(1),";grid-template-columns:auto 120px;align-items:center;padding-right:",(0,n.Z)(2),";overflow:hidden;")},"./app/views/alerts/rules/details/constants.tsx":(e,t,s)=>{"use strict";s.d(t,{v3:()=>i,e2:()=>l,UC:()=>d,U2:()=>u});var r,n=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=s("./app/locale.tsx"),a=s("./app/views/settings/incidentRules/types.tsx"),i=[{label:(0,o.t)("Last 6 hours"),value:a.XH.SIX_HOURS},{label:(0,o.t)("Last 24 hours"),value:a.XH.ONE_DAY},{label:(0,o.t)("Last 3 days"),value:a.XH.THREE_DAYS},{label:(0,o.t)("Last 7 days"),value:a.XH.SEVEN_DAYS}],l=(r={},(0,n.Z)(r,a.XH.SIX_HOURS,6*a.Tb.ONE_HOUR*60*1e3),(0,n.Z)(r,a.XH.ONE_DAY,60*a.Tb.ONE_DAY*1e3),(0,n.Z)(r,a.XH.THREE_DAYS,3*a.Tb.ONE_DAY*60*1e3),(0,n.Z)(r,a.XH.SEVEN_DAYS,7*a.Tb.ONE_DAY*60*1e3),r),d=1e4,u=150}}]);
//# sourceMappingURL=app_views_alerts_list_row_tsx.js.map