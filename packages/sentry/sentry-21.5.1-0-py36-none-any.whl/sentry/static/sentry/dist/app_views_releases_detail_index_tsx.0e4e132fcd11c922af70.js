(self.webpackChunk=self.webpackChunk||[]).push([["app_views_releases_detail_index_tsx"],{"./app/actionCreators/release.tsx":(e,t,s)=>{"use strict";s.d(t,{o7:()=>c,dF:()=>d,VE:()=>p,aQ:()=>m}),s("../node_modules/core-js/modules/es.array.concat.js");var r=s("../node_modules/@sentry/minimal/esm/index.js"),o=s("../node_modules/@sentry/types/esm/severity.js"),n=s("./app/actionCreators/indicator.tsx"),a=s("./app/actions/releaseActions.tsx"),l=s("./app/locale.tsx"),i=s("./app/stores/releaseStore.tsx"),u=s("./app/types/index.tsx");function c(e,t){var s=t.orgSlug,n=t.projectSlug,l=t.releaseVersion,u="/projects/".concat(s,"/").concat(n,"/releases/").concat(encodeURIComponent(l),"/");return i.Z.state.releaseLoading[(0,i.p)(n,l)]=!0,a.Z.loadRelease(s,n,l),e.requestPromise(u,{method:"GET"}).then((function(e){a.Z.loadReleaseSuccess(n,l,e)})).catch((function(e){404!==e.status?(a.Z.loadReleaseError(n,l,e),r.$e((function(t){t.setLevel(o.z.Warning),t.setFingerprint(["getRelease-action-creator"]),r.Tb(e)}))):a.Z.loadReleaseSuccess(n,l,null)}))}function d(e,t){var s=t.orgSlug,n=t.projectSlug,l=t.releaseVersion,u="/organizations/".concat(s,"/releases/").concat(encodeURIComponent(l),"/deploys/");return i.Z.state.deploysLoading[(0,i.p)(n,l)]=!0,a.Z.loadDeploys(s,n,l),e.requestPromise(u,{method:"GET"}).then((function(e){a.Z.loadDeploysSuccess(n,l,e)})).catch((function(e){404!==e.status?(a.Z.loadDeploysError(n,l,e),r.$e((function(t){t.setLevel(o.z.Warning),t.setFingerprint(["getReleaseDeploys-action-creator"]),r.Tb(e)}))):a.Z.loadDeploysSuccess(n,l,null)}))}function p(e,t){var s=t.orgSlug,r=t.projectSlug,o=t.releaseVersion;return a.Z.loadRelease(s,r,o),(0,n.E3)((0,l.t)("Archiving Release…")),e.requestPromise("/organizations/".concat(s,"/releases/"),{method:"POST",data:{status:u.dE.Archived,projects:[],version:o}}).then((function(e){a.Z.loadReleaseSuccess(r,o,e),(0,n.S9)((0,l.t)("Release was successfully archived."))})).catch((function(e){var t,s;throw a.Z.loadReleaseError(r,o,e),(0,n.Iw)(null!==(t=null===(s=e.responseJSON)||void 0===s?void 0:s.detail)&&void 0!==t?t:(0,l.t)("Release could not be be archived.")),e}))}function m(e,t){var s=t.orgSlug,r=t.projectSlug,o=t.releaseVersion;return a.Z.loadRelease(s,r,o),(0,n.E3)((0,l.t)("Restoring Release…")),e.requestPromise("/organizations/".concat(s,"/releases/"),{method:"POST",data:{status:u.dE.Active,projects:[],version:o}}).then((function(e){a.Z.loadReleaseSuccess(r,o,e),(0,n.S9)((0,l.t)("Release was successfully restored."))})).catch((function(e){var t,s;throw a.Z.loadReleaseError(r,o,e),(0,n.Iw)(null!==(t=null===(s=e.responseJSON)||void 0===s?void 0:s.detail)&&void 0!==t?t:(0,l.t)("Release could not be be restored.")),e}))}},"./app/actions/releaseActions.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var r=s("../node_modules/reflux/src/index.js");const o=s.n(r)().createActions(["loadRelease","loadReleaseError","loadReleaseSuccess","loadDeploys","loadDeploysError","loadDeploysSuccess"])},"./app/components/pickProjectToContinue.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>h});var r=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=s("../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),n=s("../node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),a=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),l=(s("../node_modules/core-js/modules/es.array.map.js"),s("../node_modules/core-js/modules/es.array.filter.js"),s("../node_modules/core-js/modules/es.object.entries.js"),s("../node_modules/core-js/modules/es.array.concat.js"),s("../node_modules/core-js/modules/es.array.join.js"),s("../node_modules/core-js/modules/es.regexp.exec.js"),s("../node_modules/core-js/modules/es.string.replace.js"),s("../node_modules/core-js/modules/es.object.keys.js"),s("../node_modules/core-js/modules/es.symbol.js"),s("../node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("../node_modules/core-js/modules/es.array.for-each.js"),s("../node_modules/core-js/modules/web.dom-collections.for-each.js"),s("../node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),s("../node_modules/core-js/modules/es.object.define-properties.js"),s("../node_modules/core-js/modules/es.object.define-property.js"),s("./app/actionCreators/modal.tsx")),i=s("./app/components/contextPickerModal.tsx"),u=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function c(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function d(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?c(Object(s),!0).forEach((function(t){(0,r.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):c(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function p(e){var t=e.noProjectRedirectPath,s=e.nextPath,r=e.router,a=e.projects,c=s.query,p=!1,h="".concat(s.pathname,"?project=");if(c){var f=Object.entries(c).filter((function(e){var t=(0,n.Z)(e,2),s=t[0];return t[1],"project"!==s})).map((function(e){var t=(0,n.Z)(e,2),s=t[0],r=t[1];return"".concat(s,"=").concat(r)})),j=[].concat((0,o.Z)(f),["project="]).join("&");h="".concat(s.pathname,"?").concat(j)}return 1===a.length?(r.replace(h+a[0].id),null):((0,l.openModal)((function(e){return(0,u.tZ)(i.Z,d(d({},e),{},{needOrg:!1,needProject:!0,nextPath:"".concat(h,":project"),onFinish:function(e){p=!0,r.replace(e)},projectSlugs:a.map((function(e){return e.slug}))}))}),{onClose:function(){p||r.push(t)}}),(0,u.tZ)(m,{}))}p.displayName="PickProjectToContinue";var m=(0,a.Z)("div",{target:"e1sj8doz0"})({name:"4wiox3",styles:"height:100vh;width:100%"});const h=p},"./app/stores/releaseStore.tsx":(e,t,s)=>{"use strict";s.d(t,{p:()=>d,Z:()=>m});var r=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=s("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),n=(s("../node_modules/core-js/modules/es.array.concat.js"),s("../node_modules/core-js/modules/es.array.iterator.js"),s("../node_modules/core-js/modules/es.map.js"),s("../node_modules/core-js/modules/es.object.to-string.js"),s("../node_modules/core-js/modules/es.string.iterator.js"),s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/core-js/modules/es.object.keys.js"),s("../node_modules/core-js/modules/es.symbol.js"),s("../node_modules/core-js/modules/es.array.filter.js"),s("../node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("../node_modules/core-js/modules/es.array.for-each.js"),s("../node_modules/core-js/modules/web.dom-collections.for-each.js"),s("../node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),s("../node_modules/core-js/modules/es.object.define-properties.js"),s("../node_modules/core-js/modules/es.object.define-property.js"),s("../node_modules/reflux/src/index.js")),a=s.n(n),l=s("./app/actions/organizationActions.tsx"),i=s("./app/actions/releaseActions.tsx");function u(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function c(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?u(Object(s),!0).forEach((function(t){(0,r.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):u(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var d=function(e,t){return"".concat(e).concat(t)},p={state:{orgSlug:void 0,release:new Map,releaseLoading:new Map,releaseError:new Map,deploys:new Map,deploysLoading:new Map,deploysError:new Map},listenables:i.Z,init:function(){this.listenTo(l.Z.update,this.updateOrganization),this.reset()},reset:function(){this.state={orgSlug:void 0,release:new Map,releaseLoading:new Map,releaseError:new Map,deploys:new Map,deploysLoading:new Map,deploysError:new Map},this.trigger(this.state)},updateOrganization:function(e){this.reset(),this.state.orgSlug=e.slug,this.trigger(this.state)},loadRelease:function(e,t,s){this.orgSlug&&this.orgSlug===e||(this.reset(),this.orgSlug=e);var n=d(t,s),a=this.state,l=a.releaseLoading,i=a.releaseError,u=(0,o.Z)(a,["releaseLoading","releaseError"]);this.state=c(c({},u),{},{releaseLoading:c(c({},l),{},(0,r.Z)({},n,!0)),releaseError:c(c({},i),{},(0,r.Z)({},n,void 0))}),this.trigger(this.state)},loadReleaseError:function(e,t,s){var n=d(e,t),a=this.state,l=a.releaseLoading,i=a.releaseError,u=(0,o.Z)(a,["releaseLoading","releaseError"]);this.state=c(c({},u),{},{releaseLoading:c(c({},l),{},(0,r.Z)({},n,!1)),releaseError:c(c({},i),{},(0,r.Z)({},n,s))}),this.trigger(this.state)},loadReleaseSuccess:function(e,t,s){var n=d(e,t),a=this.state,l=a.release,i=a.releaseLoading,u=a.releaseError,p=(0,o.Z)(a,["release","releaseLoading","releaseError"]);this.state=c(c({},p),{},{release:c(c({},l),{},(0,r.Z)({},n,s)),releaseLoading:c(c({},i),{},(0,r.Z)({},n,!1)),releaseError:c(c({},u),{},(0,r.Z)({},n,void 0))}),this.trigger(this.state)},loadDeploys:function(e,t,s){this.orgSlug&&this.orgSlug===e||(this.reset(),this.orgSlug=e);var n=d(t,s),a=this.state,l=a.deploysLoading,i=a.deploysError,u=(0,o.Z)(a,["deploysLoading","deploysError"]);this.state=c(c({},u),{},{deploysLoading:c(c({},l),{},(0,r.Z)({},n,!0)),deploysError:c(c({},i),{},(0,r.Z)({},n,void 0))}),this.trigger(this.state)},loadDeploysError:function(e,t,s){var n=d(e,t),a=this.state,l=a.deploysLoading,i=a.deploysError,u=(0,o.Z)(a,["deploysLoading","deploysError"]);this.state=c(c({},u),{},{deploysLoading:c(c({},l),{},(0,r.Z)({},n,!1)),deploysError:c(c({},i),{},(0,r.Z)({},n,s))}),this.trigger(this.state)},loadDeploysSuccess:function(e,t,s){var n=d(e,t),a=this.state,l=a.deploys,i=a.deploysLoading,u=a.deploysError,p=(0,o.Z)(a,["deploys","deploysLoading","deploysError"]);this.state=c(c({},p),{},{deploys:c(c({},l),{},(0,r.Z)({},n,s)),deploysLoading:c(c({},i),{},(0,r.Z)({},n,!1)),deploysError:c(c({},u),{},(0,r.Z)({},n,void 0))}),this.trigger(this.state)},get:function(e,t){var s=d(e,t);return{release:this.state.release[s],releaseLoading:this.state.releaseLoading[s],releaseError:this.state.releaseError[s],deploys:this.state.deploys[s],deploysLoading:this.state.deploysLoading[s],deploysError:this.state.deploysError[s]}}};const m=a().createStore(p)},"./app/utils/routeTitle.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>r}),s("../node_modules/core-js/modules/es.array.concat.js");const r=function(e,t){var s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0,o="".concat(e," - ").concat(t),n=r?"".concat(o," - ").concat(r):o;return s?"".concat(n," - Sentry"):n}},"./app/views/asyncView.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>p}),s("../node_modules/core-js/modules/es.reflect.construct.js");var r=s("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),o=s("../node_modules/@babel/runtime/helpers/esm/createClass.js"),n=s("../node_modules/@babel/runtime/helpers/esm/inherits.js"),a=s("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),l=s("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),i=(s("../node_modules/react/index.js"),s("../node_modules/react-document-title/index.js")),u=s.n(i),c=s("./app/components/asyncComponent.tsx"),d=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");var p=function(e){(0,n.Z)(c,e);var t,s,i=(t=c,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,l.Z)(t);if(s){var o=(0,l.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,a.Z)(this,e)});function c(){return(0,r.Z)(this,c),i.apply(this,arguments)}return(0,o.Z)(c,[{key:"getTitle",value:function(){return""}},{key:"render",value:function(){var e=this.getTitle();return(0,d.tZ)(u(),{title:"".concat(e?"".concat(e," - "):"","Sentry"),children:this.renderComponent()})}}]),c}(c.Z);p.displayName="AsyncView"},"./app/views/releases/detail/index.tsx":(e,t,s)=>{"use strict";s.r(t),s.d(t,{ReleaseContext:()=>Se,ReleasesDetailContainer:()=>Pe,default:()=>Ce}),s("../node_modules/core-js/modules/es.reflect.construct.js"),s("../node_modules/core-js/modules/es.object.keys.js"),s("../node_modules/core-js/modules/es.symbol.js"),s("../node_modules/core-js/modules/es.array.filter.js"),s("../node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("../node_modules/core-js/modules/es.array.for-each.js"),s("../node_modules/core-js/modules/web.dom-collections.for-each.js"),s("../node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),s("../node_modules/core-js/modules/es.object.define-properties.js"),s("../node_modules/core-js/modules/es.object.define-property.js");var r=s("../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),o=s("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),n=s("../node_modules/@babel/runtime/helpers/esm/createClass.js"),a=s("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),l=s("../node_modules/@babel/runtime/helpers/esm/get.js"),i=s("../node_modules/@babel/runtime/helpers/esm/inherits.js"),u=s("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),c=s("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),d=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),p=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),m=(s("../node_modules/core-js/modules/es.array.concat.js"),s("../node_modules/core-js/modules/es.array.find.js"),s("../node_modules/core-js/modules/es.object.values.js"),s("../node_modules/core-js/modules/es.array.map.js"),s("../node_modules/react/index.js")),h=s("../node_modules/lodash/pick.js"),f=s.n(h),j=s("../node_modules/moment/moment.js"),g=s.n(j),y=s("./app/components/alert.tsx"),v=s("./app/components/asyncComponent.tsx"),b=s("./app/components/lightWeightNoProjectMessage.tsx"),Z=s("./app/components/loadingIndicator.tsx"),x=s("./app/components/organizations/globalSelectionHeader/index.tsx"),_=s("./app/components/organizations/globalSelectionHeader/getParams.tsx"),S=s("./app/components/pickProjectToContinue.tsx"),w=s("./app/constants/index.tsx"),P=s("./app/constants/globalSelectionHeader.tsx"),R=s("./app/icons/index.tsx"),O=s("./app/locale.tsx"),C=s("./app/styles/organization.tsx"),E=s("./app/styles/space.tsx"),k=s("./app/utils/formatters.tsx"),B=s("./app/utils/routeTitle.tsx"),T=s("./app/utils/withGlobalSelection.tsx"),D=s("./app/utils/withOrganization.tsx"),z=s("./app/views/asyncView.tsx"),I=s("./app/views/releases/list/utils.tsx"),q=s("./app/views/releases/utils/releaseHealthRequest.tsx"),L=s("./app/components/badge.tsx"),A=s("./app/components/breadcrumbs.tsx"),F=s("./app/components/clipboard.tsx"),M=s("./app/components/idBadge/index.tsx"),H=s("./app/components/layouts/thirds.tsx"),N=s("./app/components/links/externalLink.tsx"),U=s("./app/components/links/listLink.tsx"),V=s("./app/components/navTabs.tsx"),Q=s("./app/components/tooltip.tsx"),Y=s("./app/components/version.tsx"),X=s("../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),G=s("../node_modules/@babel/runtime/regenerator/index.js"),J=s.n(G),$=(s("../node_modules/core-js/modules/es.array.slice.js"),s("../node_modules/core-js/modules/es.array.join.js"),s("../node_modules/react-router/es/index.js")),W=s("./app/actionCreators/release.tsx"),K=s("./app/api.tsx"),ee=s("./app/components/button.tsx"),te=s("./app/components/buttonBar.tsx"),se=s("./app/components/confirm.tsx"),re=s("./app/components/dropdownLink.tsx"),oe=s("./app/components/idBadge/projectBadge.tsx"),ne=s("./app/components/menuItem.tsx"),ae=s("./app/components/textOverflow.tsx"),le=s("./app/views/releases/utils/index.tsx"),ie=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function ue(e){var t=e.orgSlug,s=e.projectSlug,r=e.release,o=e.releaseMeta,n=e.refetchData;function a(){return(a=(0,X.Z)(J().mark((function e(){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,W.VE)(new K.KU,{orgSlug:t,projectSlug:s,releaseVersion:r.version});case 3:$.browserHistory.push("/organizations/".concat(t,"/releases/")),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function l(){return(l=(0,X.Z)(J().mark((function e(){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,W.aQ)(new K.KU,{orgSlug:t,projectSlug:s,releaseVersion:r.version});case 3:n(),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function i(e){return(0,ie.tZ)("h4",{children:(0,ie.tZ)(ae.Z,{children:e})})}function u(e){return(0,ie.BX)(m.Fragment,{children:[e,(0,ie.tZ)(pe,{children:(t=o.projects.slice(0,5),s=o.projects.length-t.length,(0,ie.BX)(m.Fragment,{children:[t.map((function(e){return(0,ie.tZ)(oe.Z,{project:e,avatarSize:18},e.slug)})),s>0&&(0,ie.tZ)("span",{children:(0,ie.BX)(Q.Z,{title:r.projects.slice(5).map((function(e){return e.slug})).join(", "),children:["+ ",(0,O.tn)("%s other project","%s other projects",s)]})})]}))}),(0,O.t)("Are you sure you want to do this?")]});var t,s}return(0,ie.tZ)(te.Z,{gap:1,children:(0,ie.tZ)(de,{caret:!1,anchorRight:window.innerWidth>992,title:(0,ie.tZ)(ce,{icon:(0,ie.tZ)(R.YR,{}),label:(0,O.t)("Actions")}),children:(0,le.rF)(r)?(0,ie.tZ)(se.Z,{onConfirm:function(){return l.apply(this,arguments)},header:i((0,O._N)("Restore Release [release]",{release:(0,k.ko)(r.version)})),message:u((0,O.tn)("You are restoring this release for the following project:","By restoring this release, you are also restoring it for the following projects:",o.projects.length)),cancelText:(0,O.t)("Nevermind"),confirmText:(0,O.t)("Restore"),children:(0,ie.tZ)(ne.Z,{children:(0,O.t)("Restore")})}):(0,ie.tZ)(se.Z,{onConfirm:function(){return a.apply(this,arguments)},header:i((0,O._N)("Archive Release [release]",{release:(0,k.ko)(r.version)})),message:u((0,O.tn)("You are archiving this release for the following project:","By archiving this release, you are also archiving it for the following projects:",o.projects.length)),cancelText:(0,O.t)("Nevermind"),confirmText:(0,O.t)("Archive"),children:(0,ie.tZ)(ne.Z,{children:(0,O.t)("Archive")})})})})}ue.displayName="ReleaseActions";var ce=(0,p.Z)(ee.ZP,{target:"e13w85ly2"})({name:"1hdaf3v",styles:"width:40px;height:40px;padding:0"}),de=(0,p.Z)(re.Z,{target:"e13w85ly1"})({name:"1lgqri0",styles:"&+.dropdown-menu{top:50px!important;}"}),pe=(0,p.Z)("div",{target:"e13w85ly0"})("margin:",(0,E.Z)(2)," 0 ",(0,E.Z)(2)," ",(0,E.Z)(2),";display:grid;gap:",(0,E.Z)(.5),";img{border:none!important;box-shadow:none!important;}");const me=ue;var he=function(e){var t=e.location,s=e.organization,r=e.release,o=e.project,n=e.releaseMeta,a=e.refetchData,l=r.version,i=r.url,u=n.commitCount,c=n.commitFilesChanged,d="/organizations/".concat(s.slug,"/releases/").concat(encodeURIComponent(l),"/"),p=[{title:(0,O.t)("Overview"),to:d},{title:(0,ie.BX)(m.Fragment,{children:[(0,O.t)("Commits")," ",(0,ie.tZ)(ve,{text:(0,k.Du)(u)})]}),to:"".concat(d,"commits/")},{title:(0,ie.BX)(m.Fragment,{children:[(0,O.t)("Files Changed"),(0,ie.tZ)(ve,{text:(0,k.Du)(c)})]}),to:"".concat(d,"files-changed/")}];return(0,ie.BX)(H.h4,{children:[(0,ie.BX)(H.oB,{children:[(0,ie.tZ)(A.Z,{crumbs:[{to:"/organizations/".concat(s.slug,"/releases/"),label:(0,O.t)("Releases"),preserveGlobalSelection:!0},{label:(0,k.ko)(l)}]}),(0,ie.tZ)(H.Dx,{children:(0,ie.BX)(fe,{children:[(0,ie.tZ)(M.Z,{project:o,avatarSize:28,hideName:!0}),(0,ie.tZ)(je,{version:l,anchor:!1,truncate:!0}),(0,ie.tZ)(ge,{children:(0,ie.tZ)(F.Z,{value:l,children:(0,ie.tZ)(Q.Z,{title:l,containerDisplayMode:"flex",children:(0,ie.tZ)(R.vU,{})})})}),!!i&&(0,ie.tZ)(ge,{children:(0,ie.tZ)(Q.Z,{title:i,children:(0,ie.tZ)(N.Z,{href:i,children:(0,ie.tZ)(R.V$,{})})})})]})})]}),(0,ie.tZ)(H.kP,{children:(0,ie.tZ)(me,{orgSlug:s.slug,projectSlug:o.slug,release:r,releaseMeta:n,refetchData:a})}),(0,ie.tZ)(m.Fragment,{children:(0,ie.tZ)(ye,{children:p.map((function(e){return(0,ie.tZ)(U.Z,{to:(s=e.to,{pathname:s,query:f()(t.query,Object.values(P.nF))}),isActive:function(){return e.to===t.pathname},children:e.title},e.to);var s}))})})]})};he.displayName="ReleaseHeader";var fe=(0,p.Z)("div",{target:"e4tsdqb4"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),je=(0,p.Z)(Y.Z,{target:"e4tsdqb3"})("margin-left:",(0,E.Z)(1),";"),ge=(0,p.Z)("span",{target:"e4tsdqb2"})("transition:color 0.3s ease-in-out;margin-left:",(0,E.Z)(1),";&,a{color:",(function(e){return e.theme.gray300}),";display:flex;&:hover{cursor:pointer;color:",(function(e){return e.theme.textColor}),";}}"),ye=(0,p.Z)(V.Z,{target:"e4tsdqb1"})({name:"13jhhqe",styles:"margin-bottom:0;width:100%"}),ve=(0,p.Z)(L.Z,{target:"e4tsdqb0"})("@media (max-width: ",(function(e){return e.theme.breakpoints[0]}),"){display:none;}");const be=he;function Ze(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function xe(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(s),!0).forEach((function(t){(0,d.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ze(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function _e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var s,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return(0,u.Z)(this,s)}}var Se=(0,m.createContext)({}),we=function(e){(0,i.Z)(s,e);var t=_e(s);function s(){var e;(0,o.Z)(this,s);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return e=t.call.apply(t,[this].concat(n)),(0,d.Z)((0,a.Z)(e),"shouldReload",!0),e}return(0,n.Z)(s,[{key:"getTitle",value:function(){var e=this.props,t=e.params,s=e.organization,r=e.selection,o=this.state.release,n=null==o?void 0:o.projects.find((function(e){return e.id===r.projects[0]}));return(0,B.Z)((0,O.t)("Release %s",(0,k.ko)(t.release)),s.slug,!1,null==n?void 0:n.slug)}},{key:"getDefaultState",value:function(){return xe(xe({},(0,l.Z)((0,c.Z)(s.prototype),"getDefaultState",this).call(this)),{},{deploys:[],sessions:null})}},{key:"getEndpoints",value:function(){var e,t=this.props,s=t.organization,o=t.location,n=t.params,a=t.releaseMeta,l=t.defaultStatsPeriod,i="/organizations/".concat(s.slug,"/releases/").concat(encodeURIComponent(n.release),"/"),u=[["release",i,{query:xe({},(0,_.Q)(f()(o.query,(0,r.Z)(Object.values(P.nF))),{defaultStatsPeriod:l}))}]];return a.deployCount>0&&u.push(["deploys","".concat(i,"deploys/")]),u.push(["sessions","/organizations/".concat(s.slug,"/sessions/"),{query:{project:o.query.project,environment:null!==(e=o.query.environment)&&void 0!==e?e:[],query:'release:"'.concat(n.release,'"'),field:"sum(session)",statsPeriod:"90d",interval:"1d"}}]),u}},{key:"renderError",value:function(){var e,t=Object.values(this.state.errors).find((function(e){return 404===(null==e?void 0:e.status)||403===(null==e?void 0:e.status)}));if(t)return(0,ie.tZ)(C.JH,{children:(0,ie.tZ)(y.Z,{type:"error",icon:(0,ie.tZ)(R.FC,{}),children:(0,O.t)("This release may not be in your selected project.")})});for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(e=(0,l.Z)((0,c.Z)(s.prototype),"renderError",this)).call.apply(e,[this].concat(o))}},{key:"renderLoading",value:function(){return(0,ie.tZ)(C.JH,{children:(0,ie.tZ)(Z.Z,{})})}},{key:"renderBody",value:function(){var e=this.props,t=e.organization,s=e.location,r=e.selection,o=e.releaseMeta,n=e.defaultStatsPeriod,a=e.getHealthData,l=e.isHealthLoading,i=this.state,u=i.release,c=i.deploys,d=i.sessions,p=i.reloading,m=null==u?void 0:u.projects.find((function(e){return e.id===r.projects[0]}));return m&&u?(0,ie.tZ)(b.Z,{organization:t,children:(0,ie.BX)(Re,{children:[(0,ie.tZ)(be,{location:s,organization:t,release:u,project:m,releaseMeta:o,refetchData:this.fetchData}),(0,ie.tZ)(Se.Provider,{value:{release:u,project:m,deploys:c,releaseMeta:o,refetchData:this.fetchData,defaultStatsPeriod:n,getHealthData:a,isHealthLoading:l,hasHealthData:!(null==d||!d.groups[0].totals["sum(session)"])},children:this.props.children})]})}):p?(0,ie.tZ)(Z.Z,{}):null}}]),s}(z.Z),Pe=function(e){(0,i.Z)(s,e);var t=_e(s);function s(){var e;(0,o.Z)(this,s);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return e=t.call.apply(t,[this].concat(n)),(0,d.Z)((0,a.Z)(e),"shouldReload",!0),e}return(0,n.Z)(s,[{key:"getEndpoints",value:function(){var e=this.props,t=e.organization,s=e.params;return[["releaseMeta","/organizations/".concat(t.slug,"/releases/").concat(encodeURIComponent(s.release),"/meta/")]]}},{key:"renderError",value:function(){var e,t=Object.values(this.state.errors).find((function(e){return 404===(null==e?void 0:e.status)}));if(t)return(0,ie.tZ)(C.JH,{children:(0,ie.tZ)(y.Z,{type:"error",icon:(0,ie.tZ)(R.FC,{}),children:(0,O.t)("This release could not be found.")})});for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(e=(0,l.Z)((0,c.Z)(s.prototype),"renderError",this)).call.apply(e,[this].concat(o))}},{key:"isProjectMissingInUrl",value:function(){var e=this.props.location.query.project;return!e||"string"!=typeof e}},{key:"renderLoading",value:function(){return(0,ie.tZ)(C.JH,{children:(0,ie.tZ)(Z.Z,{})})}},{key:"renderProjectsFooterMessage",value:function(){return(0,ie.BX)(Oe,{children:[(0,ie.tZ)(R.aU,{size:"xs"})," ",(0,O.t)("Only projects with this release are visible.")]})}},{key:"renderBody",value:function(){var e=this,t=this.props,s=t.organization,r=t.params,o=t.router,n=t.location,a=t.selection,l=this.state.releaseMeta;if(!l)return null;var i=l.projects,u=g()(l.released).isAfter(g()().subtract(24,"hours"))?"24h":w.GY;return this.isProjectMissingInUrl()?(0,ie.tZ)(S.Z,{projects:i.map((function(e){var t=e.id,s=e.slug;return{id:String(t),slug:s}})),router:o,nextPath:{pathname:"/organizations/".concat(s.slug,"/releases/").concat(encodeURIComponent(r.release),"/")},noProjectRedirectPath:"/organizations/".concat(s.slug,"/releases/")}):(0,ie.tZ)(x.Z,{lockedMessageSubject:(0,O.t)("release"),shouldForceProject:1===i.length,forceProject:1===i.length?xe(xe({},i[0]),{},{id:String(i[0].id)}):void 0,specificProjectSlugs:i.map((function(e){return e.slug})),disableMultipleProjectSelection:!0,showProjectSettingsLink:!0,projectsFooterMessage:this.renderProjectsFooterMessage(),defaultSelection:{datetime:{start:null,end:null,utc:!1,period:u}},children:(0,ie.tZ)(q.Z,{releases:[r.release],organization:s,selection:a,location:n,display:[I.zY.SESSIONS,I.zY.USERS],defaultStatsPeriod:u,children:function(t){var s=t.isHealthLoading,r=t.getHealthData;return(0,ie.tZ)(we,xe(xe({},e.props),{},{releaseMeta:l,defaultStatsPeriod:u,getHealthData:r,isHealthLoading:s}))}})})}}]),s}(v.Z),Re=(0,p.Z)(C.JH,{target:"eii7qn31"})({name:"1hcx8jb",styles:"padding:0"}),Oe=(0,p.Z)("div",{target:"eii7qn30"})("display:grid;align-items:center;grid-template-columns:min-content 1fr;grid-gap:",(0,E.Z)(1),";");const Ce=(0,T.Z)((0,D.Z)(Pe))},"./app/views/releases/list/utils.tsx":(e,t,s)=>{"use strict";var r,o,n;s.d(t,{Y7:()=>r,zY:()=>o,L4:()=>n}),function(e){e.CRASH_FREE_USERS="crash_free_users",e.CRASH_FREE_SESSIONS="crash_free_sessions",e.USERS_24_HOURS="users_24h",e.SESSIONS="sessions",e.DATE="date"}(r||(r={})),function(e){e.USERS="users",e.SESSIONS="sessions"}(o||(o={})),function(e){e.ACTIVE="active",e.ARCHIVED="archived"}(n||(n={}))},"./app/views/releases/utils/index.tsx":(e,t,s)=>{"use strict";s.d(t,{G5:()=>c,Mf:()=>d,zB:()=>p,PS:()=>m,eY:()=>h,rF:()=>f,gs:()=>j});var r=s("../node_modules/lodash/round.js"),o=s.n(r),n=s("./app/locale.tsx"),a=s("./app/types/index.tsx"),l=s("./app/utils/tokenizeSearch.tsx"),i=s("./app/views/issueList/utils.tsx"),u=s("./app/views/releases/list/utils.tsx"),c=function(e){return o()(e,e>60?0:3)},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:95,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;return o()(e,e>t?s:0)},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:95,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;if(isNaN(e))return"―";if(e<1&&e>0)return"<1%";var r=d(e,t,s).toLocaleString();return"".concat(r,"%")},m=function(e,t,s){return{pathname:"/organizations/".concat(e,"/issues/"),query:{project:t,statsPeriod:void 0,start:void 0,end:void 0,query:(0,l.gZ)(new l.an(["firstRelease:".concat(s)])),sort:i.qh.FREQ}}},h=function(e,t,s){return{pathname:"/organizations/".concat(e,"/issues/"),query:{project:t,query:(0,l.gZ)(new l.an(["release:".concat(s),"error.unhandled:true"])),sort:i.qh.FREQ}}},f=function(e){return e.status===a.dE.Archived};function j(e,t){return e===u.zY.USERS?(0,n.tn)("user","users",t):(0,n.tn)("session","sessions",t)}},"./app/views/releases/utils/releaseHealthRequest.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>F}),s("../node_modules/core-js/modules/es.reflect.construct.js"),s("../node_modules/core-js/modules/es.object.keys.js"),s("../node_modules/core-js/modules/es.symbol.js"),s("../node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("../node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),s("../node_modules/core-js/modules/es.object.define-properties.js"),s("../node_modules/core-js/modules/es.object.define-property.js");var r=s("../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),o=s("../node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),n=s("../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),a=s("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),l=s("../node_modules/@babel/runtime/helpers/esm/createClass.js"),i=s("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),u=s("../node_modules/@babel/runtime/helpers/esm/inherits.js"),c=s("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),d=s("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),p=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),m=s("../node_modules/@babel/runtime/regenerator/index.js"),h=s.n(m),f=(s("../node_modules/core-js/modules/es.array.for-each.js"),s("../node_modules/core-js/modules/web.dom-collections.for-each.js"),s("../node_modules/core-js/modules/es.array.concat.js"),s("../node_modules/core-js/modules/es.array.iterator.js"),s("../node_modules/core-js/modules/es.object.to-string.js"),s("../node_modules/core-js/modules/es.promise.js"),s("../node_modules/core-js/modules/es.string.iterator.js"),s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/core-js/modules/es.array.find.js"),s("../node_modules/core-js/modules/es.array.filter.js"),s("../node_modules/core-js/modules/es.array.reduce.js"),s("../node_modules/core-js/modules/es.array.map.js"),s("../node_modules/core-js/modules/es.object.values.js"),s("../node_modules/core-js/modules/es.set.js"),s("../node_modules/react/index.js")),j=s("../node_modules/lodash/isEqual.js"),g=s.n(j),y=s("../node_modules/lodash/omit.js"),v=s.n(y),b=s("../node_modules/lodash/pick.js"),Z=s.n(b),x=s("../node_modules/moment/moment.js"),_=s.n(x),S=s("./app/actionCreators/indicator.tsx"),w=s("./app/components/charts/utils.tsx"),P=s("./app/components/organizations/globalSelectionHeader/getParams.tsx"),R=s("./app/constants/globalSelectionHeader.tsx"),O=s("./app/locale.tsx"),C=s("./app/types/index.tsx"),E=s("./app/utils.tsx"),k=s("./app/utils/tokenizeSearch.tsx"),B=s("./app/utils/withApi.tsx"),T=s("./app/views/releases/list/utils.tsx"),D=s("./app/views/releases/utils/index.tsx");function z(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function I(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?z(Object(s),!0).forEach((function(t){(0,p.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):z(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function q(e){return v()(e,["api","organization","children","selection.datetime.utc","location"])}function L(e,t,s){var r;return null===(r=t.series[s])||void 0===r||r.forEach((function(t,s){var r;return e[s]=(null!==(r=e[s])&&void 0!==r?r:0)+t})),e}var A=function(e){(0,u.Z)(b,e);var t,s,m,f,j,y,v=(j=b,y=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,d.Z)(j);if(y){var s=(0,d.Z)(this).constructor;e=Reflect.construct(t,arguments,s)}else e=t.apply(this,arguments);return(0,c.Z)(this,e)});function b(){var e;(0,a.Z)(this,b);for(var t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return e=v.call.apply(v,[this].concat(s)),(0,p.Z)((0,i.Z)(e),"state",{loading:!1,errored:!1,statusCountByReleaseInPeriod:null,totalCountByReleaseIn24h:null,totalCountByProjectIn24h:null,statusCountByProjectInPeriod:null}),(0,p.Z)((0,i.Z)(e),"fetchData",(0,n.Z)(h().mark((function t(){var s,r,n,a,l,i,u,c,d,p,m,f;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.props,r=s.api,n=s.healthStatsPeriod,r.clear(),e.setState({loading:!0,errored:!1,statusCountByReleaseInPeriod:null,totalCountByReleaseIn24h:null,totalCountByProjectIn24h:null}),a=[e.fetchStatusCountByReleaseInPeriod(),e.fetchTotalCountByReleaseIn24h(),e.fetchTotalCountByProjectIn24h()],n===C.$A.AUTO&&a.push(e.fetchStatusCountByProjectInPeriod()),t.prev=5,t.next=8,Promise.all(a);case 8:l=t.sent,i=(0,o.Z)(l,4),u=i[0],c=i[1],d=i[2],p=i[3],e.setState({loading:!1,statusCountByReleaseInPeriod:u,totalCountByReleaseIn24h:c,totalCountByProjectIn24h:d,statusCountByProjectInPeriod:p}),t.next=21;break;case 17:t.prev=17,t.t0=t.catch(5),(0,S.Iw)(null!==(m=null===(f=t.t0.responseJSON)||void 0===f?void 0:f.detail)&&void 0!==m?m:(0,O.t)("Error loading health data")),e.setState({loading:!1,errored:!0});case 21:case"end":return t.stop()}}),t,null,[[5,17]])})))),(0,p.Z)((0,i.Z)(e),"getHealthData",(function(){return{getCrashCount:e.getCrashCount,getCrashFreeRate:e.getCrashFreeRate,get24hCountByRelease:e.get24hCountByRelease,get24hCountByProject:e.get24hCountByProject,getTimeSeries:e.getTimeSeries,getAdoption:e.getAdoption}})),(0,p.Z)((0,i.Z)(e),"getCrashCount",(function(t,s,r){var o,n=e.state.statusCountByReleaseInPeriod,a=e.displayToField(r);return null==n||null===(o=n.groups.find((function(e){var r=e.by;return r.release===t&&r.project===s&&"crashed"===r["session.status"]})))||void 0===o?void 0:o.totals[a]})),(0,p.Z)((0,i.Z)(e),"getCrashFreeRate",(function(t,s,r){var o,n=e.state.statusCountByReleaseInPeriod,a=e.displayToField(r),l=null==n||null===(o=n.groups.filter((function(e){var r=e.by;return r.release===t&&r.project===s})))||void 0===o?void 0:o.reduce((function(e,t){return e+t.totals[a]}),0),i=e.getCrashCount(t,s,r);return(0,E.ri)(l)&&0!==l?(0,D.Mf)(100-(0,E.aQ)(null!=i?i:0,null!=l?l:0)):null})),(0,p.Z)((0,i.Z)(e),"get24hCountByRelease",(function(t,s,r){var o,n=e.state.totalCountByReleaseIn24h,a=e.displayToField(r);return null==n||null===(o=n.groups.filter((function(e){var r=e.by;return r.release===t&&r.project===s})))||void 0===o?void 0:o.reduce((function(e,t){return e+t.totals[a]}),0)})),(0,p.Z)((0,i.Z)(e),"get24hCountByProject",(function(t,s){var r,o=e.state.totalCountByProjectIn24h,n=e.displayToField(s);return null==o||null===(r=o.groups.filter((function(e){return e.by.project===t})))||void 0===r?void 0:r.reduce((function(e,t){return e+t.totals[n]}),0)})),(0,p.Z)((0,i.Z)(e),"getTimeSeries",(function(t,s,r){return e.props.healthStatsPeriod===C.$A.AUTO?e.getPeriodTimeSeries(t,s,r):e.get24hTimeSeries(t,s,r)})),(0,p.Z)((0,i.Z)(e),"get24hTimeSeries",(function(t,s,r){var o,n,a,l=e.state,i=l.totalCountByReleaseIn24h,u=l.totalCountByProjectIn24h,c=e.displayToField(r),d=null!==(o=null==u?void 0:u.intervals)&&void 0!==o?o:[],p=null==u||null===(n=u.groups.find((function(e){return e.by.project===s})))||void 0===n?void 0:n.series[c],m=null==i||null===(a=i.groups.find((function(e){var r=e.by;return r.project===s&&r.release===t})))||void 0===a?void 0:a.series[c];return[{seriesName:(0,O.t)("This Release"),data:null==d?void 0:d.map((function(e,t){var s;return{name:_()(e).valueOf(),value:null!==(s=null==m?void 0:m[t])&&void 0!==s?s:0}}))},{seriesName:(0,O.t)("Total Project"),data:null==d?void 0:d.map((function(e,t){var s;return{name:_()(e).valueOf(),value:null!==(s=null==p?void 0:p[t])&&void 0!==s?s:0}})),z:0}]})),(0,p.Z)((0,i.Z)(e),"getPeriodTimeSeries",(function(t,s,r){var o,n,a,l=e.state,i=l.statusCountByReleaseInPeriod,u=l.statusCountByProjectInPeriod,c=e.displayToField(r),d=null!==(o=null==u?void 0:u.intervals)&&void 0!==o?o:[],p=null==u||null===(n=u.groups.filter((function(e){return e.by.project===s})))||void 0===n?void 0:n.reduce((function(e,t){return L(e,t,c)}),[]),m=null==i||null===(a=i.groups.filter((function(e){var r=e.by;return r.project===s&&r.release===t})))||void 0===a?void 0:a.reduce((function(e,t){return L(e,t,c)}),[]);return[{seriesName:(0,O.t)("This Release"),data:null==d?void 0:d.map((function(e,t){var s;return{name:_()(e).valueOf(),value:null!==(s=null==m?void 0:m[t])&&void 0!==s?s:0}}))},{seriesName:(0,O.t)("Total Project"),data:null==d?void 0:d.map((function(e,t){var s;return{name:_()(e).valueOf(),value:null!==(s=null==p?void 0:p[t])&&void 0!==s?s:0}})),z:0}]})),(0,p.Z)((0,i.Z)(e),"getAdoption",(function(t,s,r){var o=e.get24hCountByRelease(t,s,r),n=e.get24hCountByProject(s,r);return(0,E.ri)(o)&&(0,E.ri)(n)?(0,E.aQ)(o,n):void 0})),e}return(0,l.Z)(b,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentDidUpdate",value:function(e){this.props.releasesReloading||g()(q(e),q(this.props))||this.fetchData()}},{key:"path",get:function(){var e=this.props.organization;return"/organizations/".concat(e.slug,"/sessions/")}},{key:"baseQueryParams",get:function(){var e,t,s=this.props,r=s.location,o=s.selection,n=s.defaultStatsPeriod,a=s.releases;return I({query:(0,k.gZ)(new k.an(a.reduce((function(e,t,s,r){return e.push('release:"'.concat(t,'"')),s<r.length-1&&e.push("OR"),e}),[]))),interval:(e=o.datetime,t=(0,w.Nm)(e),t>=w.$i?"1d":t>=w.IZ?"6h":t>w.w3?"4h":"1h")},(0,P.Q)(Z()(r.query,Object.values(R.nF)),{defaultStatsPeriod:n}))}},{key:"fetchStatusCountByReleaseInPeriod",value:(f=(0,n.Z)(h().mark((function e(){var t,s,o,n,a=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,s=t.api,o=t.display,e.next=3,s.requestPromise(this.path,{query:I(I({},this.baseQueryParams),{},{field:(0,r.Z)(new Set([].concat((0,r.Z)(o.map((function(e){return a.displayToField(e)}))),["sum(session)"]))),groupBy:["project","release","session.status"]})});case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"fetchStatusCountByProjectInPeriod",value:(m=(0,n.Z)(h().mark((function e(){var t,s,o,n,a=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,s=t.api,o=t.display,e.next=3,s.requestPromise(this.path,{query:I(I({},this.baseQueryParams),{},{query:void 0,field:(0,r.Z)(new Set([].concat((0,r.Z)(o.map((function(e){return a.displayToField(e)}))),["sum(session)"]))),groupBy:["project","session.status"]})});case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)})},{key:"fetchTotalCountByReleaseIn24h",value:(s=(0,n.Z)(h().mark((function e(){var t,s,r,o,n=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,s=t.api,r=t.display,e.next=3,s.requestPromise(this.path,{query:I(I({},this.baseQueryParams),{},{field:r.map((function(e){return n.displayToField(e)})),groupBy:["project","release"],interval:"1h",statsPeriod:"24h"})});case 3:return o=e.sent,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"fetchTotalCountByProjectIn24h",value:(t=(0,n.Z)(h().mark((function e(){var t,s,r,o,n=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,s=t.api,r=t.display,e.next=3,s.requestPromise(this.path,{query:I(I({},this.baseQueryParams),{},{query:void 0,field:r.map((function(e){return n.displayToField(e)})),groupBy:["project"],interval:"1h",statsPeriod:"24h"})});case 3:return o=e.sent,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"displayToField",value:function(e){switch(e){case T.zY.USERS:return"count_unique(user)";case T.zY.SESSIONS:default:return"sum(session)"}}},{key:"render",value:function(){var e=this.state,t=e.loading,s=e.errored;return(0,this.props.children)({isHealthLoading:t,errored:s,getHealthData:this.getHealthData()})}}]),b}(f.Component);A.displayName="ReleaseHealthRequest";const F=(0,B.Z)(A)}}]);
//# sourceMappingURL=app_views_releases_detail_index_tsx.js.map