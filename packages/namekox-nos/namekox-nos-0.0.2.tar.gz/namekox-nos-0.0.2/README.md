# Install
```shell script
pip install -U namekox-nos
```

# Example
```python
#! -*- coding: utf-8 -*-
#
# author: forcemain@163.com

import uuid
import base64

from tempfile import TemporaryFile
from namekox_webserver.core.entrypoints import app
from namekox_nos.core.dependencies import NosHelper

OK = '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'


class Ping(object):
    name = 'user'

    nos = NosHelper('ping')

    @app.api('/v1/ping', methods=['GET'])
    def pong(self, request):
        bucket = 'portal-bucket'
        fileid = str(uuid.uuid4())
        temp = TemporaryFile()
        temp.write(base64.b64decode(OK))
        temp.seek(0)
        head = {'Content-Type': 'image/jpeg'}
        self.nos.client.put_object(bucket,
                                   fileid,
                                   temp,
                                   meta_data=head)
        temp.close()
        return self.nos.gen_url(bucket, fileid, ttl=365 * 24 * 60 * 60)
```

# Running
> config.yaml
```yaml
WEBSERVER:
  host: 0.0.0.0
  port: 80
NOS:
  ping:
    timeout: 1
    max_retries: 0
    enable_ssl: false
    end_point: nos.domain.com
    access_key_id: access_key_id
    access_key_secret: access_key_secret
```
> namekox run ping

# Testing
> curl http://127.0.0.1/v1/ping
```
{
	"errs": {},
	"code": "Request:Success",
	"data": "http://portal-bucket.nos.domain.com/6968ebb2-c034-4266-bbeb-1180f5d5054e?NOSAccessKeyId=7ff9674bca824697ad7c0b8e5a3b074d&&Expires=1619857798&Signature=UjAFuCwvr4wcY25OfUvBAhZn2o4%2Bb95e3tLltJq7tKE%3D",
	"call_id": "9112b4fa-b487-43e5-a857-e36523a5d664"
}
```
